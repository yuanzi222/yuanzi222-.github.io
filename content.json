{"meta":{"title":"å…ƒå­çš„åšå®¢","subtitle":"å…ƒå­çš„åšå®¢","description":"åšè‡ªå·±çˆ±åšçš„äº‹ï¼Œçˆ±è‡ªå·±åœ¨åšçš„äº‹ï¼","author":"xueyya","url":"https://yuanzi222.com"},"pages":[{"title":"å¹´è½»ä¸æ€•å—ä¼¤ï¼Œé‡å¤´å†æ¥ã€‚","date":"2018-07-27T03:00:28.000Z","updated":"2020-01-02T09:35:25.133Z","comments":true,"path":"about/index.html","permalink":"https://yuanzi222.com/about/index.html","excerpt":"","text":""},{"title":"categories","date":"2018-07-27T02:57:39.000Z","updated":"2020-01-02T09:33:48.465Z","comments":true,"path":"categories/index.html","permalink":"https://yuanzi222.com/categories/index.html","excerpt":"","text":""},{"title":"contact","date":"2018-07-27T02:57:39.000Z","updated":"2020-01-02T09:45:08.288Z","comments":true,"path":"contact/index.html","permalink":"https://yuanzi222.com/contact/index.html","excerpt":"","text":""},{"title":"friends","date":"2018-12-13T15:43:47.000Z","updated":"2020-01-03T03:39:38.086Z","comments":true,"path":"friends/index.html","permalink":"https://yuanzi222.com/friends/index.html","excerpt":"","text":""},{"title":"tags","date":"2018-07-27T02:59:57.000Z","updated":"2020-01-02T09:33:10.094Z","comments":true,"path":"tags/index.html","permalink":"https://yuanzi222.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"RocketMQå…¥é—¨æ€»ç»“","slug":"RocketMQå…¥é—¨æ€»ç»“","date":"2020-01-17T07:25:58.000Z","updated":"2020-01-17T08:40:51.438Z","comments":true,"path":"RocketMQå…¥é—¨æ€»ç»“.html","link":"","permalink":"https://yuanzi222.com/RocketMQå…¥é—¨æ€»ç»“.html","excerpt":"","text":"æœ¬æ–‡ç”± FrancisQ è€å“¥æŠ•ç¨¿ï¼åŸæ–‡åœ°å€ï¼šhttps://juejin.im/post/5df0825b51882512420af94aæ–‡ç« å¾ˆé•¿ï¼Œç‚¹èµå†çœ‹ï¼Œå…»æˆå¥½ä¹ æƒ¯ æ¶ˆæ¯é˜Ÿåˆ—æ‰«ç›²æ¶ˆæ¯é˜Ÿåˆ—é¡¾åæ€ä¹‰å°±æ˜¯å­˜æ”¾æ¶ˆæ¯çš„é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—æˆ‘å°±ä¸è§£é‡Šäº†ï¼Œåˆ«å‘Šè¯‰æˆ‘ä½ è¿é˜Ÿåˆ—éƒ½ä¸çŸ¥é“ä¼¼å•¥å§ï¼Ÿ æ‰€ä»¥é—®é¢˜å¹¶ä¸æ˜¯æ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä»€ä¹ˆï¼Œè€Œæ˜¯&nbsp;æ¶ˆæ¯é˜Ÿåˆ—ä¸ºä»€ä¹ˆä¼šå‡ºç°ï¼Ÿæ¶ˆæ¯é˜Ÿåˆ—èƒ½ç”¨æ¥å¹²ä»€ä¹ˆï¼Ÿç”¨å®ƒæ¥å¹²è¿™äº›äº‹ä¼šå¸¦æ¥ä»€ä¹ˆå¥½å¤„ï¼Ÿæ¶ˆæ¯é˜Ÿåˆ—ä¼šå¸¦æ¥å‰¯ä½œç”¨å—ï¼Ÿ æ¶ˆæ¯é˜Ÿåˆ—ä¸ºä»€ä¹ˆä¼šå‡ºç°ï¼Ÿæ¶ˆæ¯é˜Ÿåˆ—ç®—æ˜¯ä½œä¸ºåç«¯ç¨‹åºå‘˜çš„ä¸€ä¸ªå¿…å¤‡æŠ€èƒ½å§ï¼Œå› ä¸ºåˆ†å¸ƒå¼åº”ç”¨å¿…å®šæ¶‰åŠåˆ°å„ä¸ªç³»ç»Ÿä¹‹é—´çš„é€šä¿¡é—®é¢˜ï¼Œè¿™ä¸ªæ—¶å€™æ¶ˆæ¯é˜Ÿåˆ—ä¹Ÿåº”è¿è€Œç”Ÿäº†ã€‚å¯ä»¥è¯´åˆ†å¸ƒå¼çš„äº§ç”Ÿæ˜¯æ¶ˆæ¯é˜Ÿåˆ—çš„åŸºç¡€ï¼Œè€Œåˆ†å¸ƒå¼æ€•æ˜¯ä¸€ä¸ªå¾ˆå¤è€çš„æ¦‚å¿µäº†å§ï¼Œæ‰€ä»¥æ¶ˆæ¯é˜Ÿåˆ—ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¤è€çš„ä¸­é—´ä»¶äº†ã€‚ æ¶ˆæ¯é˜Ÿåˆ—èƒ½ç”¨æ¥å¹²ä»€ä¹ˆï¼Ÿå¼‚æ­¥ä½ å¯èƒ½ä¼šåé©³æˆ‘ï¼Œåº”ç”¨ä¹‹é—´çš„é€šä¿¡åˆä¸æ˜¯åªèƒ½ç”±æ¶ˆæ¯é˜Ÿåˆ—è§£å†³ï¼Œå¥½å¥½çš„é€šä¿¡ä¸ºä»€ä¹ˆä¸­é—´éè¦æ’ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—å‘¢ï¼Ÿæˆ‘ä¸èƒ½ç›´æ¥è¿›è¡Œé€šä¿¡å—ï¼Ÿ å¾ˆå¥½ï¼Œä½ åˆæå‡ºäº†ä¸€ä¸ªæ¦‚å¿µï¼ŒåŒæ­¥é€šä¿¡ã€‚å°±æ¯”å¦‚ç°åœ¨ä¸šç•Œä½¿ç”¨æ¯”è¾ƒå¤šçš„&nbsp;Dubbo&nbsp;å°±æ˜¯ä¸€ä¸ªé€‚ç”¨äºå„ä¸ªç³»ç»Ÿä¹‹é—´åŒæ­¥é€šä¿¡çš„&nbsp;RPC&nbsp;æ¡†æ¶ã€‚ æˆ‘æ¥ä¸¾ä¸ªä¾‹å­å§ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªè´­ç¥¨ç³»ç»Ÿï¼Œéœ€æ±‚æ˜¯ç”¨æˆ·åœ¨è´­ä¹°å®Œä¹‹åèƒ½æ¥æ”¶åˆ°è´­ä¹°å®Œæˆçš„çŸ­ä¿¡ã€‚æˆ‘ä»¬çœç•¥ä¸­é—´çš„ç½‘ç»œé€šä¿¡æ—¶é—´æ¶ˆè€—ï¼Œå‡å¦‚è´­ç¥¨ç³»ç»Ÿå¤„ç†éœ€è¦ 150ms ï¼ŒçŸ­ä¿¡ç³»ç»Ÿå¤„ç†éœ€è¦ 200ms ï¼Œé‚£ä¹ˆæ•´ä¸ªå¤„ç†æµç¨‹çš„æ—¶é—´æ¶ˆè€—å°±æ˜¯ 150ms + 200ms = 350msã€‚ å½“ç„¶ï¼Œä¹çœ‹æ²¡ä»€ä¹ˆé—®é¢˜ã€‚å¯æ˜¯ä»”ç»†ä¸€æƒ³ä½ å°±æ„Ÿè§‰æœ‰ç‚¹é—®é¢˜ï¼Œæˆ‘ç”¨æˆ·è´­ç¥¨åœ¨è´­ç¥¨ç³»ç»Ÿçš„æ—¶å€™å…¶å®å°±å·²ç»å®Œæˆäº†è´­ä¹°ï¼Œè€Œæˆ‘ç°åœ¨é€šè¿‡åŒæ­¥è°ƒç”¨éè¦è®©æ•´ä¸ªè¯·æ±‚æ‹‰é•¿æ—¶é—´ï¼Œè€ŒçŸ­æ¯ç³»ç»Ÿè¿™ç©æ„åˆä¸æ˜¯å¾ˆæœ‰å¿…è¦ï¼Œå®ƒä»…ä»…æ˜¯ä¸€ä¸ªè¾…åŠ©åŠŸèƒ½å¢å¼ºç”¨æˆ·ä½“éªŒæ„Ÿè€Œå·²ã€‚æˆ‘ç°åœ¨æ•´ä¸ªè°ƒç”¨æµç¨‹å°±æœ‰ç‚¹&nbsp;å¤´é‡è„šè½»&nbsp;çš„æ„Ÿè§‰äº†ï¼Œè´­ç¥¨æ˜¯ä¸€ä¸ªä¸å¤ªè€—æ—¶çš„æµç¨‹ï¼Œè€Œæˆ‘ç°åœ¨å› ä¸ºåŒæ­¥è°ƒç”¨ï¼Œéè¦ç­‰å¾…å‘é€çŸ­ä¿¡è¿™ä¸ªæ¯”è¾ƒè€—æ—¶çš„æ“ä½œæ‰è¿”å›ç»“æœã€‚é‚£æˆ‘å¦‚æœå†åŠ ä¸€ä¸ªå‘é€é‚®ä»¶å‘¢ï¼Ÿ è¿™æ ·æ•´ä¸ªç³»ç»Ÿçš„è°ƒç”¨é“¾åˆå˜é•¿äº†ï¼Œæ•´ä¸ªæ—¶é—´å°±å˜æˆäº†550msã€‚ å½“æˆ‘ä»¬åœ¨å­¦ç”Ÿæ—¶ä»£éœ€è¦åœ¨é£Ÿå ‚æ’é˜Ÿçš„æ—¶å€™ï¼Œæˆ‘ä»¬å’Œé£Ÿå ‚å¤§å¦ˆå°±æ˜¯ä¸€ä¸ªåŒæ­¥çš„æ¨¡å‹ã€‚ æˆ‘ä»¬éœ€è¦å‘Šè¯‰é£Ÿå ‚å¤§å¦ˆï¼šâ€œå§å§ï¼Œç»™æˆ‘åŠ ä¸ªé¸¡è…¿ï¼Œå†åŠ ä¸ªé…¸è¾£åœŸè±†ä¸ï¼Œå¸®æˆ‘æµ‡ç‚¹æ±ä¸Šå»ï¼Œå¤šæ‰“ç‚¹é¥­å“¦â€ å’¦~~~ ä¸ºäº†å¤šåƒç‚¹ï¼ŒçœŸæ¶å¿ƒã€‚ ç„¶åå¤§å¦ˆå¸®æˆ‘ä»¬æ‰“é¥­é…èœï¼Œæˆ‘ä»¬çœ‹ç€å¤§å¦ˆé‚£é¢¤æŠ–çš„æ‰‹å’Œæ‰è½çš„åœŸè±†ä¸ä¸ç¦å’½äº†å’½å£æ°´ã€‚ æœ€ç»ˆæˆ‘ä»¬ä»å¤§å¦ˆæ‰‹ä¸­æ¥è¿‡é¥­èœç„¶åå»å¯»æ‰¾åº§ä½äº†â€¦ å›æƒ³ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨ç»™å¤§å¦ˆå‘é€éœ€è¦çš„ä¿¡æ¯ä¹‹åæˆ‘ä»¬æ˜¯&nbsp;åŒæ­¥ç­‰å¾…å¤§å¦ˆç»™æˆ‘é…å¥½é¥­èœ&nbsp;çš„ï¼Œä¸Šé¢æˆ‘ä»¬åªæ˜¯åŠ äº†é¸¡è…¿å’ŒåœŸè±†ä¸ï¼Œä¸‡ä¸€æˆ‘å†åŠ ä¸€ä¸ªç•ªèŒ„ç‰›è…©ï¼ŒéŸ­èœé¸¡è›‹ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å¤§å¦ˆæ‰“é¥­é…èœçš„æµç¨‹å°±ä¼šå˜é•¿ï¼Œæˆ‘ä»¬ç­‰å¾…çš„æ—¶é—´ä¹Ÿä¼šç›¸åº”çš„å˜é•¿ã€‚ é‚£åæ¥ï¼Œæˆ‘ä»¬å·¥ä½œèµšé’±äº†æœ‰é’±å»é¥­åº—åƒé¥­äº†ï¼Œæˆ‘ä»¬å‘Šè¯‰æœåŠ¡å‘˜æ¥ä¸€ç¢—ç‰›è‚‰é¢åŠ ä¸ªè·åŒ…è›‹&nbsp;(ä¼ è¾¾ä¸€ä¸ªæ¶ˆæ¯)&nbsp;ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥åœ¨é¥­æ¡Œä¸Šå®‰å¿ƒçš„ç©æ‰‹æœºäº†&nbsp;(å¹²è‡ªå·±å…¶ä»–äº‹æƒ…)&nbsp;ï¼Œç­‰åˆ°æˆ‘ä»¬çš„ç‰›è‚‰é¢ä¸Šäº†æˆ‘ä»¬å°±å¯ä»¥åƒäº†ã€‚è¿™å…¶ä¸­æˆ‘ä»¬ä¹Ÿå°±ä¼ è¾¾äº†ä¸€ä¸ªæ¶ˆæ¯ï¼Œç„¶åæˆ‘ä»¬åˆè½¬è¿‡å¤´å¹²å…¶ä»–äº‹æƒ…äº†ã€‚è¿™å…¶ä¸­è™½ç„¶åšé¢çš„æ—¶é—´æ²¡æœ‰å˜çŸ­ï¼Œä½†æ˜¯æˆ‘ä»¬åªéœ€è¦ä¼ è¾¾ä¸€ä¸ªæ¶ˆæ¯å°±å¯ä»¥çœ‹å…¶ä»–äº‹æƒ…äº†ï¼Œè¿™æ˜¯ä¸€ä¸ª&nbsp;å¼‚æ­¥&nbsp;çš„æ¦‚å¿µã€‚ æ‰€ä»¥ï¼Œä¸ºäº†è§£å†³è¿™ä¸€ä¸ªé—®é¢˜ï¼Œèªæ˜çš„ç¨‹åºå‘˜åœ¨ä¸­é—´ä¹ŸåŠ äº†ä¸ªç±»ä¼¼äºæœåŠ¡å‘˜çš„ä¸­é—´ä»¶â€”â€”æ¶ˆæ¯é˜Ÿåˆ—ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥æŠŠæ¨¡å‹ç»™æ”¹é€ äº†ã€‚ è¿™æ ·ï¼Œæˆ‘ä»¬åœ¨å°†æ¶ˆæ¯å­˜å…¥æ¶ˆæ¯é˜Ÿåˆ—ä¹‹åæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è¿”å›äº†(æˆ‘ä»¬å‘Šè¯‰æœåŠ¡å‘˜æˆ‘ä»¬è¦åƒä»€ä¹ˆç„¶åç©æ‰‹æœº)ï¼Œæ‰€ä»¥æ•´ä¸ªè€—æ—¶åªæ˜¯ 150ms + 10ms = 160msã€‚ ä½†æ˜¯ä½ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ•´ä¸ªæµç¨‹çš„æ—¶é•¿æ˜¯æ²¡å˜çš„ï¼Œå°±åƒä½ ä»…ä»…å‘Šè¯‰æœåŠ¡å‘˜è¦åƒä»€ä¹ˆæ˜¯ä¸ä¼šå½±å“åˆ°åšé¢çš„é€Ÿåº¦çš„ã€‚ è§£è€¦å›åˆ°æœ€åˆåŒæ­¥è°ƒç”¨çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å†™ä¸ªä¼ªä»£ç ç®€å•æ¦‚æ‹¬ä¸€ä¸‹ã€‚ é‚£ä¹ˆç¬¬äºŒæ­¥ï¼Œæˆ‘ä»¬åˆæ·»åŠ äº†ä¸€ä¸ªå‘é€é‚®ä»¶ï¼Œæˆ‘ä»¬å°±å¾—é‡æ–°å»ä¿®æ”¹ä»£ç ï¼Œå¦‚æœæˆ‘ä»¬åˆåŠ ä¸€ä¸ªéœ€æ±‚ï¼šç”¨æˆ·è´­ä¹°å®Œè¿˜éœ€è¦ç»™ä»–åŠ ç§¯åˆ†ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ˜¯ä¸æ˜¯åˆå¾—æ”¹ä»£ç ï¼Ÿ å¦‚æœä½ è§‰å¾—è¿˜è¡Œï¼Œé‚£ä¹ˆæˆ‘è¿™ä¸ªæ—¶å€™ä¸è¦å‘é‚®ä»¶è¿™ä¸ªæœåŠ¡äº†å‘¢ï¼Œæˆ‘æ˜¯ä¸æ˜¯åˆå¾—æ”¹ä»£ç ï¼Œåˆå¾—é‡å¯åº”ç”¨ï¼Ÿ è¿™æ ·æ”¹æ¥æ”¹å»æ˜¯ä¸æ˜¯å¾ˆéº»çƒ¦ï¼Œé‚£ä¹ˆ&nbsp;æ­¤æ—¶æˆ‘ä»¬å°±ç”¨ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—åœ¨ä¸­é—´è¿›è¡Œè§£è€¦&nbsp;ã€‚ä½ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬åé¢çš„å‘é€çŸ­ä¿¡ã€å‘é€é‚®ä»¶ã€æ·»åŠ ç§¯åˆ†ç­‰ä¸€äº›æ“ä½œéƒ½ä¾èµ–äºä¸Šé¢çš„&nbsp;result&nbsp;ï¼Œè¿™ä¸œè¥¿æŠ½è±¡å‡ºæ¥å°±æ˜¯è´­ç¥¨çš„å¤„ç†ç»“æœå‘€ï¼Œæ¯”å¦‚è®¢å•å·ï¼Œç”¨æˆ·è´¦å·ç­‰ç­‰ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åé¢çš„ä¸€ç³»åˆ—æœåŠ¡éƒ½æ˜¯éœ€è¦åŒæ ·çš„æ¶ˆæ¯æ¥è¿›è¡Œå¤„ç†ã€‚æ—¢ç„¶è¿™æ ·ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡&nbsp;â€œå¹¿æ’­æ¶ˆæ¯â€&nbsp;æ¥å®ç°ã€‚ æˆ‘ä¸Šé¢æ‰€è®²çš„â€œå¹¿æ’­â€å¹¶ä¸æ˜¯çœŸæ­£çš„å¹¿æ’­ï¼Œè€Œæ˜¯æ¥ä¸‹æ¥çš„ç³»ç»Ÿä½œä¸ºæ¶ˆè´¹è€…å»&nbsp;è®¢é˜…&nbsp;ç‰¹å®šçš„ä¸»é¢˜ã€‚æ¯”å¦‚æˆ‘ä»¬è¿™é‡Œçš„ä¸»é¢˜å°±å¯ä»¥å«åš&nbsp;è®¢ç¥¨&nbsp;ï¼Œæˆ‘ä»¬è´­ä¹°ç³»ç»Ÿä½œä¸ºä¸€ä¸ªç”Ÿäº§è€…å»ç”Ÿäº§è¿™æ¡æ¶ˆæ¯æ”¾å…¥æ¶ˆæ¯é˜Ÿåˆ—ï¼Œç„¶åæ¶ˆè´¹è€…è®¢é˜…äº†è¿™ä¸ªä¸»é¢˜ï¼Œä¼šä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­æ‹‰å–æ¶ˆæ¯å¹¶æ¶ˆè´¹ã€‚å°±æ¯”å¦‚æˆ‘ä»¬åˆšåˆšç”»çš„é‚£å¼ å›¾ï¼Œä½ ä¼šå‘ç°ï¼Œåœ¨ç”Ÿäº§è€…è¿™è¾¹æˆ‘ä»¬åªéœ€è¦å…³æ³¨&nbsp;ç”Ÿäº§æ¶ˆæ¯åˆ°æŒ‡å®šä¸»é¢˜ä¸­&nbsp;ï¼Œè€Œ&nbsp;æ¶ˆè´¹è€…åªéœ€è¦å…³æ³¨ä»æŒ‡å®šä¸»é¢˜ä¸­æ‹‰å–æ¶ˆæ¯&nbsp;å°±è¡Œäº†ã€‚å¦‚æœæ²¡æœ‰æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ¯å½“ä¸€ä¸ªæ–°çš„ä¸šåŠ¡æ¥å…¥ï¼Œæˆ‘ä»¬éƒ½è¦åœ¨ä¸»ç³»ç»Ÿè°ƒç”¨æ–°æ¥å£ã€æˆ–è€…å½“æˆ‘ä»¬å–æ¶ˆæŸäº›ä¸šåŠ¡ï¼Œæˆ‘ä»¬ä¹Ÿå¾—åœ¨ä¸»ç³»ç»Ÿåˆ é™¤æŸäº›æ¥å£è°ƒç”¨ã€‚æœ‰äº†æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæˆ‘ä»¬åªéœ€è¦å…³å¿ƒæ¶ˆæ¯æ˜¯å¦é€è¾¾äº†é˜Ÿåˆ—ï¼Œè‡³äºè°å¸Œæœ›è®¢é˜…ï¼Œæ¥ä¸‹æ¥æ”¶åˆ°æ¶ˆæ¯å¦‚ä½•å¤„ç†ï¼Œæ˜¯ä¸‹æ¸¸çš„äº‹æƒ…ï¼Œæ— ç–‘æå¤§åœ°å‡å°‘äº†å¼€å‘å’Œè”è°ƒçš„å·¥ä½œé‡ã€‚ å‰Šå³°æˆ‘ä»¬å†æ¬¡å›åˆ°ä¸€å¼€å§‹æˆ‘ä»¬ä½¿ç”¨åŒæ­¥è°ƒç”¨ç³»ç»Ÿçš„æƒ…å†µï¼Œå¹¶ä¸”æ€è€ƒä¸€ä¸‹ï¼Œå¦‚æœæ­¤æ—¶æœ‰å¤§é‡ç”¨æˆ·è¯·æ±‚è´­ç¥¨æ•´ä¸ªç³»ç»Ÿä¼šå˜æˆä»€ä¹ˆæ ·ï¼Ÿ å¦‚æœï¼Œæ­¤æ—¶æœ‰ä¸€ä¸‡çš„è¯·æ±‚è¿›å…¥è´­ç¥¨ç³»ç»Ÿï¼Œæˆ‘ä»¬çŸ¥é“è¿è¡Œæˆ‘ä»¬ä¸»ä¸šåŠ¡çš„æœåŠ¡å™¨é…ç½®ä¸€èˆ¬ä¼šæ¯”è¾ƒå¥½ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å‡è®¾è´­ç¥¨ç³»ç»Ÿèƒ½æ‰¿å—è¿™ä¸€ä¸‡çš„ç”¨æˆ·è¯·æ±‚ï¼Œé‚£ä¹ˆä¹Ÿå°±æ„å‘³ç€æˆ‘ä»¬åŒæ—¶ä¹Ÿä¼šå‡ºç°ä¸€ä¸‡è°ƒç”¨å‘çŸ­ä¿¡æœåŠ¡çš„è¯·æ±‚ã€‚è€Œå¯¹äºçŸ­ä¿¡ç³»ç»Ÿæ¥è¯´å¹¶ä¸æ˜¯æˆ‘ä»¬çš„ä¸»è¦ä¸šåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬é…å¤‡çš„ç¡¬ä»¶èµ„æºå¹¶ä¸ä¼šå¤ªé«˜ï¼Œé‚£ä¹ˆä½ è§‰å¾—ç°åœ¨è¿™ä¸ªçŸ­ä¿¡ç³»ç»Ÿèƒ½æ‰¿å—è¿™ä¸€ä¸‡çš„å³°å€¼ä¹ˆï¼Œä¸”ä¸è¯´èƒ½ä¸èƒ½æ‰¿å—ï¼Œç³»ç»Ÿä¼šä¸ä¼š&nbsp;ç›´æ¥å´©æºƒ&nbsp;äº†ï¼Ÿ çŸ­ä¿¡ä¸šåŠ¡åˆä¸æ˜¯æˆ‘ä»¬çš„ä¸»ä¸šåŠ¡ï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½&nbsp;æŠ˜ä¸­å¤„ç†&nbsp;å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬æŠŠè´­ä¹°å®Œæˆçš„ä¿¡æ¯å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œè€ŒçŸ­ä¿¡ç³»ç»Ÿ&nbsp;å°½è‡ªå·±æ‰€èƒ½åœ°å»æ¶ˆæ¯é˜Ÿåˆ—ä¸­å–æ¶ˆæ¯å’Œæ¶ˆè´¹æ¶ˆæ¯&nbsp;ï¼Œå³ä½¿å¤„ç†é€Ÿåº¦æ…¢ä¸€ç‚¹ä¹Ÿæ— æ‰€è°“ï¼Œåªè¦æˆ‘ä»¬çš„ç³»ç»Ÿæ²¡æœ‰å´©æºƒå°±è¡Œäº†ã€‚ ç•™å¾—æ±Ÿå±±åœ¨ï¼Œè¿˜æ€•æ²¡æŸ´çƒ§ï¼Ÿä½ æ•¢è¯´æ¯æ¬¡å‘é€éªŒè¯ç çš„æ—¶å€™æ˜¯ä¸€å‘ä½ å°±æ”¶åˆ°äº†çš„ä¹ˆï¼Ÿ æ¶ˆæ¯é˜Ÿåˆ—èƒ½å¸¦æ¥ä»€ä¹ˆå¥½å¤„ï¼Ÿå…¶å®ä¸Šé¢æˆ‘å·²ç»è¯´äº†ã€‚å¼‚æ­¥ã€è§£è€¦ã€å‰Šå³°ã€‚&nbsp;å“ªæ€•ä½ ä¸Šé¢çš„éƒ½æ²¡çœ‹æ‡‚ä¹Ÿåƒä¸‡è¦è®°ä½è¿™å…­ä¸ªå­—ï¼Œå› ä¸ºä»–ä¸ä»…æ˜¯æ¶ˆæ¯é˜Ÿåˆ—çš„ç²¾åï¼Œæ›´æ˜¯ç¼–ç¨‹å’Œæ¶æ„çš„ç²¾åã€‚ æ¶ˆæ¯é˜Ÿåˆ—ä¼šå¸¦æ¥å‰¯ä½œç”¨å—ï¼Ÿæ²¡æœ‰å“ªä¸€é—¨æŠ€æœ¯æ˜¯â€œé“¶å¼¹â€ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¹Ÿæœ‰å®ƒçš„å‰¯ä½œç”¨ã€‚ æ¯”å¦‚ï¼Œæœ¬æ¥å¥½å¥½çš„ä¸¤ä¸ªç³»ç»Ÿä¹‹é—´çš„è°ƒç”¨ï¼Œæˆ‘ä¸­é—´åŠ äº†ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¦‚æœæ¶ˆæ¯é˜Ÿåˆ—æŒ‚äº†æ€ä¹ˆåŠå‘¢ï¼Ÿæ˜¯ä¸æ˜¯&nbsp;é™ä½äº†ç³»ç»Ÿçš„å¯ç”¨æ€§&nbsp;ï¼Ÿ é‚£è¿™æ ·æ˜¯ä¸æ˜¯è¦ä¿è¯HA(é«˜å¯ç”¨)ï¼Ÿæ˜¯ä¸æ˜¯è¦æé›†ç¾¤ï¼Ÿé‚£ä¹ˆæˆ‘&nbsp;æ•´ä¸ªç³»ç»Ÿçš„å¤æ‚åº¦æ˜¯ä¸æ˜¯ä¸Šå‡äº†&nbsp;ï¼Ÿ æŠ›å¼€ä¸Šé¢çš„é—®é¢˜ä¸è®²ï¼Œä¸‡ä¸€æˆ‘å‘é€æ–¹å‘é€å¤±è´¥äº†ï¼Œç„¶åæ‰§è¡Œé‡è¯•ï¼Œè¿™æ ·å°±å¯èƒ½äº§ç”Ÿé‡å¤çš„æ¶ˆæ¯ã€‚ æˆ–è€…æˆ‘æ¶ˆè´¹ç«¯å¤„ç†å¤±è´¥äº†ï¼Œè¯·æ±‚é‡å‘ï¼Œè¿™æ ·ä¹Ÿä¼šäº§ç”Ÿé‡å¤çš„æ¶ˆæ¯ã€‚ å¯¹äºä¸€äº›å¾®æœåŠ¡æ¥è¯´ï¼Œæ¶ˆè´¹é‡å¤æ¶ˆæ¯ä¼šå¸¦æ¥æ›´å¤§çš„éº»çƒ¦ï¼Œæ¯”å¦‚å¢åŠ ç§¯åˆ†ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘åŠ äº†å¤šæ¬¡æ˜¯ä¸æ˜¯å¯¹å…¶ä»–ç”¨æˆ·ä¸å…¬å¹³ï¼Ÿ é‚£ä¹ˆï¼Œåˆ&nbsp;å¦‚ä½•è§£å†³é‡å¤æ¶ˆè´¹æ¶ˆæ¯çš„é—®é¢˜&nbsp;å‘¢ï¼Ÿ å¦‚æœæˆ‘ä»¬æ­¤æ—¶çš„æ¶ˆæ¯éœ€è¦ä¿è¯ä¸¥æ ¼çš„é¡ºåºæ€§æ€ä¹ˆåŠå‘¢ï¼Ÿæ¯”å¦‚ç”Ÿäº§è€…ç”Ÿäº§äº†ä¸€ç³»åˆ—çš„æœ‰åºæ¶ˆæ¯(å¯¹ä¸€ä¸ªidä¸º1çš„è®°å½•è¿›è¡Œåˆ é™¤å¢åŠ ä¿®æ”¹)ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“åœ¨å‘å¸ƒè®¢é˜…æ¨¡å‹ä¸­ï¼Œå¯¹äºä¸»é¢˜æ˜¯æ— é¡ºåºçš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±ä¼šå¯¼è‡´å¯¹äºæ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯çš„æ—¶å€™æ²¡æœ‰æŒ‰ç…§ç”Ÿäº§è€…çš„å‘é€é¡ºåºæ¶ˆè´¹ï¼Œæ¯”å¦‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ¶ˆè´¹çš„é¡ºåºä¸ºä¿®æ”¹åˆ é™¤å¢åŠ ï¼Œå¦‚æœè¯¥è®°å½•æ¶‰åŠåˆ°é‡‘é¢çš„è¯æ˜¯ä¸æ˜¯ä¼šå‡ºå¤§äº‹æƒ…ï¼Ÿ é‚£ä¹ˆï¼Œåˆ&nbsp;å¦‚ä½•è§£å†³æ¶ˆæ¯çš„é¡ºåºæ¶ˆè´¹é—®é¢˜&nbsp;å‘¢ï¼Ÿ å°±æ‹¿æˆ‘ä»¬ä¸Šé¢æ‰€è®²çš„åˆ†å¸ƒå¼ç³»ç»Ÿæ¥è¯´ï¼Œç”¨æˆ·è´­ç¥¨å®Œæˆä¹‹åæ˜¯ä¸æ˜¯éœ€è¦å¢åŠ è´¦æˆ·ç§¯åˆ†ï¼Ÿåœ¨åŒä¸€ä¸ªç³»ç»Ÿä¸­æˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨äº‹åŠ¡æ¥è¿›è¡Œè§£å†³ï¼Œå¦‚æœç”¨&nbsp;Spring&nbsp;çš„è¯æˆ‘ä»¬åœ¨ä¸Šé¢ä¼ªä»£ç ä¸­åŠ å…¥&nbsp;@Transactional&nbsp;æ³¨è§£å°±å¥½äº†ã€‚ä½†æ˜¯åœ¨ä¸åŒç³»ç»Ÿä¸­å¦‚ä½•ä¿è¯äº‹åŠ¡å‘¢ï¼Ÿæ€»ä¸èƒ½è¿™ä¸ªç³»ç»Ÿæˆ‘æ‰£é’±æˆåŠŸäº†ä½ é‚£ç§¯åˆ†ç³»ç»Ÿç§¯åˆ†æ²¡åŠ å§ï¼Ÿæˆ–è€…è¯´æˆ‘è¿™æ‰£é’±æ˜æ˜å¤±è´¥äº†ï¼Œä½ é‚£ç§¯åˆ†ç³»ç»Ÿç»™æˆ‘åŠ äº†ç§¯åˆ†ã€‚ é‚£ä¹ˆï¼Œåˆå¦‚ä½•&nbsp;è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜&nbsp;å‘¢ï¼Ÿ æˆ‘ä»¬åˆšåˆšè¯´äº†ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥è¿›è¡Œå‰Šå³°æ“ä½œï¼Œé‚£å¦‚æœæˆ‘çš„æ¶ˆè´¹è€…å¦‚æœæ¶ˆè´¹å¾ˆæ…¢æˆ–è€…ç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯å¾ˆå¿«ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯ä¼šå°†æ¶ˆæ¯å †ç§¯åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Ÿ é‚£ä¹ˆï¼Œåˆå¦‚ä½•&nbsp;è§£å†³æ¶ˆæ¯å †ç§¯çš„é—®é¢˜&nbsp;å‘¢ï¼Ÿ å¯ç”¨æ€§é™ä½ï¼Œå¤æ‚åº¦ä¸Šå‡ï¼Œåˆå¸¦æ¥ä¸€ç³»åˆ—çš„é‡å¤æ¶ˆè´¹ï¼Œé¡ºåºæ¶ˆè´¹ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡ï¼Œæ¶ˆæ¯å †ç§¯çš„é—®é¢˜ï¼Œè¿™æ¶ˆæ¯é˜Ÿåˆ—è¿˜æ€ä¹ˆç”¨å•Šï¼Ÿ åˆ«æ€¥ï¼ŒåŠæ³•æ€»æ˜¯æœ‰çš„ã€‚ RocketMQæ˜¯ä»€ä¹ˆï¼Ÿ å“‡ï¼Œä½ ä¸ªæ··è›‹ï¼ä¸Šé¢ç»™æˆ‘æŠ›å‡ºé‚£ä¹ˆå¤šé—®é¢˜ï¼Œä½ ç°åœ¨åˆè®²&nbsp;RocketMQ&nbsp;ï¼Œè¿˜è®©ä¸è®©äººæ´»äº†ï¼Ÿï¼ åˆ«æ€¥åˆ«æ€¥ï¼Œè¯è¯´ä½ ç°åœ¨æ¸…æ¥š&nbsp;MQ&nbsp;çš„æ„é€ å—ï¼Œæˆ‘è¿˜æ²¡è®²å‘¢ï¼Œæˆ‘ä»¬å…ˆææ˜ç™½&nbsp;MQ&nbsp;çš„å†…éƒ¨æ„é€ ï¼Œå†æ¥çœ‹çœ‹å¦‚ä½•è§£å†³ä¸Šé¢çš„ä¸€ç³»åˆ—é—®é¢˜å§ï¼Œä¸è¿‡ä½ æœ€å¥½å¸¦ç€é—®é¢˜å»é˜…è¯»å’Œäº†è§£å–”ã€‚ RocketMQ&nbsp;æ˜¯ä¸€ä¸ª&nbsp;é˜Ÿåˆ—æ¨¡å‹&nbsp;çš„æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œå…·æœ‰é«˜æ€§èƒ½ã€é«˜å¯é ã€é«˜å®æ—¶ã€åˆ†å¸ƒå¼&nbsp;çš„ç‰¹ç‚¹ã€‚å®ƒæ˜¯ä¸€ä¸ªé‡‡ç”¨&nbsp;Java&nbsp;è¯­è¨€å¼€å‘çš„åˆ†å¸ƒå¼çš„æ¶ˆæ¯ç³»ç»Ÿï¼Œç”±é˜¿é‡Œå·´å·´å›¢é˜Ÿå¼€å‘ï¼Œåœ¨2016å¹´åº•è´¡çŒ®ç»™&nbsp;Apacheï¼Œæˆä¸ºäº†&nbsp;Apache&nbsp;çš„ä¸€ä¸ªé¡¶çº§é¡¹ç›®ã€‚åœ¨é˜¿é‡Œå†…éƒ¨ï¼ŒRocketMQ&nbsp;å¾ˆå¥½åœ°æœåŠ¡äº†é›†å›¢å¤§å¤§å°å°ä¸Šåƒä¸ªåº”ç”¨ï¼Œåœ¨æ¯å¹´çš„åŒåä¸€å½“å¤©ï¼Œæ›´æœ‰ä¸å¯æ€è®®çš„ä¸‡äº¿çº§æ¶ˆæ¯é€šè¿‡&nbsp;RocketMQ&nbsp;æµè½¬ã€‚ åºŸè¯ä¸å¤šè¯´ï¼Œæƒ³è¦äº†è§£&nbsp;RocketMQ&nbsp;å†å²çš„åŒå­¦å¯ä»¥è‡ªå·±å»æœå¯»èµ„æ–™ã€‚å¬å®Œä¸Šé¢çš„ä»‹ç»ï¼Œä½ åªè¦çŸ¥é“&nbsp;RocketMQ&nbsp;å¾ˆå¿«ã€å¾ˆç‰›ã€è€Œä¸”ç»å†è¿‡åŒåä¸€çš„å®è·µå°±è¡Œäº†ï¼ é˜Ÿåˆ—æ¨¡å‹å’Œä¸»é¢˜æ¨¡å‹åœ¨è°ˆ&nbsp;RocketMQ&nbsp;çš„æŠ€æœ¯æ¶æ„ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ä¸¤ä¸ªåè¯æ¦‚å¿µâ€”â€”é˜Ÿåˆ—æ¨¡å‹&nbsp;å’Œ&nbsp;ä¸»é¢˜æ¨¡å‹&nbsp;ã€‚ é¦–å…ˆæˆ‘é—®ä¸€ä¸ªé—®é¢˜ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¸ºä»€ä¹ˆè¦å«æ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ ä½ å¯èƒ½è§‰å¾—å¾ˆå¼±æ™ºï¼Œè¿™ç©æ„ä¸å°±æ˜¯å­˜æ”¾æ¶ˆæ¯çš„é˜Ÿåˆ—å˜›ï¼Ÿä¸å«æ¶ˆæ¯é˜Ÿåˆ—å«ä»€ä¹ˆï¼Ÿ çš„ç¡®ï¼Œæ—©æœŸçš„æ¶ˆæ¯ä¸­é—´ä»¶æ˜¯é€šè¿‡&nbsp;é˜Ÿåˆ—&nbsp;è¿™ä¸€æ¨¡å‹æ¥å®ç°çš„ï¼Œå¯èƒ½æ˜¯å†å²åŸå› ï¼Œæˆ‘ä»¬éƒ½ä¹ æƒ¯æŠŠæ¶ˆæ¯ä¸­é—´ä»¶æˆä¸ºæ¶ˆæ¯é˜Ÿåˆ—ã€‚ ä½†æ˜¯ï¼Œå¦‚ä»Šä¾‹å¦‚&nbsp;RocketMQ&nbsp;ã€Kafka&nbsp;è¿™äº›ä¼˜ç§€çš„æ¶ˆæ¯ä¸­é—´ä»¶ä¸ä»…ä»…æ˜¯é€šè¿‡ä¸€ä¸ª&nbsp;é˜Ÿåˆ—&nbsp;æ¥å®ç°æ¶ˆæ¯å­˜å‚¨çš„ã€‚ é˜Ÿåˆ—æ¨¡å‹å°±åƒæˆ‘ä»¬ç†è§£é˜Ÿåˆ—ä¸€æ ·ï¼Œæ¶ˆæ¯ä¸­é—´ä»¶çš„é˜Ÿåˆ—æ¨¡å‹å°±çœŸçš„åªæ˜¯ä¸€ä¸ªé˜Ÿåˆ—ã€‚ã€‚ã€‚æˆ‘ç”»ä¸€å¼ å›¾ç»™å¤§å®¶ç†è§£ã€‚ åœ¨ä¸€å¼€å§‹æˆ‘è·Ÿä½ æåˆ°äº†ä¸€ä¸ª&nbsp;â€œå¹¿æ’­â€&nbsp;çš„æ¦‚å¿µï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœæˆ‘ä»¬æ­¤æ—¶æˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªæ¶ˆæ¯å‘é€ç»™å¤šä¸ªæ¶ˆè´¹è€…(æ¯”å¦‚æ­¤æ—¶æˆ‘éœ€è¦å°†ä¿¡æ¯å‘é€ç»™çŸ­ä¿¡ç³»ç»Ÿå’Œé‚®ä»¶ç³»ç»Ÿ)ï¼Œè¿™ä¸ªæ—¶å€™å•ä¸ªé˜Ÿåˆ—å³ä¸èƒ½æ»¡è¶³éœ€æ±‚äº†ã€‚ å½“ç„¶ä½ å¯ä»¥è®©&nbsp;Producer&nbsp;ç”Ÿäº§æ¶ˆæ¯æ”¾å…¥å¤šä¸ªé˜Ÿåˆ—ä¸­ï¼Œç„¶åæ¯ä¸ªé˜Ÿåˆ—å»å¯¹åº”æ¯ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚é—®é¢˜æ˜¯å¯ä»¥è§£å†³ï¼Œåˆ›å»ºå¤šä¸ªé˜Ÿåˆ—å¹¶ä¸”å¤åˆ¶å¤šä»½æ¶ˆæ¯æ˜¯ä¼šå¾ˆå½±å“èµ„æºå’Œæ€§èƒ½çš„ã€‚è€Œä¸”ï¼Œè¿™æ ·å­å°±ä¼šå¯¼è‡´ç”Ÿäº§è€…éœ€è¦çŸ¥é“å…·ä½“æ¶ˆè´¹è€…ä¸ªæ•°ç„¶åå»å¤åˆ¶å¯¹åº”æ•°é‡çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œè¿™å°±è¿èƒŒæˆ‘ä»¬æ¶ˆæ¯ä¸­é—´ä»¶çš„&nbsp;è§£è€¦&nbsp;è¿™ä¸€åŸåˆ™ã€‚ ä¸»é¢˜æ¨¡å‹é‚£ä¹ˆæœ‰æ²¡æœ‰å¥½çš„æ–¹æ³•å»è§£å†³è¿™ä¸€ä¸ªé—®é¢˜å‘¢ï¼Ÿæœ‰ï¼Œé‚£å°±æ˜¯&nbsp;ä¸»é¢˜æ¨¡å‹&nbsp;æˆ–è€…å¯ä»¥ç§°ä¸º&nbsp;å‘å¸ƒè®¢é˜…æ¨¡å‹&nbsp;ã€‚ æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»äº†è§£ä¸€ä¸‹è®¾è®¡æ¨¡å¼é‡Œé¢çš„è§‚å¯Ÿè€…æ¨¡å¼å¹¶ä¸”æ‰‹åŠ¨å®ç°ä¸€ä¸‹ï¼Œæˆ‘ç›¸ä¿¡ä½ ä¼šæœ‰æ‰€æ”¶è·çš„ã€‚ åœ¨ä¸»é¢˜æ¨¡å‹ä¸­ï¼Œæ¶ˆæ¯çš„ç”Ÿäº§è€…ç§°ä¸º&nbsp;å‘å¸ƒè€…(Publisher)&nbsp;ï¼Œæ¶ˆæ¯çš„æ¶ˆè´¹è€…ç§°ä¸º&nbsp;è®¢é˜…è€…(Subscriber)&nbsp;ï¼Œå­˜æ”¾æ¶ˆæ¯çš„å®¹å™¨ç§°ä¸º&nbsp;ä¸»é¢˜(Topic)&nbsp;ã€‚ å…¶ä¸­ï¼Œå‘å¸ƒè€…å°†æ¶ˆæ¯å‘é€åˆ°æŒ‡å®šä¸»é¢˜ä¸­ï¼Œè®¢é˜…è€…éœ€è¦&nbsp;æå‰è®¢é˜…ä¸»é¢˜&nbsp;æ‰èƒ½æ¥å—ç‰¹å®šä¸»é¢˜çš„æ¶ˆæ¯ã€‚ RocketMQä¸­çš„æ¶ˆæ¯æ¨¡å‹RockerMQ&nbsp;ä¸­çš„æ¶ˆæ¯æ¨¡å‹å°±æ˜¯æŒ‰ç…§&nbsp;ä¸»é¢˜æ¨¡å‹&nbsp;æ‰€å®ç°çš„ã€‚ä½ å¯èƒ½ä¼šå¥½å¥‡è¿™ä¸ª&nbsp;ä¸»é¢˜&nbsp;åˆ°åº•æ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿä½ ä¸Šé¢ä¹Ÿæ²¡æœ‰è®²åˆ°å‘€ï¼ å…¶å®å¯¹äºä¸»é¢˜æ¨¡å‹çš„å®ç°æ¥è¯´æ¯ä¸ªæ¶ˆæ¯ä¸­é—´ä»¶çš„åº•å±‚è®¾è®¡éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œå°±æ¯”å¦‚&nbsp;Kafka&nbsp;ä¸­çš„&nbsp;åˆ†åŒº&nbsp;ï¼ŒRocketMQ&nbsp;ä¸­çš„&nbsp;é˜Ÿåˆ—&nbsp;ï¼ŒRabbitMQ&nbsp;ä¸­çš„&nbsp;Exchange&nbsp;ã€‚æˆ‘ä»¬å¯ä»¥ç†è§£ä¸º&nbsp;ä¸»é¢˜æ¨¡å‹/å‘å¸ƒè®¢é˜…æ¨¡å‹&nbsp;å°±æ˜¯ä¸€ä¸ªæ ‡å‡†ï¼Œé‚£äº›ä¸­é—´ä»¶åªä¸è¿‡ç…§ç€è¿™ä¸ªæ ‡å‡†å»å®ç°è€Œå·²ã€‚ æ‰€ä»¥ï¼ŒRocketMQ&nbsp;ä¸­çš„&nbsp;ä¸»é¢˜æ¨¡å‹&nbsp;åˆ°åº•æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿé¦–å…ˆæˆ‘ç”»ä¸€å¼ å›¾ï¼Œå¤§å®¶å°è¯•ç€å»ç†è§£ä¸€ä¸‹ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨æ•´ä¸ªå›¾ä¸­æœ‰&nbsp;Producer Group&nbsp;ã€Topic&nbsp;ã€Consumer Group&nbsp;ä¸‰ä¸ªè§’è‰²ï¼Œæˆ‘æ¥åˆ†åˆ«ä»‹ç»ä¸€ä¸‹ä»–ä»¬ã€‚ Producer Group&nbsp;ç”Ÿäº§è€…ç»„ï¼šä»£è¡¨æŸä¸€ç±»çš„ç”Ÿäº§è€…ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰å¤šä¸ªç§’æ€ç³»ç»Ÿä½œä¸ºç”Ÿäº§è€…ï¼Œè¿™å¤šä¸ªåˆåœ¨ä¸€èµ·å°±æ˜¯ä¸€ä¸ª&nbsp;Producer Group&nbsp;ç”Ÿäº§è€…ç»„ï¼Œå®ƒä»¬ä¸€èˆ¬ç”Ÿäº§ç›¸åŒçš„æ¶ˆæ¯ã€‚ Consumer Group&nbsp;æ¶ˆè´¹è€…ç»„ï¼šä»£è¡¨æŸä¸€ç±»çš„æ¶ˆè´¹è€…ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰å¤šä¸ªçŸ­ä¿¡ç³»ç»Ÿä½œä¸ºæ¶ˆè´¹è€…ï¼Œè¿™å¤šä¸ªåˆåœ¨ä¸€èµ·å°±æ˜¯ä¸€ä¸ª&nbsp;Consumer Group&nbsp;æ¶ˆè´¹è€…ç»„ï¼Œå®ƒä»¬ä¸€èˆ¬æ¶ˆè´¹ç›¸åŒçš„æ¶ˆæ¯ã€‚ Topic&nbsp;ä¸»é¢˜ï¼šä»£è¡¨ä¸€ç±»æ¶ˆæ¯ï¼Œæ¯”å¦‚è®¢å•æ¶ˆæ¯ï¼Œç‰©æµæ¶ˆæ¯ç­‰ç­‰ã€‚ ä½ å¯ä»¥çœ‹åˆ°å›¾ä¸­ç”Ÿäº§è€…ç»„ä¸­çš„ç”Ÿäº§è€…ä¼šå‘ä¸»é¢˜å‘é€æ¶ˆæ¯ï¼Œè€Œ&nbsp;ä¸»é¢˜ä¸­å­˜åœ¨å¤šä¸ªé˜Ÿåˆ—ï¼Œç”Ÿäº§è€…æ¯æ¬¡ç”Ÿäº§æ¶ˆæ¯ä¹‹åæ˜¯æŒ‡å®šä¸»é¢˜ä¸­çš„æŸä¸ªé˜Ÿåˆ—å‘é€æ¶ˆæ¯çš„ã€‚ æ¯ä¸ªä¸»é¢˜ä¸­éƒ½æœ‰å¤šä¸ªé˜Ÿåˆ—(è¿™é‡Œè¿˜ä¸æ¶‰åŠåˆ°&nbsp;Broker)ï¼Œé›†ç¾¤æ¶ˆè´¹æ¨¡å¼ä¸‹ï¼Œä¸€ä¸ªæ¶ˆè´¹è€…é›†ç¾¤å¤šå°æœºå™¨å…±åŒæ¶ˆè´¹ä¸€ä¸ª&nbsp;topic&nbsp;çš„å¤šä¸ªé˜Ÿåˆ—ï¼Œä¸€ä¸ªé˜Ÿåˆ—åªä¼šè¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ã€‚å¦‚æœæŸä¸ªæ¶ˆè´¹è€…æŒ‚æ‰ï¼Œåˆ†ç»„å†…å…¶å®ƒæ¶ˆè´¹è€…ä¼šæ¥æ›¿æŒ‚æ‰çš„æ¶ˆè´¹è€…ç»§ç»­æ¶ˆè´¹ã€‚å°±åƒä¸Šå›¾ä¸­&nbsp;Consumer1&nbsp;å’Œ&nbsp;Consumer2&nbsp;åˆ†åˆ«å¯¹åº”ç€ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œè€Œ&nbsp;Consuer3&nbsp;æ˜¯æ²¡æœ‰é˜Ÿåˆ—å¯¹åº”çš„ï¼Œæ‰€ä»¥ä¸€èˆ¬æ¥è®²è¦æ§åˆ¶&nbsp;æ¶ˆè´¹è€…ç»„ä¸­çš„æ¶ˆè´¹è€…ä¸ªæ•°å’Œä¸»é¢˜ä¸­é˜Ÿåˆ—ä¸ªæ•°ç›¸åŒ&nbsp;ã€‚ å½“ç„¶ä¹Ÿå¯ä»¥æ¶ˆè´¹è€…ä¸ªæ•°å°äºé˜Ÿåˆ—ä¸ªæ•°ï¼Œåªä¸è¿‡ä¸å¤ªå»ºè®®ã€‚å¦‚ä¸‹å›¾ã€‚ æ¯ä¸ªæ¶ˆè´¹ç»„åœ¨æ¯ä¸ªé˜Ÿåˆ—ä¸Šç»´æŠ¤ä¸€ä¸ªæ¶ˆè´¹ä½ç½®&nbsp;ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿ å› ä¸ºæˆ‘ä»¬åˆšåˆšç”»çš„ä»…ä»…æ˜¯ä¸€ä¸ªæ¶ˆè´¹è€…ç»„ï¼Œæˆ‘ä»¬çŸ¥é“åœ¨å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­ä¸€èˆ¬ä¼šæ¶‰åŠåˆ°å¤šä¸ªæ¶ˆè´¹è€…ç»„ï¼Œè€Œæ¯ä¸ªæ¶ˆè´¹è€…ç»„åœ¨æ¯ä¸ªé˜Ÿåˆ—ä¸­çš„æ¶ˆè´¹ä½ç½®éƒ½æ˜¯ä¸åŒçš„ã€‚å¦‚æœæ­¤æ—¶æœ‰å¤šä¸ªæ¶ˆè´¹è€…ç»„ï¼Œé‚£ä¹ˆæ¶ˆæ¯è¢«ä¸€ä¸ªæ¶ˆè´¹è€…ç»„æ¶ˆè´¹å®Œä¹‹åæ˜¯ä¸ä¼šåˆ é™¤çš„(å› ä¸ºå…¶å®ƒæ¶ˆè´¹è€…ç»„ä¹Ÿéœ€è¦å‘€)ï¼Œå®ƒä»…ä»…æ˜¯ä¸ºæ¯ä¸ªæ¶ˆè´¹è€…ç»„ç»´æŠ¤ä¸€ä¸ª&nbsp;æ¶ˆè´¹ä½ç§»(offset)&nbsp;ï¼Œæ¯æ¬¡æ¶ˆè´¹è€…ç»„æ¶ˆè´¹å®Œä¼šè¿”å›ä¸€ä¸ªæˆåŠŸçš„å“åº”ï¼Œç„¶åé˜Ÿåˆ—å†æŠŠç»´æŠ¤çš„æ¶ˆè´¹ä½ç§»åŠ ä¸€ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°åˆšåˆšæ¶ˆè´¹è¿‡çš„æ¶ˆæ¯å†ä¸€æ¬¡è¢«æ¶ˆè´¹äº†ã€‚ å¯èƒ½ä½ è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆä¸€ä¸ªä¸»é¢˜ä¸­éœ€è¦ç»´æŠ¤å¤šä¸ªé˜Ÿåˆ—&nbsp;ï¼Ÿ ç­”æ¡ˆæ˜¯&nbsp;æé«˜å¹¶å‘èƒ½åŠ›&nbsp;ã€‚çš„ç¡®ï¼Œæ¯ä¸ªä¸»é¢˜ä¸­åªå­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¹Ÿæ˜¯å¯è¡Œçš„ã€‚ä½ æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæ¯ä¸ªä¸»é¢˜ä¸­åªå­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè¿™ä¸ªé˜Ÿåˆ—ä¸­ä¹Ÿç»´æŠ¤ç€æ¯ä¸ªæ¶ˆè´¹è€…ç»„çš„æ¶ˆè´¹ä½ç½®ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥åšåˆ°&nbsp;å‘å¸ƒè®¢é˜…æ¨¡å¼&nbsp;ã€‚å¦‚ä¸‹å›¾ã€‚ ä½†æ˜¯ï¼Œè¿™æ ·æˆ‘ç”Ÿäº§è€…æ˜¯ä¸æ˜¯åªèƒ½å‘ä¸€ä¸ªé˜Ÿåˆ—å‘é€æ¶ˆæ¯ï¼Ÿåˆå› ä¸ºéœ€è¦ç»´æŠ¤æ¶ˆè´¹ä½ç½®æ‰€ä»¥ä¸€ä¸ªé˜Ÿåˆ—åªèƒ½å¯¹åº”ä¸€ä¸ªæ¶ˆè´¹è€…ç»„ä¸­çš„æ¶ˆè´¹è€…ï¼Œè¿™æ ·æ˜¯ä¸æ˜¯å…¶ä»–çš„&nbsp;Consumer&nbsp;å°±æ²¡æœ‰ç”¨æ­¦ä¹‹åœ°äº†ï¼Ÿä»è¿™ä¸¤ä¸ªè§’åº¦æ¥è®²ï¼Œå¹¶å‘åº¦ä¸€ä¸‹å­å°±å°äº†å¾ˆå¤šã€‚ æ‰€ä»¥æ€»ç»“æ¥è¯´ï¼ŒRocketMQ&nbsp;é€šè¿‡ä½¿ç”¨åœ¨ä¸€ä¸ª&nbsp;Topic&nbsp;ä¸­é…ç½®å¤šä¸ªé˜Ÿåˆ—å¹¶ä¸”æ¯ä¸ªé˜Ÿåˆ—ç»´æŠ¤æ¯ä¸ªæ¶ˆè´¹è€…ç»„çš„æ¶ˆè´¹ä½ç½®&nbsp;å®ç°äº†&nbsp;ä¸»é¢˜æ¨¡å¼/å‘å¸ƒè®¢é˜…æ¨¡å¼&nbsp;ã€‚ RocketMQçš„æ¶æ„å›¾è®²å®Œäº†æ¶ˆæ¯æ¨¡å‹ï¼Œæˆ‘ä»¬ç†è§£èµ·&nbsp;RocketMQ&nbsp;çš„æŠ€æœ¯æ¶æ„èµ·æ¥å°±å®¹æ˜“å¤šäº†ã€‚ RocketMQ&nbsp;æŠ€æœ¯æ¶æ„ä¸­æœ‰å››å¤§è§’è‰²&nbsp;NameServer&nbsp;ã€Broker&nbsp;ã€Producer&nbsp;ã€Consumer&nbsp;ã€‚æˆ‘æ¥å‘å¤§å®¶åˆ†åˆ«è§£é‡Šä¸€ä¸‹è¿™å››ä¸ªè§’è‰²æ˜¯å¹²å•¥çš„ã€‚ Brokerï¼šä¸»è¦è´Ÿè´£æ¶ˆæ¯çš„å­˜å‚¨ã€æŠ•é€’å’ŒæŸ¥è¯¢ä»¥åŠæœåŠ¡é«˜å¯ç”¨ä¿è¯ã€‚è¯´ç™½äº†å°±æ˜¯æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡å™¨å˜›ï¼Œç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯åˆ°&nbsp;Broker&nbsp;ï¼Œæ¶ˆè´¹è€…ä»&nbsp;Broker&nbsp;æ‹‰å–æ¶ˆæ¯å¹¶æ¶ˆè´¹ã€‚ è¿™é‡Œï¼Œæˆ‘è¿˜å¾—æ™®åŠä¸€ä¸‹å…³äº&nbsp;Broker&nbsp;ã€Topic&nbsp;å’Œ é˜Ÿåˆ—çš„å…³ç³»ã€‚ä¸Šé¢æˆ‘è®²è§£äº†&nbsp;Topic&nbsp;å’Œé˜Ÿåˆ—çš„å…³ç³»â€”â€”ä¸€ä¸ª&nbsp;Topic&nbsp;ä¸­å­˜åœ¨å¤šä¸ªé˜Ÿåˆ—ï¼Œé‚£ä¹ˆè¿™ä¸ª&nbsp;Topic&nbsp;å’Œé˜Ÿåˆ—å­˜æ”¾åœ¨å“ªå‘¢ï¼Ÿ ä¸€ä¸ª&nbsp;Topic&nbsp;åˆ†å¸ƒåœ¨å¤šä¸ª&nbsp;Brokerä¸Šï¼Œä¸€ä¸ª&nbsp;Broker&nbsp;å¯ä»¥é…ç½®å¤šä¸ª&nbsp;Topic&nbsp;ï¼Œå®ƒä»¬æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ã€‚ å¦‚æœæŸä¸ª&nbsp;Topic&nbsp;æ¶ˆæ¯é‡å¾ˆå¤§ï¼Œåº”è¯¥ç»™å®ƒå¤šé…ç½®å‡ ä¸ªé˜Ÿåˆ—(ä¸Šæ–‡ä¸­æåˆ°äº†æé«˜å¹¶å‘èƒ½åŠ›)ï¼Œå¹¶ä¸”&nbsp;å°½é‡å¤šåˆ†å¸ƒåœ¨ä¸åŒ&nbsp;Broker&nbsp;ä¸Šï¼Œä»¥å‡è½»æŸä¸ª&nbsp;Broker&nbsp;çš„å‹åŠ›&nbsp;ã€‚ Topic&nbsp;æ¶ˆæ¯é‡éƒ½æ¯”è¾ƒå‡åŒ€çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæŸä¸ª&nbsp;broker&nbsp;ä¸Šçš„é˜Ÿåˆ—è¶Šå¤šï¼Œåˆ™è¯¥&nbsp;broker&nbsp;å‹åŠ›è¶Šå¤§ã€‚æ‰€ä»¥è¯´æˆ‘ä»¬éœ€è¦é…ç½®å¤šä¸ªBrokerã€‚ NameServerï¼šä¸çŸ¥é“ä½ ä»¬æœ‰æ²¡æœ‰æ¥è§¦è¿‡&nbsp;ZooKeeper&nbsp;å’Œ&nbsp;Spring Cloud&nbsp;ä¸­çš„&nbsp;Eureka&nbsp;ï¼Œå®ƒå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ª&nbsp;æ³¨å†Œä¸­å¿ƒ&nbsp;ï¼Œä¸»è¦æä¾›ä¸¤ä¸ªåŠŸèƒ½ï¼šBrokerç®¡ç†&nbsp;å’Œ&nbsp;è·¯ç”±ä¿¡æ¯ç®¡ç†&nbsp;ã€‚è¯´ç™½äº†å°±æ˜¯&nbsp;Broker&nbsp;ä¼šå°†è‡ªå·±çš„ä¿¡æ¯æ³¨å†Œåˆ°&nbsp;NameServer&nbsp;ä¸­ï¼Œæ­¤æ—¶&nbsp;NameServer&nbsp;å°±å­˜æ”¾äº†å¾ˆå¤š&nbsp;Broker&nbsp;çš„ä¿¡æ¯(Brokerçš„è·¯ç”±è¡¨)ï¼Œæ¶ˆè´¹è€…å’Œç”Ÿäº§è€…å°±ä»&nbsp;NameServer&nbsp;ä¸­è·å–è·¯ç”±è¡¨ç„¶åç…§ç€è·¯ç”±è¡¨çš„ä¿¡æ¯å’Œå¯¹åº”çš„&nbsp;Broker&nbsp;è¿›è¡Œé€šä¿¡(ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å®šæœŸä¼šå‘&nbsp;NameServer&nbsp;å»æŸ¥è¯¢ç›¸å…³çš„&nbsp;Broker&nbsp;çš„ä¿¡æ¯)ã€‚ Producerï¼šæ¶ˆæ¯å‘å¸ƒçš„è§’è‰²ï¼Œæ”¯æŒåˆ†å¸ƒå¼é›†ç¾¤æ–¹å¼éƒ¨ç½²ã€‚è¯´ç™½äº†å°±æ˜¯ç”Ÿäº§è€…ã€‚ Consumerï¼šæ¶ˆæ¯æ¶ˆè´¹çš„è§’è‰²ï¼Œæ”¯æŒåˆ†å¸ƒå¼é›†ç¾¤æ–¹å¼éƒ¨ç½²ã€‚æ”¯æŒä»¥pushæ¨ï¼Œpullæ‹‰ä¸¤ç§æ¨¡å¼å¯¹æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹ã€‚åŒæ—¶ä¹Ÿæ”¯æŒé›†ç¾¤æ–¹å¼å’Œå¹¿æ’­æ–¹å¼çš„æ¶ˆè´¹ï¼Œå®ƒæä¾›å®æ—¶æ¶ˆæ¯è®¢é˜…æœºåˆ¶ã€‚è¯´ç™½äº†å°±æ˜¯æ¶ˆè´¹è€…ã€‚ å¬å®Œäº†ä¸Šé¢çš„è§£é‡Šä½ å¯èƒ½ä¼šè§‰å¾—ï¼Œè¿™ç©æ„å¥½ç®€å•ã€‚ä¸å°±æ˜¯è¿™æ ·çš„ä¹ˆï¼Ÿ å—¯ï¼Ÿä½ å¯èƒ½ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œè¿™è€å®¶ä¼™&nbsp;NameServer&nbsp;å¹²å•¥ç”¨çš„ï¼Œè¿™ä¸å¤šä½™å—ï¼Ÿç›´æ¥&nbsp;Producer&nbsp;ã€Consumer&nbsp;å’Œ&nbsp;Broker&nbsp;ç›´æ¥è¿›è¡Œç”Ÿäº§æ¶ˆæ¯ï¼Œæ¶ˆè´¹æ¶ˆæ¯ä¸å°±å¥½äº†ä¹ˆï¼Ÿ ä½†æ˜¯ï¼Œæˆ‘ä»¬ä¸Šæ–‡æåˆ°è¿‡&nbsp;Broker&nbsp;æ˜¯éœ€è¦ä¿è¯é«˜å¯ç”¨çš„ï¼Œå¦‚æœæ•´ä¸ªç³»ç»Ÿä»…ä»…é ç€ä¸€ä¸ª&nbsp;Broker&nbsp;æ¥ç»´æŒçš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ª&nbsp;Broker&nbsp;çš„å‹åŠ›ä¼šä¸ä¼šå¾ˆå¤§ï¼Ÿæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨å¤šä¸ª&nbsp;Broker&nbsp;æ¥ä¿è¯&nbsp;è´Ÿè½½å‡è¡¡&nbsp;ã€‚ å¦‚æœè¯´ï¼Œæˆ‘ä»¬çš„æ¶ˆè´¹è€…å’Œç”Ÿäº§è€…ç›´æ¥å’Œå¤šä¸ª&nbsp;Broker&nbsp;ç›¸è¿ï¼Œé‚£ä¹ˆå½“&nbsp;Broker&nbsp;ä¿®æ”¹çš„æ—¶å€™å¿…å®šä¼šç‰µè¿ç€æ¯ä¸ªç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼Œè¿™æ ·å°±ä¼šäº§ç”Ÿè€¦åˆé—®é¢˜ï¼Œè€Œ&nbsp;NameServer&nbsp;æ³¨å†Œä¸­å¿ƒå°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜çš„ã€‚ å¦‚æœè¿˜ä¸æ˜¯å¾ˆç†è§£çš„è¯ï¼Œå¯ä»¥å»çœ‹æˆ‘ä»‹ç»&nbsp;Spring Cloud&nbsp;çš„é‚£ç¯‡æ–‡ç« ï¼Œå…¶ä¸­ä»‹ç»äº†&nbsp;Eureka&nbsp;æ³¨å†Œä¸­å¿ƒã€‚ å½“ç„¶ï¼ŒRocketMQ&nbsp;ä¸­çš„æŠ€æœ¯æ¶æ„è‚¯å®šä¸æ­¢å‰é¢é‚£ä¹ˆç®€å•ï¼Œå› ä¸ºä¸Šé¢å›¾ä¸­çš„å››ä¸ªè§’è‰²éƒ½æ˜¯éœ€è¦åšé›†ç¾¤çš„ã€‚æˆ‘ç»™å‡ºä¸€å¼ å®˜ç½‘çš„æ¶æ„å›¾ï¼Œå¤§å®¶å°è¯•ç†è§£ä¸€ä¸‹ã€‚ å…¶å®å’Œæˆ‘ä»¬æœ€å¼€å§‹ç”»çš„é‚£å¼ ä¹ä¸ç‰ˆçš„æ¶æ„å›¾ä¹Ÿæ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä¸»è¦æ˜¯ä¸€äº›ç»†èŠ‚ä¸Šçš„å·®åˆ«ã€‚å¬æˆ‘ç»†ç»†é“æ¥ã€‚ ç¬¬ä¸€ã€æˆ‘ä»¬çš„&nbsp;Broker&nbsp;åšäº†é›†ç¾¤å¹¶ä¸”è¿˜è¿›è¡Œäº†ä¸»ä»éƒ¨ç½²&nbsp;ï¼Œç”±äºæ¶ˆæ¯åˆ†å¸ƒåœ¨å„ä¸ª&nbsp;Broker&nbsp;ä¸Šï¼Œä¸€æ—¦æŸä¸ª&nbsp;Broker&nbsp;å®•æœºï¼Œåˆ™è¯¥Broker&nbsp;ä¸Šçš„æ¶ˆæ¯è¯»å†™éƒ½ä¼šå—åˆ°å½±å“ã€‚æ‰€ä»¥&nbsp;Rocketmq&nbsp;æä¾›äº†&nbsp;master/slave&nbsp;çš„ç»“æ„ï¼Œsalve&nbsp;å®šæ—¶ä»&nbsp;master&nbsp;åŒæ­¥æ•°æ®(åŒæ­¥åˆ·ç›˜æˆ–è€…å¼‚æ­¥åˆ·ç›˜)ï¼Œå¦‚æœ&nbsp;master&nbsp;å®•æœºï¼Œåˆ™&nbsp;slave&nbsp;æä¾›æ¶ˆè´¹æœåŠ¡ï¼Œä½†æ˜¯ä¸èƒ½å†™å…¥æ¶ˆæ¯&nbsp;(åé¢æˆ‘è¿˜ä¼šæåˆ°å“¦)ã€‚ ç¬¬äºŒã€ä¸ºäº†ä¿è¯&nbsp;HA&nbsp;ï¼Œæˆ‘ä»¬çš„&nbsp;NameServer&nbsp;ä¹Ÿåšäº†é›†ç¾¤éƒ¨ç½²ï¼Œä½†æ˜¯è¯·æ³¨æ„å®ƒæ˜¯&nbsp;å»ä¸­å¿ƒåŒ–&nbsp;çš„ã€‚ä¹Ÿå°±æ„å‘³ç€å®ƒæ²¡æœ‰ä¸»èŠ‚ç‚¹ï¼Œä½ å¯ä»¥å¾ˆæ˜æ˜¾åœ°çœ‹å‡º&nbsp;NameServer&nbsp;çš„æ‰€æœ‰èŠ‚ç‚¹æ˜¯æ²¡æœ‰è¿›è¡Œ&nbsp;Info Replicate&nbsp;çš„ï¼Œåœ¨&nbsp;RocketMQ&nbsp;ä¸­æ˜¯é€šè¿‡&nbsp;å•ä¸ªBrokerå’Œæ‰€æœ‰NameServerä¿æŒé•¿è¿æ¥&nbsp;ï¼Œå¹¶ä¸”åœ¨æ¯éš”30ç§’&nbsp;Broker&nbsp;ä¼šå‘æ‰€æœ‰&nbsp;Nameserver&nbsp;å‘é€å¿ƒè·³ï¼Œå¿ƒè·³åŒ…å«äº†è‡ªèº«çš„&nbsp;Topic&nbsp;é…ç½®ä¿¡æ¯ï¼Œè¿™ä¸ªæ­¥éª¤å°±å¯¹åº”è¿™ä¸Šé¢çš„&nbsp;Routing Info&nbsp;ã€‚ ç¬¬ä¸‰ã€åœ¨ç”Ÿäº§è€…éœ€è¦å‘&nbsp;Broker&nbsp;å‘é€æ¶ˆæ¯çš„æ—¶å€™ï¼Œéœ€è¦å…ˆä»&nbsp;NameServer&nbsp;è·å–å…³äº&nbsp;Broker&nbsp;çš„è·¯ç”±ä¿¡æ¯ï¼Œç„¶åé€šè¿‡&nbsp;è½®è¯¢&nbsp;çš„æ–¹æ³•å»å‘æ¯ä¸ªé˜Ÿåˆ—ä¸­ç”Ÿäº§æ•°æ®ä»¥è¾¾åˆ°&nbsp;è´Ÿè½½å‡è¡¡&nbsp;çš„æ•ˆæœã€‚ ç¬¬å››ã€æ¶ˆè´¹è€…é€šè¿‡&nbsp;NameServer&nbsp;è·å–æ‰€æœ‰&nbsp;Broker&nbsp;çš„è·¯ç”±ä¿¡æ¯åï¼Œå‘&nbsp;Broker&nbsp;å‘é€&nbsp;Pull&nbsp;è¯·æ±‚æ¥è·å–æ¶ˆæ¯æ•°æ®ã€‚Consumer&nbsp;å¯ä»¥ä»¥ä¸¤ç§æ¨¡å¼å¯åŠ¨â€”â€”&nbsp;å¹¿æ’­ï¼ˆBroadcastï¼‰å’Œé›†ç¾¤ï¼ˆClusterï¼‰ã€‚å¹¿æ’­æ¨¡å¼ä¸‹ï¼Œä¸€æ¡æ¶ˆæ¯ä¼šå‘é€ç»™&nbsp;åŒä¸€ä¸ªæ¶ˆè´¹ç»„ä¸­çš„æ‰€æœ‰æ¶ˆè´¹è€…&nbsp;ï¼Œé›†ç¾¤æ¨¡å¼ä¸‹æ¶ˆæ¯åªä¼šå‘é€ç»™ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚ å¦‚ä½•è§£å†³ é¡ºåºæ¶ˆè´¹ã€é‡å¤æ¶ˆè´¹å…¶å®ï¼Œè¿™äº›ä¸œè¥¿éƒ½æ˜¯æˆ‘åœ¨ä»‹ç»æ¶ˆæ¯é˜Ÿåˆ—å¸¦æ¥çš„ä¸€äº›å‰¯ä½œç”¨çš„æ—¶å€™æåˆ°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™äº›é—®é¢˜ä¸ä»…ä»…æŒ‚é’©äº&nbsp;RocketMQ&nbsp;ï¼Œè€Œæ˜¯åº”è¯¥æ¯ä¸ªæ¶ˆæ¯ä¸­é—´ä»¶éƒ½éœ€è¦å»è§£å†³çš„ã€‚ åœ¨ä¸Šé¢æˆ‘ä»‹ç»&nbsp;RocketMQ&nbsp;çš„æŠ€æœ¯æ¶æ„çš„æ—¶å€™æˆ‘å·²ç»å‘ä½ å±•ç¤ºäº†&nbsp;å®ƒæ˜¯å¦‚ä½•ä¿è¯é«˜å¯ç”¨çš„&nbsp;ï¼Œè¿™é‡Œä¸æ¶‰åŠè¿ç»´æ–¹é¢çš„æ­å»ºï¼Œå¦‚æœä½ æ„Ÿå…´è¶£å¯ä»¥è‡ªå·±å»å®˜ç½‘ä¸Šç…§ç€ä¾‹å­æ­å»ºå±äºä½ è‡ªå·±çš„&nbsp;RocketMQ&nbsp;é›†ç¾¤ã€‚ å…¶å®&nbsp;Kafka&nbsp;çš„æ¶æ„åŸºæœ¬å’Œ&nbsp;RocketMQ&nbsp;ç±»ä¼¼ï¼Œåªæ˜¯å®ƒæ³¨å†Œä¸­å¿ƒä½¿ç”¨äº†&nbsp;Zookeeper&nbsp;ã€å®ƒçš„&nbsp;åˆ†åŒº&nbsp;å°±ç›¸å½“äº&nbsp;RocketMQ&nbsp;ä¸­çš„&nbsp;é˜Ÿåˆ—&nbsp;ã€‚è¿˜æœ‰ä¸€äº›å°ç»†èŠ‚ä¸åŒä¼šåœ¨åé¢æåˆ°ã€‚ é¡ºåºæ¶ˆè´¹åœ¨ä¸Šé¢çš„æŠ€æœ¯æ¶æ„ä»‹ç»ä¸­ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“äº†&nbsp;RocketMQ&nbsp;åœ¨ä¸»é¢˜ä¸Šæ˜¯æ— åºçš„ã€å®ƒåªæœ‰åœ¨é˜Ÿåˆ—å±‚é¢æ‰æ˜¯ä¿è¯æœ‰åº&nbsp;çš„ã€‚ è¿™åˆæ‰¯åˆ°ä¸¤ä¸ªæ¦‚å¿µâ€”â€”æ™®é€šé¡ºåº&nbsp;å’Œ&nbsp;ä¸¥æ ¼é¡ºåº&nbsp;ã€‚ æ‰€è°“æ™®é€šé¡ºåºæ˜¯æŒ‡ æ¶ˆè´¹è€…é€šè¿‡&nbsp;åŒä¸€ä¸ªæ¶ˆè´¹é˜Ÿåˆ—æ”¶åˆ°çš„æ¶ˆæ¯æ˜¯æœ‰é¡ºåºçš„&nbsp;ï¼Œä¸åŒæ¶ˆæ¯é˜Ÿåˆ—æ”¶åˆ°çš„æ¶ˆæ¯åˆ™å¯èƒ½æ˜¯æ— é¡ºåºçš„ã€‚æ™®é€šé¡ºåºæ¶ˆæ¯åœ¨&nbsp;Broker&nbsp;é‡å¯æƒ…å†µä¸‹ä¸ä¼šä¿è¯æ¶ˆæ¯é¡ºåºæ€§&nbsp;(çŸ­æš‚æ—¶é—´) ã€‚ æ‰€è°“ä¸¥æ ¼é¡ºåºæ˜¯æŒ‡ æ¶ˆè´¹è€…æ”¶åˆ°çš„&nbsp;æ‰€æœ‰æ¶ˆæ¯&nbsp;å‡æ˜¯æœ‰é¡ºåºçš„ã€‚ä¸¥æ ¼é¡ºåºæ¶ˆæ¯&nbsp;å³ä½¿åœ¨å¼‚å¸¸æƒ…å†µä¸‹ä¹Ÿä¼šä¿è¯æ¶ˆæ¯çš„é¡ºåºæ€§&nbsp;ã€‚ ä½†æ˜¯ï¼Œä¸¥æ ¼é¡ºåºçœ‹èµ·æ¥è™½å¥½ï¼Œå®ç°å®ƒå¯ä¼šä»˜å‡ºå·¨å¤§çš„ä»£ä»·ã€‚å¦‚æœä½ ä½¿ç”¨ä¸¥æ ¼é¡ºåºæ¨¡å¼ï¼ŒBroker&nbsp;é›†ç¾¤ä¸­åªè¦æœ‰ä¸€å°æœºå™¨ä¸å¯ç”¨ï¼Œåˆ™æ•´ä¸ªé›†ç¾¤éƒ½ä¸å¯ç”¨ã€‚ä½ è¿˜ç”¨å•¥ï¼Ÿç°åœ¨ä¸»è¦åœºæ™¯ä¹Ÿå°±åœ¨&nbsp;binlog&nbsp;åŒæ­¥ã€‚ ä¸€èˆ¬è€Œè¨€ï¼Œæˆ‘ä»¬çš„&nbsp;MQ&nbsp;éƒ½æ˜¯èƒ½å®¹å¿çŸ­æš‚çš„ä¹±åºï¼Œæ‰€ä»¥æ¨èä½¿ç”¨æ™®é€šé¡ºåºæ¨¡å¼ã€‚ é‚£ä¹ˆï¼Œæˆ‘ä»¬ç°åœ¨ä½¿ç”¨äº†&nbsp;æ™®é€šé¡ºåºæ¨¡å¼&nbsp;ï¼Œæˆ‘ä»¬ä»ä¸Šé¢å­¦ä¹ çŸ¥é“äº†åœ¨&nbsp;Producer&nbsp;ç”Ÿäº§æ¶ˆæ¯çš„æ—¶å€™ä¼šè¿›è¡Œè½®è¯¢(å–å†³ä½ çš„è´Ÿè½½å‡è¡¡ç­–ç•¥)æ¥å‘åŒä¸€ä¸»é¢˜çš„ä¸åŒæ¶ˆæ¯é˜Ÿåˆ—å‘é€æ¶ˆæ¯ã€‚é‚£ä¹ˆå¦‚æœæ­¤æ—¶æˆ‘æœ‰å‡ ä¸ªæ¶ˆæ¯åˆ†åˆ«æ˜¯åŒä¸€ä¸ªè®¢å•çš„åˆ›å»ºã€æ”¯ä»˜ã€å‘è´§ï¼Œåœ¨è½®è¯¢çš„ç­–ç•¥ä¸‹è¿™&nbsp;ä¸‰ä¸ªæ¶ˆæ¯ä¼šè¢«å‘é€åˆ°ä¸åŒé˜Ÿåˆ—&nbsp;ï¼Œå› ä¸ºåœ¨ä¸åŒçš„é˜Ÿåˆ—æ­¤æ—¶å°±æ— æ³•ä½¿ç”¨&nbsp;RocketMQ&nbsp;å¸¦æ¥çš„é˜Ÿåˆ—æœ‰åºç‰¹æ€§æ¥ä¿è¯æ¶ˆæ¯æœ‰åºæ€§äº†ã€‚ é‚£ä¹ˆï¼Œæ€ä¹ˆè§£å†³å‘¢ï¼Ÿ å…¶å®å¾ˆç®€å•ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†çš„ä»…ä»…æ˜¯å°†åŒä¸€è¯­ä¹‰ä¸‹çš„æ¶ˆæ¯æ”¾å…¥åŒä¸€ä¸ªé˜Ÿåˆ—(æ¯”å¦‚è¿™é‡Œæ˜¯åŒä¸€ä¸ªè®¢å•)ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨&nbsp;Hashå–æ¨¡æ³•&nbsp;æ¥ä¿è¯åŒä¸€ä¸ªè®¢å•åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­å°±è¡Œäº†ã€‚ é‡å¤æ¶ˆè´¹emmmï¼Œå°±ä¸¤ä¸ªå­—â€”â€”&nbsp;å¹‚ç­‰&nbsp;ã€‚åœ¨ç¼–ç¨‹ä¸­ä¸€ä¸ª_å¹‚ç­‰_&nbsp;æ“ä½œçš„ç‰¹ç‚¹æ˜¯å…¶ä»»æ„å¤šæ¬¡æ‰§è¡Œæ‰€äº§ç”Ÿçš„å½±å“å‡ä¸ä¸€æ¬¡æ‰§è¡Œçš„å½±å“ç›¸åŒã€‚æ¯”å¦‚è¯´ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬æœ‰ä¸€ä¸ªè®¢å•çš„å¤„ç†ç§¯åˆ†çš„ç³»ç»Ÿï¼Œæ¯å½“æ¥ä¸€ä¸ªæ¶ˆæ¯çš„æ—¶å€™å®ƒå°±è´Ÿè´£ä¸ºåˆ›å»ºè¿™ä¸ªè®¢å•çš„ç”¨æˆ·çš„ç§¯åˆ†åŠ ä¸Šç›¸åº”çš„æ•°å€¼ã€‚å¯æ˜¯æœ‰ä¸€æ¬¡ï¼Œæ¶ˆæ¯é˜Ÿåˆ—å‘é€ç»™è®¢å•ç³»ç»Ÿ FrancisQ çš„è®¢å•ä¿¡æ¯ï¼Œå…¶è¦æ±‚æ˜¯ç»™ FrancisQ çš„ç§¯åˆ†åŠ ä¸Š 500ã€‚ä½†æ˜¯ç§¯åˆ†ç³»ç»Ÿåœ¨æ”¶åˆ° FrancisQ çš„è®¢å•ä¿¡æ¯å¤„ç†å®Œæˆä¹‹åè¿”å›ç»™æ¶ˆæ¯é˜Ÿåˆ—å¤„ç†æˆåŠŸçš„ä¿¡æ¯çš„æ—¶å€™å‡ºç°äº†ç½‘ç»œæ³¢åŠ¨(å½“ç„¶è¿˜æœ‰å¾ˆå¤šç§æƒ…å†µï¼Œæ¯”å¦‚Brokeræ„å¤–é‡å¯ç­‰ç­‰)ï¼Œè¿™æ¡å›åº”æ²¡æœ‰å‘é€æˆåŠŸã€‚ é‚£ä¹ˆï¼Œæ¶ˆæ¯é˜Ÿåˆ—æ²¡æ”¶åˆ°ç§¯åˆ†ç³»ç»Ÿçš„å›åº”ä¼šä¸ä¼šå°è¯•é‡å‘è¿™ä¸ªæ¶ˆæ¯ï¼Ÿé—®é¢˜å°±æ¥äº†ï¼Œæˆ‘å†å‘è¿™ä¸ªæ¶ˆæ¯ï¼Œä¸‡ä¸€å®ƒåˆç»™ FrancisQ çš„è´¦æˆ·åŠ ä¸Š 500 ç§¯åˆ†æ€ä¹ˆåŠå‘¢ï¼Ÿ æ‰€ä»¥æˆ‘ä»¬éœ€è¦ç»™æˆ‘ä»¬çš„æ¶ˆè´¹è€…å®ç°&nbsp;å¹‚ç­‰&nbsp;ï¼Œä¹Ÿå°±æ˜¯å¯¹åŒä¸€ä¸ªæ¶ˆæ¯çš„å¤„ç†ç»“æœï¼Œæ‰§è¡Œå¤šå°‘æ¬¡éƒ½ä¸å˜ã€‚ é‚£ä¹ˆå¦‚ä½•ç»™ä¸šåŠ¡å®ç°å¹‚ç­‰å‘¢ï¼Ÿè¿™ä¸ªè¿˜æ˜¯éœ€è¦ç»“åˆå…·ä½“çš„ä¸šåŠ¡çš„ã€‚ä½ å¯ä»¥ä½¿ç”¨&nbsp;å†™å…¥&nbsp;Redis&nbsp;æ¥ä¿è¯ï¼Œå› ä¸º&nbsp;Redis&nbsp;çš„&nbsp;key&nbsp;å’Œ&nbsp;value&nbsp;å°±æ˜¯å¤©ç„¶æ”¯æŒå¹‚ç­‰çš„ã€‚å½“ç„¶è¿˜æœ‰ä½¿ç”¨&nbsp;æ•°æ®åº“æ’å…¥æ³•&nbsp;ï¼ŒåŸºäºæ•°æ®åº“çš„å”¯ä¸€é”®æ¥ä¿è¯é‡å¤æ•°æ®ä¸ä¼šè¢«æ’å…¥å¤šæ¡ã€‚ ä¸è¿‡æœ€ä¸»è¦çš„è¿˜æ˜¯éœ€è¦&nbsp;æ ¹æ®ç‰¹å®šåœºæ™¯ä½¿ç”¨ç‰¹å®šçš„è§£å†³æ–¹æ¡ˆ&nbsp;ï¼Œä½ è¦çŸ¥é“ä½ çš„æ¶ˆæ¯æ¶ˆè´¹æ˜¯å¦æ˜¯å®Œå…¨ä¸å¯é‡å¤æ¶ˆè´¹è¿˜æ˜¯å¯ä»¥å¿å—é‡å¤æ¶ˆè´¹çš„ï¼Œç„¶åå†é€‰æ‹©å¼ºæ ¡éªŒå’Œå¼±æ ¡éªŒçš„æ–¹å¼ã€‚æ¯•ç«Ÿåœ¨ CS é¢†åŸŸè¿˜æ˜¯å¾ˆå°‘æœ‰æŠ€æœ¯é“¶å¼¹çš„è¯´æ³•ã€‚ è€Œåœ¨æ•´ä¸ªäº’è”ç½‘é¢†åŸŸï¼Œå¹‚ç­‰ä¸ä»…ä»…é€‚ç”¨äºæ¶ˆæ¯é˜Ÿåˆ—çš„é‡å¤æ¶ˆè´¹é—®é¢˜ï¼Œè¿™äº›å®ç°å¹‚ç­‰çš„æ–¹æ³•ï¼Œä¹ŸåŒæ ·é€‚ç”¨äºï¼Œåœ¨å…¶ä»–åœºæ™¯ä¸­æ¥è§£å†³é‡å¤è¯·æ±‚æˆ–è€…é‡å¤è°ƒç”¨çš„é—®é¢˜&nbsp;ã€‚æ¯”å¦‚å°†HTTPæœåŠ¡è®¾è®¡æˆå¹‚ç­‰çš„ï¼Œè§£å†³å‰ç«¯æˆ–è€…APPé‡å¤æäº¤è¡¨å•æ•°æ®çš„é—®é¢˜&nbsp;ï¼Œä¹Ÿå¯ä»¥å°†ä¸€ä¸ªå¾®æœåŠ¡è®¾è®¡æˆå¹‚ç­‰çš„ï¼Œè§£å†³&nbsp;RPC&nbsp;æ¡†æ¶è‡ªåŠ¨é‡è¯•å¯¼è‡´çš„&nbsp;é‡å¤è°ƒç”¨é—®é¢˜&nbsp;ã€‚ åˆ†å¸ƒå¼äº‹åŠ¡å¦‚ä½•è§£é‡Šåˆ†å¸ƒå¼äº‹åŠ¡å‘¢ï¼Ÿäº‹åŠ¡å¤§å®¶éƒ½çŸ¥é“å§ï¼Ÿè¦ä¹ˆéƒ½æ‰§è¡Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œ&nbsp;ã€‚åœ¨åŒä¸€ä¸ªç³»ç»Ÿä¸­æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å®ç°äº‹åŠ¡ï¼Œä½†æ˜¯åœ¨åˆ†å¸ƒå¼æ¶æ„ä¸­ï¼Œæˆ‘ä»¬æœ‰å¾ˆå¤šæœåŠ¡æ˜¯éƒ¨ç½²åœ¨ä¸åŒç³»ç»Ÿä¹‹é—´çš„ï¼Œè€Œä¸åŒæœåŠ¡ä¹‹é—´åˆéœ€è¦è¿›è¡Œè°ƒç”¨ã€‚æ¯”å¦‚æ­¤æ—¶æˆ‘ä¸‹è®¢å•ç„¶åå¢åŠ ç§¯åˆ†ï¼Œå¦‚æœä¿è¯ä¸äº†åˆ†å¸ƒå¼äº‹åŠ¡çš„è¯ï¼Œå°±ä¼šå‡ºç°Aç³»ç»Ÿä¸‹äº†è®¢å•ï¼Œä½†æ˜¯Bç³»ç»Ÿå¢åŠ ç§¯åˆ†å¤±è´¥æˆ–è€…Aç³»ç»Ÿæ²¡æœ‰ä¸‹è®¢å•ï¼ŒBç³»ç»Ÿå´å¢åŠ äº†ç§¯åˆ†ã€‚å‰è€…å¯¹ç”¨æˆ·ä¸å‹å¥½ï¼Œåè€…å¯¹è¿è¥å•†ä¸åˆ©ï¼Œè¿™æ˜¯æˆ‘ä»¬éƒ½ä¸æ„¿æ„è§åˆ°çš„ã€‚ é‚£ä¹ˆï¼Œå¦‚ä½•å»è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ å¦‚ä»Šæ¯”è¾ƒå¸¸è§çš„åˆ†å¸ƒå¼äº‹åŠ¡å®ç°æœ‰ 2PCã€TCC å’Œäº‹åŠ¡æ¶ˆæ¯(half åŠæ¶ˆæ¯æœºåˆ¶)ã€‚æ¯ä¸€ç§å®ç°éƒ½æœ‰å…¶ç‰¹å®šçš„ä½¿ç”¨åœºæ™¯ï¼Œä½†æ˜¯ä¹Ÿæœ‰å„è‡ªçš„é—®é¢˜ï¼Œéƒ½ä¸æ˜¯å®Œç¾çš„è§£å†³æ–¹æ¡ˆã€‚ åœ¨&nbsp;RocketMQ&nbsp;ä¸­ä½¿ç”¨çš„æ˜¯&nbsp;äº‹åŠ¡æ¶ˆæ¯åŠ ä¸Šäº‹åŠ¡åæŸ¥æœºåˆ¶&nbsp;æ¥è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜çš„ã€‚æˆ‘ç”»äº†å¼ å›¾ï¼Œå¤§å®¶å¯ä»¥å¯¹ç…§ç€å›¾è¿›è¡Œç†è§£ã€‚ åœ¨ç¬¬ä¸€æ­¥å‘é€çš„ half æ¶ˆæ¯ ï¼Œå®ƒçš„æ„æ€æ˜¯&nbsp;åœ¨äº‹åŠ¡æäº¤ä¹‹å‰ï¼Œå¯¹äºæ¶ˆè´¹è€…æ¥è¯´ï¼Œè¿™ä¸ªæ¶ˆæ¯æ˜¯ä¸å¯è§çš„&nbsp;ã€‚ é‚£ä¹ˆï¼Œå¦‚ä½•åšåˆ°å†™å…¥æ¶ˆæ¯ä½†æ˜¯å¯¹ç”¨æˆ·ä¸å¯è§å‘¢ï¼ŸRocketMQäº‹åŠ¡æ¶ˆæ¯çš„åšæ³•æ˜¯ï¼šå¦‚æœæ¶ˆæ¯æ˜¯halfæ¶ˆæ¯ï¼Œå°†å¤‡ä»½åŸæ¶ˆæ¯çš„ä¸»é¢˜ä¸æ¶ˆæ¯æ¶ˆè´¹é˜Ÿåˆ—ï¼Œç„¶å&nbsp;æ”¹å˜ä¸»é¢˜&nbsp;ä¸ºRMQ_SYS_TRANS_HALF_TOPICã€‚ç”±äºæ¶ˆè´¹ç»„æœªè®¢é˜…è¯¥ä¸»é¢˜ï¼Œæ•…æ¶ˆè´¹ç«¯æ— æ³•æ¶ˆè´¹halfç±»å‹çš„æ¶ˆæ¯ï¼Œç„¶åRocketMQä¼šå¼€å¯ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œä»Topicä¸ºRMQ_SYS_TRANS_HALF_TOPICä¸­æ‹‰å–æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹ï¼Œæ ¹æ®ç”Ÿäº§è€…ç»„è·å–ä¸€ä¸ªæœåŠ¡æä¾›è€…å‘é€å›æŸ¥äº‹åŠ¡çŠ¶æ€è¯·æ±‚ï¼Œæ ¹æ®äº‹åŠ¡çŠ¶æ€æ¥å†³å®šæ˜¯æäº¤æˆ–å›æ»šæ¶ˆæ¯ã€‚ ä½ å¯ä»¥è¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœæ²¡æœ‰ä»ç¬¬5æ­¥å¼€å§‹çš„&nbsp;äº‹åŠ¡åæŸ¥æœºåˆ¶&nbsp;ï¼Œå¦‚æœå‡ºç°ç½‘è·¯æ³¢åŠ¨ç¬¬4æ­¥æ²¡æœ‰å‘é€æˆåŠŸï¼Œè¿™æ ·å°±ä¼šäº§ç”Ÿ MQ ä¸çŸ¥é“æ˜¯ä¸æ˜¯éœ€è¦ç»™æ¶ˆè´¹è€…æ¶ˆè´¹çš„é—®é¢˜ï¼Œä»–å°±åƒä¸€ä¸ªæ— å¤´è‹è‡ä¸€æ ·ã€‚åœ¨&nbsp;RocketMQ&nbsp;ä¸­å°±æ˜¯ä½¿ç”¨çš„ä¸Šè¿°çš„äº‹åŠ¡åæŸ¥æ¥è§£å†³çš„ï¼Œè€Œåœ¨&nbsp;Kafka&nbsp;ä¸­é€šå¸¸æ˜¯ç›´æ¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸è®©ç”¨æˆ·æ¥è‡ªè¡Œè§£å†³ã€‚ ä½ è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨&nbsp;MQ Server&nbsp;æŒ‡å‘ç³»ç»ŸBçš„æ“ä½œå·²ç»å’Œç³»ç»ŸAä¸ç›¸å…³äº†ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„åˆ†å¸ƒå¼äº‹åŠ¡æ˜¯â€”â€”æœ¬åœ°äº‹åŠ¡å’Œå­˜å‚¨æ¶ˆæ¯åˆ°æ¶ˆæ¯é˜Ÿåˆ—æ‰æ˜¯åŒä¸€ä¸ªäº‹åŠ¡ã€‚è¿™æ ·ä¹Ÿå°±äº§ç”Ÿäº†äº‹åŠ¡çš„æœ€ç»ˆä¸€è‡´æ€§ï¼Œå› ä¸ºæ•´ä¸ªè¿‡ç¨‹æ˜¯å¼‚æ­¥çš„ï¼Œæ¯ä¸ªç³»ç»Ÿåªè¦ä¿è¯å®ƒè‡ªå·±é‚£ä¸€éƒ¨åˆ†çš„äº‹åŠ¡å°±è¡Œäº†ã€‚ æ¶ˆæ¯å †ç§¯é—®é¢˜åœ¨ä¸Šé¢æˆ‘ä»¬æåˆ°äº†æ¶ˆæ¯é˜Ÿåˆ—ä¸€ä¸ªå¾ˆé‡è¦çš„åŠŸèƒ½â€”â€”å‰Šå³°&nbsp;ã€‚é‚£ä¹ˆå¦‚æœè¿™ä¸ªå³°å€¼å¤ªå¤§äº†å¯¼è‡´æ¶ˆæ¯å †ç§¯åœ¨é˜Ÿåˆ—ä¸­æ€ä¹ˆåŠå‘¢ï¼Ÿ å…¶å®è¿™ä¸ªé—®é¢˜å¯ä»¥å°†å®ƒå¹¿ä¹‰åŒ–ï¼Œå› ä¸ºäº§ç”Ÿæ¶ˆæ¯å †ç§¯çš„æ ¹æºå…¶å®å°±åªæœ‰ä¸¤ä¸ªâ€”â€”ç”Ÿäº§è€…ç”Ÿäº§å¤ªå¿«æˆ–è€…æ¶ˆè´¹è€…æ¶ˆè´¹å¤ªæ…¢ã€‚ æˆ‘ä»¬å¯ä»¥ä»å¤šä¸ªè§’åº¦å»æ€è€ƒè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå½“æµé‡åˆ°å³°å€¼çš„æ—¶å€™æ˜¯å› ä¸ºç”Ÿäº§è€…ç”Ÿäº§å¤ªå¿«ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›&nbsp;é™æµé™çº§&nbsp;çš„æ–¹æ³•ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥å¢åŠ å¤šä¸ªæ¶ˆè´¹è€…å®ä¾‹å»æ°´å¹³æ‰©å±•å¢åŠ æ¶ˆè´¹èƒ½åŠ›æ¥åŒ¹é…ç”Ÿäº§çš„æ¿€å¢ã€‚å¦‚æœæ¶ˆè´¹è€…æ¶ˆè´¹è¿‡æ…¢çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ£€æŸ¥&nbsp;æ˜¯å¦æ˜¯æ¶ˆè´¹è€…å‡ºç°äº†å¤§é‡çš„æ¶ˆè´¹é”™è¯¯&nbsp;ï¼Œæˆ–è€…æ‰“å°ä¸€ä¸‹æ—¥å¿—æŸ¥çœ‹æ˜¯å¦æ˜¯å“ªä¸€ä¸ªçº¿ç¨‹å¡æ­»ï¼Œå‡ºç°äº†é”èµ„æºä¸é‡Šæ”¾ç­‰ç­‰çš„é—®é¢˜ã€‚ å½“ç„¶ï¼Œæœ€å¿«é€Ÿè§£å†³æ¶ˆæ¯å †ç§¯é—®é¢˜çš„æ–¹æ³•è¿˜æ˜¯å¢åŠ æ¶ˆè´¹è€…å®ä¾‹ï¼Œä¸è¿‡&nbsp;åŒæ—¶ä½ è¿˜éœ€è¦å¢åŠ æ¯ä¸ªä¸»é¢˜çš„é˜Ÿåˆ—æ•°é‡&nbsp;ã€‚ åˆ«å¿˜äº†åœ¨&nbsp;RocketMQ&nbsp;ä¸­ï¼Œä¸€ä¸ªé˜Ÿåˆ—åªä¼šè¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹&nbsp;ï¼Œå¦‚æœä½ ä»…ä»…æ˜¯å¢åŠ æ¶ˆè´¹è€…å®ä¾‹å°±ä¼šå‡ºç°æˆ‘ä¸€å¼€å§‹ç»™ä½ ç”»æ¶æ„å›¾çš„é‚£ç§æƒ…å†µã€‚ å›æº¯æ¶ˆè´¹å›æº¯æ¶ˆè´¹æ˜¯æŒ‡&nbsp;Consumer&nbsp;å·²ç»æ¶ˆè´¹æˆåŠŸçš„æ¶ˆæ¯ï¼Œç”±äºä¸šåŠ¡ä¸Šéœ€æ±‚éœ€è¦é‡æ–°æ¶ˆè´¹ï¼Œåœ¨RocketMQ&nbsp;ä¸­ï¼Œ&nbsp;Broker&nbsp;åœ¨å‘Consumer&nbsp;æŠ•é€’æˆåŠŸæ¶ˆæ¯åï¼Œæ¶ˆæ¯ä»ç„¶éœ€è¦ä¿ç•™&nbsp;ã€‚å¹¶ä¸”é‡æ–°æ¶ˆè´¹ä¸€èˆ¬æ˜¯æŒ‰ç…§æ—¶é—´ç»´åº¦ï¼Œä¾‹å¦‚ç”±äº&nbsp;Consumer&nbsp;ç³»ç»Ÿæ•…éšœï¼Œæ¢å¤åéœ€è¦é‡æ–°æ¶ˆè´¹1å°æ—¶å‰çš„æ•°æ®ï¼Œé‚£ä¹ˆ&nbsp;Broker&nbsp;è¦æä¾›ä¸€ç§æœºåˆ¶ï¼Œå¯ä»¥æŒ‰ç…§æ—¶é—´ç»´åº¦æ¥å›é€€æ¶ˆè´¹è¿›åº¦ã€‚RocketMQ&nbsp;æ”¯æŒæŒ‰ç…§æ—¶é—´å›æº¯æ¶ˆè´¹ï¼Œæ—¶é—´ç»´åº¦ç²¾ç¡®åˆ°æ¯«ç§’ã€‚ è¿™æ˜¯å®˜æ–¹æ–‡æ¡£çš„è§£é‡Šï¼Œæˆ‘ç›´æ¥ç…§æ¬è¿‡æ¥å°±å½“ç§‘æ™®äº†ã€‚ RocketMQ çš„åˆ·ç›˜æœºåˆ¶ä¸Šé¢æˆ‘è®²äº†é‚£ä¹ˆå¤šçš„&nbsp;RocketMQ&nbsp;çš„æ¶æ„å’Œè®¾è®¡åŸç†ï¼Œä½ æœ‰æ²¡æœ‰å¥½å¥‡ åœ¨&nbsp;Topic&nbsp;ä¸­çš„&nbsp;é˜Ÿåˆ—æ˜¯ä»¥ä»€ä¹ˆæ ·çš„å½¢å¼å­˜åœ¨çš„ï¼Ÿ é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯åˆæ˜¯å¦‚ä½•è¿›è¡Œå­˜å‚¨æŒä¹…åŒ–çš„å‘¢ï¼Ÿ æˆ‘åœ¨ä¸Šæ–‡ä¸­æåˆ°çš„&nbsp;åŒæ­¥åˆ·ç›˜&nbsp;å’Œ&nbsp;å¼‚æ­¥åˆ·ç›˜&nbsp;åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒä»¬ä¼šç»™æŒä¹…åŒ–å¸¦æ¥ä»€ä¹ˆæ ·çš„å½±å“å‘¢ï¼Ÿ ä¸‹é¢æˆ‘å°†ç»™ä½ ä»¬ä¸€ä¸€è§£é‡Šã€‚ åŒæ­¥åˆ·ç›˜å’Œå¼‚æ­¥åˆ·ç›˜ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåœ¨åŒæ­¥åˆ·ç›˜ä¸­éœ€è¦ç­‰å¾…ä¸€ä¸ªåˆ·ç›˜æˆåŠŸçš„&nbsp;ACK&nbsp;ï¼ŒåŒæ­¥åˆ·ç›˜å¯¹&nbsp;MQ&nbsp;æ¶ˆæ¯å¯é æ€§æ¥è¯´æ˜¯ä¸€ç§ä¸é”™çš„ä¿éšœï¼Œä½†æ˜¯&nbsp;æ€§èƒ½ä¸Šä¼šæœ‰è¾ƒå¤§å½±å“&nbsp;ï¼Œä¸€èˆ¬åœ°é€‚ç”¨äºé‡‘èç­‰ç‰¹å®šä¸šåŠ¡åœºæ™¯ã€‚ è€Œå¼‚æ­¥åˆ·ç›˜å¾€å¾€æ˜¯å¼€å¯ä¸€ä¸ªçº¿ç¨‹å»å¼‚æ­¥åœ°æ‰§è¡Œåˆ·ç›˜æ“ä½œã€‚æ¶ˆæ¯åˆ·ç›˜é‡‡ç”¨åå°å¼‚æ­¥çº¿ç¨‹æäº¤çš„æ–¹å¼è¿›è¡Œï¼Œ&nbsp;é™ä½äº†è¯»å†™å»¶è¿Ÿ&nbsp;ï¼Œæé«˜äº†&nbsp;MQ&nbsp;çš„æ€§èƒ½å’Œååé‡ï¼Œä¸€èˆ¬é€‚ç”¨äºå¦‚å‘éªŒè¯ç ç­‰å¯¹äºæ¶ˆæ¯ä¿è¯è¦æ±‚ä¸å¤ªé«˜çš„ä¸šåŠ¡åœºæ™¯ã€‚ ä¸€èˆ¬åœ°ï¼Œå¼‚æ­¥åˆ·ç›˜åªæœ‰åœ¨&nbsp;Broker&nbsp;æ„å¤–å®•æœºçš„æ—¶å€™ä¼šä¸¢å¤±éƒ¨åˆ†æ•°æ®ï¼Œä½ å¯ä»¥è®¾ç½®&nbsp;Broker&nbsp;çš„å‚æ•°&nbsp;FlushDiskType&nbsp;æ¥è°ƒæ•´ä½ çš„åˆ·ç›˜ç­–ç•¥(ASYNC_FLUSH æˆ–è€… SYNC_FLUSH)ã€‚ åŒæ­¥å¤åˆ¶å’Œå¼‚æ­¥å¤åˆ¶ä¸Šé¢çš„åŒæ­¥åˆ·ç›˜å’Œå¼‚æ­¥åˆ·ç›˜æ˜¯åœ¨å•ä¸ªç»“ç‚¹å±‚é¢çš„ï¼Œè€ŒåŒæ­¥å¤åˆ¶å’Œå¼‚æ­¥å¤åˆ¶ä¸»è¦æ˜¯æŒ‡çš„&nbsp;Borker&nbsp;ä¸»ä»æ¨¡å¼ä¸‹ï¼Œä¸»èŠ‚ç‚¹è¿”å›æ¶ˆæ¯ç»™å®¢æˆ·ç«¯çš„æ—¶å€™æ˜¯å¦éœ€è¦åŒæ­¥ä»èŠ‚ç‚¹ã€‚ åŒæ­¥å¤åˆ¶ï¼šä¹Ÿå« â€œåŒæ­¥åŒå†™â€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰æ¶ˆæ¯åŒæ­¥åŒå†™åˆ°ä¸»ä»ç»“ç‚¹ä¸Šæ—¶æ‰è¿”å›å†™å…¥æˆåŠŸ&nbsp;ã€‚ å¼‚æ­¥å¤åˆ¶ï¼š&nbsp;æ¶ˆæ¯å†™å…¥ä¸»èŠ‚ç‚¹ä¹‹åå°±ç›´æ¥è¿”å›å†™å…¥æˆåŠŸ&nbsp;ã€‚ ç„¶è€Œï¼Œå¾ˆå¤šäº‹æƒ…æ˜¯æ²¡æœ‰å®Œç¾çš„æ–¹æ¡ˆçš„ï¼Œå°±æ¯”å¦‚æˆ‘ä»¬è¿›è¡Œæ¶ˆæ¯å†™å…¥çš„èŠ‚ç‚¹è¶Šå¤šå°±æ›´èƒ½ä¿è¯æ¶ˆæ¯çš„å¯é æ€§ï¼Œä½†æ˜¯éšä¹‹çš„æ€§èƒ½ä¹Ÿä¼šä¸‹é™ï¼Œæ‰€ä»¥éœ€è¦ç¨‹åºå‘˜æ ¹æ®ç‰¹å®šä¸šåŠ¡åœºæ™¯å»é€‰æ‹©é€‚åº”çš„ä¸»ä»å¤åˆ¶æ–¹æ¡ˆã€‚ é‚£ä¹ˆï¼Œå¼‚æ­¥å¤åˆ¶ä¼šä¸ä¼šä¹Ÿåƒå¼‚æ­¥åˆ·ç›˜é‚£æ ·å½±å“æ¶ˆæ¯çš„å¯é æ€§å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ä¸ä¼šçš„ï¼Œå› ä¸ºä¸¤è€…å°±æ˜¯ä¸åŒçš„æ¦‚å¿µï¼Œå¯¹äºæ¶ˆæ¯å¯é æ€§æ˜¯é€šè¿‡ä¸åŒçš„åˆ·ç›˜ç­–ç•¥ä¿è¯çš„ï¼Œè€Œåƒå¼‚æ­¥åŒæ­¥å¤åˆ¶ç­–ç•¥ä»…ä»…æ˜¯å½±å“åˆ°äº†&nbsp;å¯ç”¨æ€§&nbsp;ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå…¶ä¸»è¦åŸå› æ˜¯&nbsp;RocketMQ&nbsp;æ˜¯ä¸æ”¯æŒè‡ªåŠ¨ä¸»ä»åˆ‡æ¢çš„ï¼Œå½“ä¸»èŠ‚ç‚¹æŒ‚æ‰ä¹‹åï¼Œç”Ÿäº§è€…å°±ä¸èƒ½å†ç»™è¿™ä¸ªä¸»èŠ‚ç‚¹ç”Ÿäº§æ¶ˆæ¯äº†ã€‚ æ¯”å¦‚è¿™ä¸ªæ—¶å€™é‡‡ç”¨å¼‚æ­¥å¤åˆ¶çš„æ–¹å¼ï¼Œåœ¨ä¸»èŠ‚ç‚¹è¿˜æœªå‘é€å®Œéœ€è¦åŒæ­¥çš„æ¶ˆæ¯çš„æ—¶å€™ä¸»èŠ‚ç‚¹æŒ‚æ‰äº†ï¼Œè¿™ä¸ªæ—¶å€™ä»èŠ‚ç‚¹å°±å°‘äº†ä¸€éƒ¨åˆ†æ¶ˆæ¯ã€‚ä½†æ˜¯æ­¤æ—¶ç”Ÿäº§è€…æ— æ³•å†ç»™ä¸»èŠ‚ç‚¹ç”Ÿäº§æ¶ˆæ¯äº†ï¼Œæ¶ˆè´¹è€…å¯ä»¥è‡ªåŠ¨åˆ‡æ¢åˆ°ä»èŠ‚ç‚¹è¿›è¡Œæ¶ˆè´¹(ä»…ä»…æ˜¯æ¶ˆè´¹)ï¼Œæ‰€ä»¥åœ¨ä¸»èŠ‚ç‚¹æŒ‚æ‰çš„æ—¶é—´åªä¼šäº§ç”Ÿä¸»ä»ç»“ç‚¹çŸ­æš‚çš„æ¶ˆæ¯ä¸ä¸€è‡´çš„æƒ…å†µï¼Œé™ä½äº†å¯ç”¨æ€§ï¼Œè€Œå½“ä¸»èŠ‚ç‚¹é‡å¯ä¹‹åï¼Œä»èŠ‚ç‚¹é‚£éƒ¨åˆ†æœªæ¥å¾—åŠå¤åˆ¶çš„æ¶ˆæ¯è¿˜ä¼šç»§ç»­å¤åˆ¶ã€‚ åœ¨å•ä¸»ä»æ¶æ„ä¸­ï¼Œå¦‚æœä¸€ä¸ªä¸»èŠ‚ç‚¹æŒ‚æ‰äº†ï¼Œé‚£ä¹ˆä¹Ÿå°±æ„å‘³ç€æ•´ä¸ªç³»ç»Ÿä¸èƒ½å†ç”Ÿäº§äº†ã€‚é‚£ä¹ˆè¿™ä¸ªå¯ç”¨æ€§çš„é—®é¢˜èƒ½å¦è§£å†³å‘¢ï¼Ÿä¸€ä¸ªä¸»ä»ä¸è¡Œé‚£å°±å¤šä¸ªä¸»ä»çš„å‘—ï¼Œåˆ«å¿˜äº†åœ¨æˆ‘ä»¬æœ€åˆçš„æ¶æ„å›¾ä¸­ï¼Œæ¯ä¸ª&nbsp;Topic&nbsp;æ˜¯åˆ†å¸ƒåœ¨ä¸åŒ&nbsp;Broker&nbsp;ä¸­çš„ã€‚ ä½†æ˜¯è¿™ç§å¤åˆ¶æ–¹å¼åŒæ ·ä¹Ÿä¼šå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯æ— æ³•ä¿è¯&nbsp;ä¸¥æ ¼é¡ºåº&nbsp;ã€‚åœ¨ä¸Šæ–‡ä¸­æˆ‘ä»¬æåˆ°äº†å¦‚ä½•ä¿è¯çš„æ¶ˆæ¯é¡ºåºæ€§æ˜¯é€šè¿‡å°†ä¸€ä¸ªè¯­ä¹‰çš„æ¶ˆæ¯å‘é€åœ¨åŒä¸€ä¸ªé˜Ÿåˆ—ä¸­ï¼Œä½¿ç”¨&nbsp;Topic&nbsp;ä¸‹çš„é˜Ÿåˆ—æ¥ä¿è¯é¡ºåºæ€§çš„ã€‚å¦‚æœæ­¤æ—¶æˆ‘ä»¬ä¸»èŠ‚ç‚¹Aè´Ÿè´£çš„æ˜¯è®¢å•Açš„ä¸€ç³»åˆ—è¯­ä¹‰æ¶ˆæ¯ï¼Œç„¶åå®ƒæŒ‚äº†ï¼Œè¿™æ ·å…¶ä»–èŠ‚ç‚¹æ˜¯æ— æ³•ä»£æ›¿ä¸»èŠ‚ç‚¹Açš„ï¼Œå¦‚æœæˆ‘ä»¬ä»»æ„èŠ‚ç‚¹éƒ½å¯ä»¥å­˜å…¥ä»»ä½•æ¶ˆæ¯ï¼Œé‚£å°±æ²¡æœ‰é¡ºåºæ€§å¯è¨€äº†ã€‚ è€Œåœ¨&nbsp;RocketMQ&nbsp;ä¸­é‡‡ç”¨äº†&nbsp;Dledger&nbsp;è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä»–è¦æ±‚åœ¨å†™å…¥æ¶ˆæ¯çš„æ—¶å€™ï¼Œè¦æ±‚è‡³å°‘æ¶ˆæ¯å¤åˆ¶åˆ°åŠæ•°ä»¥ä¸Šçš„èŠ‚ç‚¹ä¹‹åï¼Œæ‰ç»™å®¢â¼¾ç«¯è¿”å›å†™â¼ŠæˆåŠŸï¼Œå¹¶ä¸”å®ƒæ˜¯â½€æŒé€šè¿‡é€‰ä¸¾æ¥åŠ¨æ€åˆ‡æ¢ä¸»èŠ‚ç‚¹çš„ã€‚è¿™é‡Œæˆ‘å°±ä¸å±•å¼€è¯´æ˜äº†ï¼Œè¯»è€…å¯ä»¥è‡ªå·±å»äº†è§£ã€‚ ä¹Ÿä¸æ˜¯è¯´&nbsp;Dledger&nbsp;æ˜¯ä¸ªå®Œç¾çš„æ–¹æ¡ˆï¼Œè‡³å°‘åœ¨&nbsp;Dledger&nbsp;é€‰ä¸¾è¿‡ç¨‹ä¸­æ˜¯æ— æ³•æä¾›æœåŠ¡çš„ï¼Œè€Œä¸”ä»–å¿…é¡»è¦ä½¿ç”¨ä¸‰ä¸ªèŠ‚ç‚¹æˆ–ä»¥ä¸Šï¼Œå¦‚æœå¤šæ•°èŠ‚ç‚¹åŒæ—¶æŒ‚æ‰ä»–ä¹Ÿæ˜¯æ— æ³•ä¿è¯å¯ç”¨æ€§çš„ï¼Œè€Œä¸”è¦æ±‚æ¶ˆæ¯å¤åˆ¶æ¿ä¹¦ä»¥ä¸ŠèŠ‚ç‚¹çš„æ•ˆç‡å’Œç›´æ¥å¼‚æ­¥å¤åˆ¶è¿˜æ˜¯æœ‰ä¸€å®šçš„å·®è·çš„ã€‚ å­˜å‚¨æœºåˆ¶è¿˜è®°å¾—ä¸Šé¢æˆ‘ä»¬ä¸€å¼€å§‹çš„ä¸‰ä¸ªé—®é¢˜å—ï¼Ÿåˆ°è¿™é‡Œç¬¬ä¸‰ä¸ªé—®é¢˜å·²ç»è§£å†³äº†ã€‚ ä½†æ˜¯ï¼Œåœ¨&nbsp;Topic&nbsp;ä¸­çš„&nbsp;é˜Ÿåˆ—æ˜¯ä»¥ä»€ä¹ˆæ ·çš„å½¢å¼å­˜åœ¨çš„ï¼Ÿé˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯åˆæ˜¯å¦‚ä½•è¿›è¡Œå­˜å‚¨æŒä¹…åŒ–çš„å‘¢ï¼Ÿ&nbsp;è¿˜æœªè§£å†³ï¼Œå…¶å®è¿™é‡Œæ¶‰åŠåˆ°äº†&nbsp;RocketMQ&nbsp;æ˜¯å¦‚ä½•è®¾è®¡å®ƒçš„å­˜å‚¨ç»“æ„äº†ã€‚æˆ‘é¦–å…ˆæƒ³å¤§å®¶ä»‹ç»&nbsp;RocketMQ&nbsp;æ¶ˆæ¯å­˜å‚¨æ¶æ„ä¸­çš„ä¸‰å¤§è§’è‰²â€”â€”CommitLog&nbsp;ã€ConsumeQueue&nbsp;å’Œ&nbsp;IndexFile&nbsp;ã€‚ CommitLogï¼š&nbsp;æ¶ˆæ¯ä¸»ä½“ä»¥åŠå…ƒæ•°æ®çš„å­˜å‚¨ä¸»ä½“ï¼Œå­˜å‚¨&nbsp;Producer&nbsp;ç«¯å†™å…¥çš„æ¶ˆæ¯ä¸»ä½“å†…å®¹,æ¶ˆæ¯å†…å®¹ä¸æ˜¯å®šé•¿çš„ã€‚å•ä¸ªæ–‡ä»¶å¤§å°é»˜è®¤1G ï¼Œæ–‡ä»¶åé•¿åº¦ä¸º20ä½ï¼Œå·¦è¾¹è¡¥é›¶ï¼Œå‰©ä½™ä¸ºèµ·å§‹åç§»é‡ï¼Œæ¯”å¦‚00000000000000000000ä»£è¡¨äº†ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œèµ·å§‹åç§»é‡ä¸º0ï¼Œæ–‡ä»¶å¤§å°ä¸º1G=1073741824ï¼›å½“ç¬¬ä¸€ä¸ªæ–‡ä»¶å†™æ»¡äº†ï¼Œç¬¬äºŒä¸ªæ–‡ä»¶ä¸º00000000001073741824ï¼Œèµ·å§‹åç§»é‡ä¸º1073741824ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ¶ˆæ¯ä¸»è¦æ˜¯é¡ºåºå†™å…¥æ—¥å¿—æ–‡ä»¶ï¼Œå½“æ–‡ä»¶æ»¡äº†ï¼Œå†™å…¥ä¸‹ä¸€ä¸ªæ–‡ä»¶ã€‚ ConsumeQueueï¼šæ¶ˆæ¯æ¶ˆè´¹é˜Ÿåˆ—ï¼Œå¼•å…¥çš„ç›®çš„ä¸»è¦æ˜¯æé«˜æ¶ˆæ¯æ¶ˆè´¹çš„æ€§èƒ½(æˆ‘ä»¬å†å‰é¢ä¹Ÿè®²äº†)ï¼Œç”±äºRocketMQ&nbsp;æ˜¯åŸºäºä¸»é¢˜&nbsp;Topic&nbsp;çš„è®¢é˜…æ¨¡å¼ï¼Œæ¶ˆæ¯æ¶ˆè´¹æ˜¯é’ˆå¯¹ä¸»é¢˜è¿›è¡Œçš„ï¼Œå¦‚æœè¦éå†&nbsp;commitlog&nbsp;æ–‡ä»¶ä¸­æ ¹æ®&nbsp;Topic&nbsp;æ£€ç´¢æ¶ˆæ¯æ˜¯éå¸¸ä½æ•ˆçš„ã€‚Consumer&nbsp;å³å¯æ ¹æ®&nbsp;ConsumeQueue&nbsp;æ¥æŸ¥æ‰¾å¾…æ¶ˆè´¹çš„æ¶ˆæ¯ã€‚å…¶ä¸­ï¼ŒConsumeQueueï¼ˆé€»è¾‘æ¶ˆè´¹é˜Ÿåˆ—ï¼‰ä½œä¸ºæ¶ˆè´¹æ¶ˆæ¯çš„ç´¢å¼•ï¼Œä¿å­˜äº†æŒ‡å®š&nbsp;Topic&nbsp;ä¸‹çš„é˜Ÿåˆ—æ¶ˆæ¯åœ¨&nbsp;CommitLog&nbsp;ä¸­çš„èµ·å§‹ç‰©ç†åç§»é‡&nbsp;offset&nbsp;ï¼Œæ¶ˆæ¯å¤§å°&nbsp;size&nbsp;å’Œæ¶ˆæ¯&nbsp;Tag&nbsp;çš„&nbsp;HashCode&nbsp;å€¼ã€‚consumequeue æ–‡ä»¶å¯ä»¥çœ‹æˆæ˜¯åŸºäº topic çš„ commitlog ç´¢å¼•æ–‡ä»¶ï¼Œæ•…&nbsp;consumequeue&nbsp;æ–‡ä»¶å¤¹çš„ç»„ç»‡æ–¹å¼å¦‚ä¸‹ï¼štopic/queue/fileä¸‰å±‚ç»„ç»‡ç»“æ„ï¼Œå…·ä½“å­˜å‚¨è·¯å¾„ä¸ºï¼š$HOME/store/consumequeue/{topic}/{queueId}/{fileName}ã€‚åŒæ ·&nbsp;consumequeue&nbsp;æ–‡ä»¶é‡‡å–å®šé•¿è®¾è®¡ï¼Œæ¯ä¸€ä¸ªæ¡ç›®å…±20ä¸ªå­—èŠ‚ï¼Œåˆ†åˆ«ä¸º8å­—èŠ‚çš„&nbsp;commitlog&nbsp;ç‰©ç†åç§»é‡ã€4å­—èŠ‚çš„æ¶ˆæ¯é•¿åº¦ã€8å­—èŠ‚tag&nbsp;hashcodeï¼Œå•ä¸ªæ–‡ä»¶ç”±30Wä¸ªæ¡ç›®ç»„æˆï¼Œå¯ä»¥åƒæ•°ç»„ä¸€æ ·éšæœºè®¿é—®æ¯ä¸€ä¸ªæ¡ç›®ï¼Œæ¯ä¸ª&nbsp;ConsumeQueueæ–‡ä»¶å¤§å°çº¦5.72Mï¼› IndexFileï¼š&nbsp;IndexFileï¼ˆç´¢å¼•æ–‡ä»¶ï¼‰æä¾›äº†ä¸€ç§å¯ä»¥é€šè¿‡keyæˆ–æ—¶é—´åŒºé—´æ¥æŸ¥è¯¢æ¶ˆæ¯çš„æ–¹æ³•ã€‚è¿™é‡Œåªåšç§‘æ™®ä¸åšè¯¦ç»†ä»‹ç»ã€‚ æ€»ç»“æ¥è¯´ï¼Œæ•´ä¸ªæ¶ˆæ¯å­˜å‚¨çš„ç»“æ„ï¼Œæœ€ä¸»è¦çš„å°±æ˜¯&nbsp;CommitLoq&nbsp;å’Œ&nbsp;ConsumeQueue&nbsp;ã€‚è€Œ&nbsp;ConsumeQueue&nbsp;ä½ å¯ä»¥å¤§æ¦‚ç†è§£ä¸º&nbsp;Topic&nbsp;ä¸­çš„é˜Ÿåˆ—ã€‚ RocketMQ&nbsp;é‡‡ç”¨çš„æ˜¯&nbsp;æ··åˆå‹çš„å­˜å‚¨ç»“æ„&nbsp;ï¼Œå³ä¸º&nbsp;Broker&nbsp;å•ä¸ªå®ä¾‹ä¸‹æ‰€æœ‰çš„é˜Ÿåˆ—å…±ç”¨ä¸€ä¸ªæ—¥å¿—æ•°æ®æ–‡ä»¶æ¥å­˜å‚¨æ¶ˆæ¯ã€‚æœ‰æ„æ€çš„æ˜¯åœ¨åŒæ ·é«˜å¹¶å‘çš„&nbsp;Kafka&nbsp;ä¸­ä¼šä¸ºæ¯ä¸ª&nbsp;Topic&nbsp;åˆ†é…ä¸€ä¸ªå­˜å‚¨æ–‡ä»¶ã€‚è¿™å°±æœ‰ç‚¹ç±»ä¼¼äºæˆ‘ä»¬æœ‰ä¸€å¤§å †ä¹¦éœ€è¦è£…ä¸Šä¹¦æ¶ï¼ŒRockeMQ&nbsp;æ˜¯ä¸åˆ†ä¹¦çš„ç§ç±»ç›´æ¥æˆæ‰¹çš„å¡ä¸Šå»çš„ï¼Œè€Œ&nbsp;Kafka&nbsp;æ˜¯å°†ä¹¦æœ¬æ”¾å…¥æŒ‡å®šçš„åˆ†ç±»åŒºåŸŸçš„ã€‚ è€Œ&nbsp;RocketMQ&nbsp;ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšå‘¢ï¼ŸåŸå› æ˜¯&nbsp;æé«˜æ•°æ®çš„å†™å…¥æ•ˆç‡&nbsp;ï¼Œä¸åˆ†&nbsp;Topic&nbsp;æ„å‘³ç€æˆ‘ä»¬æœ‰æ›´å¤§çš„å‡ ç‡è·å–&nbsp;æˆæ‰¹&nbsp;çš„æ¶ˆæ¯è¿›è¡Œæ•°æ®å†™å…¥ï¼Œä½†ä¹Ÿä¼šå¸¦æ¥ä¸€ä¸ªéº»çƒ¦å°±æ˜¯è¯»å–æ¶ˆæ¯çš„æ—¶å€™éœ€è¦éå†æ•´ä¸ªå¤§æ–‡ä»¶ï¼Œè¿™æ˜¯éå¸¸è€—æ—¶çš„ã€‚ æ‰€ä»¥ï¼Œåœ¨&nbsp;RocketMQ&nbsp;ä¸­åˆä½¿ç”¨äº†&nbsp;ConsumeQueue&nbsp;ä½œä¸ºæ¯ä¸ªé˜Ÿåˆ—çš„ç´¢å¼•æ–‡ä»¶æ¥&nbsp;æå‡è¯»å–æ¶ˆæ¯çš„æ•ˆç‡ã€‚æˆ‘ä»¬å¯ä»¥ç›´æ¥æ ¹æ®é˜Ÿåˆ—çš„æ¶ˆæ¯åºå·ï¼Œè®¡ç®—å‡ºç´¢å¼•çš„å…¨å±€ä½ç½®ï¼ˆç´¢å¼•åºå·*ç´¢å¼•å›ºå®šâ»“åº¦20ï¼‰ï¼Œç„¶åç›´æ¥è¯»å–è¿™æ¡ç´¢å¼•ï¼Œå†æ ¹æ®ç´¢å¼•ä¸­è®°å½•çš„æ¶ˆæ¯çš„å…¨å±€ä½ç½®ï¼Œæ‰¾åˆ°æ¶ˆæ¯ã€‚ è®²åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½å¯¹&nbsp;RockeMQ&nbsp;çš„å­˜å‚¨æ¶æ„è¿˜æœ‰äº›æ¨¡ç³Šï¼Œæ²¡äº‹ï¼Œæˆ‘ä»¬ç»“åˆç€å›¾æ¥ç†è§£ä¸€ä¸‹ã€‚ emmmï¼Œæ˜¯ä¸æ˜¯æœ‰ä¸€ç‚¹å¤æ‚ğŸ¤£ï¼Œçœ‹è‹±æ–‡å›¾ç‰‡å’Œè‹±æ–‡æ–‡æ¡£çš„æ—¶å€™å°±ä¸è¦æ€‚ï¼Œç¡¬ç€å¤´çš®å¾€ä¸‹çœ‹å°±è¡Œã€‚ å¦‚æœä¸Šé¢æ²¡çœ‹æ‡‚çš„è¯»è€…ä¸€å®šè¦è®¤çœŸçœ‹ä¸‹é¢çš„æµç¨‹åˆ†æï¼ é¦–å…ˆï¼Œåœ¨æœ€ä¸Šé¢çš„é‚£ä¸€å—å°±æ˜¯æˆ‘åˆšåˆšè®²çš„ä½ ç°åœ¨å¯ä»¥ç›´æ¥&nbsp;æŠŠ&nbsp;ConsumerQueue&nbsp;ç†è§£ä¸º&nbsp;Queueã€‚ åœ¨å›¾ä¸­æœ€å·¦è¾¹è¯´æ˜äº†&nbsp;çº¢è‰²æ–¹å—&nbsp;ä»£è¡¨è¢«å†™å…¥çš„æ¶ˆæ¯ï¼Œè™šçº¿æ–¹å—ä»£è¡¨ç­‰å¾…è¢«å†™å…¥çš„ã€‚å·¦è¾¹çš„ç”Ÿäº§è€…å‘é€æ¶ˆæ¯ä¼šæŒ‡å®š&nbsp;Topic&nbsp;ã€QueueId&nbsp;å’Œå…·ä½“æ¶ˆæ¯å†…å®¹ï¼Œè€Œåœ¨&nbsp;Broker&nbsp;ä¸­ç®¡ä½ æ˜¯å“ªé—¨å­æ¶ˆæ¯ï¼Œä»–ç›´æ¥ å…¨éƒ¨é¡ºåºå­˜å‚¨åˆ°äº† CommitLog ã€‚è€Œæ ¹æ®ç”Ÿäº§è€…æŒ‡å®šçš„&nbsp;Topic&nbsp;å’Œ&nbsp;QueueId&nbsp;å°†è¿™æ¡æ¶ˆæ¯æœ¬èº«åœ¨&nbsp;CommitLog&nbsp;çš„åç§»(offset)ï¼Œæ¶ˆæ¯æœ¬èº«å¤§å°ï¼Œå’Œtagçš„hashå€¼å­˜å…¥å¯¹åº”çš„&nbsp;ConsumeQueue&nbsp;ç´¢å¼•æ–‡ä»¶ä¸­ã€‚è€Œåœ¨æ¯ä¸ªé˜Ÿåˆ—ä¸­éƒ½ä¿å­˜äº†&nbsp;ConsumeOffset&nbsp;å³æ¯ä¸ªæ¶ˆè´¹è€…ç»„çš„æ¶ˆè´¹ä½ç½®(æˆ‘åœ¨æ¶æ„é‚£é‡Œæåˆ°äº†ï¼Œå¿˜äº†çš„åŒå­¦å¯ä»¥å›å»çœ‹ä¸€ä¸‹)ï¼Œè€Œæ¶ˆè´¹è€…æ‹‰å–æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹çš„æ—¶å€™åªéœ€è¦æ ¹æ®&nbsp;ConsumeOffset&nbsp;è·å–ä¸‹ä¸€ä¸ªæœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯å°±è¡Œäº†ã€‚ ä¸Šè¿°å°±æ˜¯æˆ‘å¯¹äºæ•´ä¸ªæ¶ˆæ¯å­˜å‚¨æ¶æ„çš„å¤§æ¦‚ç†è§£(è¿™é‡Œä¸æ¶‰åŠåˆ°ä¸€äº›ç»†èŠ‚è®¨è®ºï¼Œæ¯”å¦‚ç¨€ç–ç´¢å¼•ç­‰ç­‰é—®é¢˜)ï¼Œå¸Œæœ›å¯¹ä½ æœ‰å¸®åŠ©ã€‚ å› ä¸ºæœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹å› ä¸ºå†™å—¨äº†å¿˜è®²äº†ï¼Œæƒ³æƒ³åœ¨å“ªé‡ŒåŠ ä¹Ÿä¸å¥½ï¼Œæ‰€ä»¥æˆ‘ç•™ç»™å¤§å®¶å»æ€è€ƒä¸€ä¸‹å§ã€‚ ä¸ºä»€ä¹ˆ&nbsp;CommitLog&nbsp;æ–‡ä»¶è¦è®¾è®¡æˆå›ºå®šå¤§å°çš„é•¿åº¦å‘¢ï¼Ÿæé†’ï¼šå†…å­˜æ˜ å°„æœºåˆ¶ã€‚ æ€»ç»“æ€»ç®—æŠŠè¿™ç¯‡åšå®¢å†™å®Œäº†ã€‚æˆ‘è®²çš„ä½ ä»¬è¿˜è®°å¾—å—ï¼Ÿ è¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä¸»è¦æƒ³å¤§å®¶ä»‹ç»äº† æ¶ˆæ¯é˜Ÿåˆ—å‡ºç°çš„åŸå›  æ¶ˆæ¯é˜Ÿåˆ—çš„ä½œç”¨(å¼‚æ­¥ï¼Œè§£è€¦ï¼Œå‰Šå³°) æ¶ˆæ¯é˜Ÿåˆ—å¸¦æ¥çš„ä¸€ç³»åˆ—é—®é¢˜(æ¶ˆæ¯å †ç§¯ã€é‡å¤æ¶ˆè´¹ã€é¡ºåºæ¶ˆè´¹ã€åˆ†å¸ƒå¼äº‹åŠ¡ç­‰ç­‰) æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¶ˆæ¯æ¨¡å‹â€”â€”é˜Ÿåˆ—å’Œä¸»é¢˜æ¨¡å¼ åˆ†æäº†&nbsp;RocketMQ&nbsp;çš„æŠ€æœ¯æ¶æ„(NameServer&nbsp;ã€Broker&nbsp;ã€Producer&nbsp;ã€Comsumer) ç»“åˆ&nbsp;RocketMQ&nbsp;å›ç­”äº†æ¶ˆæ¯é˜Ÿåˆ—å‰¯ä½œç”¨çš„è§£å†³æ–¹æ¡ˆ ä»‹ç»äº†&nbsp;RocketMQ&nbsp;çš„å­˜å‚¨æœºåˆ¶å’Œåˆ·ç›˜ç­–ç•¥ã€‚ ç­‰ç­‰ã€‚ã€‚ã€‚ å¦‚æœå–œæ¬¢å¯ä»¥ç‚¹èµå“Ÿã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}],"tags":[{"name":"RocketMQ","slug":"RocketMQ","permalink":"https://yuanzi222.com/tags/RocketMQ/"}],"keywords":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}]},{"title":"ç»å…¸è¯­å½•--2020-01-15","slug":"ç»å…¸è¯­å½•--2020-01-15","date":"2020-01-15T08:03:25.000Z","updated":"2020-01-15T08:20:35.567Z","comments":true,"path":"ç»å…¸è¯­å½•--2020-01-15.html","link":"","permalink":"https://yuanzi222.com/ç»å…¸è¯­å½•--2020-01-15.html","excerpt":"","text":"æœ¬æ–‡æ‘˜æŠ„è‡ªå…¬ä¼—å· stormzhang ä½ æ°¸è¿œèµšä¸åˆ°è¶…å‡ºä½ è®¤çŸ¥èŒƒå›´å¤–çš„é’±é™¤éä½ é è¿æ°”ä½†æ˜¯é è¿æ°”èµšåˆ°çš„é’±æœ€åå¾€å¾€åˆä¼šé å®åŠ›äºæ‰è¿™æ˜¯ä¸€ç§å¿…ç„¶ ä½ æ‰€èµšçš„æ¯ä¸€åˆ†é’±éƒ½æ˜¯ä½ å¯¹è¿™ä¸ªä¸–ç•Œè®¤çŸ¥çš„å˜ç°ä½ æ‰€äºçš„æ¯ä¸€åˆ†é’±éƒ½æ˜¯å› ä¸ºå¯¹è¿™ä¸ªä¸–ç•Œè®¤çŸ¥æœ‰ç¼ºé™· è¿™ä¸ªä¸–ç•Œæœ€å¤§çš„å…¬å¹³åœ¨äºå½“ä¸€ä¸ªäººçš„è´¢å¯Œå¤§äºè‡ªå·±è®¤çŸ¥çš„æ—¶å€™è¿™ä¸ªç¤¾ä¼šæœ‰100ç§æ–¹æ³•æ”¶å‰²ä½  ç›´åˆ°ä½ çš„è®¤çŸ¥å’Œè´¢å¯Œç›¸åŒ¹é…ä¸ºæ­¢","categories":[{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://yuanzi222.com/categories/è¯»ä¹¦ç¬”è®°/"}],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yuanzi222.com/tags/éšç¬”/"}],"keywords":[{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://yuanzi222.com/categories/è¯»ä¹¦ç¬”è®°/"}]},{"title":"SpringBootæ•´åˆé˜¿é‡ŒRocketMQ","slug":"SpringBootæ•´åˆé˜¿é‡ŒRocketMQ","date":"2019-12-12T07:17:12.000Z","updated":"2020-01-17T08:55:45.590Z","comments":true,"path":"SpringBootæ•´åˆé˜¿é‡ŒRocketMQ.html","link":"","permalink":"https://yuanzi222.com/SpringBootæ•´åˆé˜¿é‡ŒRocketMQ.html","excerpt":"","text":"Gitä»“åº“åœ°å€ï¼šhttps://github.com/yuanzi222/rocketmq-service.git RocketMQç›¸å…³è¯´æ˜å¯ä»¥æŸ¥çœ‹é˜¿é‡Œå®˜æ–¹æ–‡æ¡£ï¼šhttps://help.aliyun.com/document_detail/29532.html?spm=a2c4g.11186623.6.542.62ca4fedZtSUO8 SpringBootæ•´åˆé˜¿é‡ŒRocketMQ1.pom.xmlå¼•å…¥ä¾èµ–&lt;dependency> &lt;groupId>com.tft&lt;/groupId> &lt;artifactId>mq&lt;/artifactId> &lt;version>1.0.0-SNAPSHOT&lt;/version> &lt;/dependency> 2.é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”é…ç½®# rocketmq config # é˜¿é‡Œäº‘è´¦å·ç®¡ç†æ§åˆ¶å°ä¸­åˆ›å»ºçš„ AccessKeyï¼Œç”¨äºèº«ä»½è®¤è¯ rocketmq.accessKey= # é˜¿é‡Œäº‘è´¦å·ç®¡ç†æ§åˆ¶å°ä¸­åˆ›å»ºçš„ SecretKeyï¼Œç”¨äºèº«ä»½è®¤è¯ rocketmq.secretKey= # ç»„id rocketmq.groupId= # å…¬ç½‘æ¥å…¥ç‚¹ rocketmq.namesrvAddr= # æ¶ˆæ¯ä¸»é¢˜ rocketmq.topic= 3.æ¶ˆæ¯å‘é€æ–¹åªéœ€è¦åœ¨ç›¸åº”ç±»ä¸­æ³¨å…¥RocketMQTemplate@RestController public class RocketMQDemoController { @Value(\"${rocketmq.topic}\") private String topic; private static final String WECHAT_MSG_SEND = \"wechatMsgSend\"; @Autowired private RocketMQTemplate rocketMQTemplate; @RequestMapping(\"/demo.json\") public String demo(String msg) { MessageEvent messageEvent = new MessageEvent(); messageEvent.setTopic(topic); messageEvent.setTag(WECHAT_MSG_SEND); messageEvent.setMsg(msg); rocketMQTemplate.sendAsync(messageEvent); return \"ok\"; } } 4.æ¶ˆæ¯æ¶ˆè´¹æ–¹ç›‘å¬å¤„ç†ç±»å®ç°ï¼Œç»§æ‰¿AbstractMessageListenerç±»ï¼Œå®ç°handleæ–¹æ³•å³å¯@Service @RocketMQMessageListener(topic = \"TEST\") public class RocketMQListenerDemo extends AbstractMessageListener { @Override public void handle(String msg, String msgId, String tag) { switch (tag) { case MqTagConstants.WECHAT_MSG_SEND: // æ¶ˆè´¹æ¶ˆæ¯ä¸šåŠ¡é€»è¾‘ System.err.println(\"æ¶ˆè´¹æ¶ˆæ¯:\" + msg); break; default: break; } } } æ³¨æ„ï¼šæ¶ˆæ¯é˜Ÿåˆ— RocketMQ é‡Œçš„ä¸€ä¸ªæ¶ˆè´¹è€… Group ID ä»£è¡¨ä¸€ä¸ª Consumer å®ä¾‹ç¾¤ç»„ã€‚ å¯¹äºå¤§å¤šæ•°åˆ†å¸ƒå¼åº”ç”¨æ¥è¯´ï¼Œä¸€ä¸ªæ¶ˆè´¹è€… Group ID ä¸‹é€šå¸¸ä¼šæŒ‚è½½å¤šä¸ª Consumer å®ä¾‹ã€‚ è®¢é˜…å…³ç³»ä¸€è‡´æŒ‡çš„æ˜¯åŒä¸€ä¸ªæ¶ˆè´¹è€… Group ID ä¸‹æ‰€æœ‰ Consumer å®ä¾‹çš„å¤„ç†é€»è¾‘å¿…é¡»å®Œå…¨ä¸€è‡´ã€‚ ä¸€æ—¦è®¢é˜…å…³ç³»ä¸ä¸€è‡´ï¼Œæ¶ˆæ¯æ¶ˆè´¹çš„é€»è¾‘å°±ä¼šæ··ä¹±ï¼Œç”šè‡³å¯¼è‡´æ¶ˆæ¯ä¸¢å¤±ã€‚ ç”±äºæ¶ˆæ¯é˜Ÿåˆ— RocketMQ çš„è®¢é˜…å…³ç³»ä¸»è¦ç”± Topic+Tag å…±åŒç»„æˆï¼Œå› æ­¤ï¼Œä¿æŒè®¢é˜…å…³ç³»ä¸€è‡´æ„å‘³ç€åŒä¸€ä¸ªæ¶ˆè´¹è€… Group ID ä¸‹æ‰€æœ‰çš„å®ä¾‹éœ€åœ¨ä»¥ä¸‹ä¸¤æ–¹é¢å‡ä¿æŒä¸€è‡´ï¼š è®¢é˜…çš„ Topic å¿…é¡»ä¸€è‡´ï¼› è®¢é˜…çš„ Topic ä¸­çš„ Tag å¿…é¡»ä¸€è‡´ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}],"tags":[{"name":"SrpingBoot","slug":"SrpingBoot","permalink":"https://yuanzi222.com/tags/SrpingBoot/"},{"name":"RocketMQ","slug":"RocketMQ","permalink":"https://yuanzi222.com/tags/RocketMQ/"}],"keywords":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}]},{"title":"åˆ†å¸ƒå¼é”","slug":"åˆ†å¸ƒå¼é”","date":"2017-09-15T02:26:13.000Z","updated":"2020-01-04T08:44:14.362Z","comments":true,"path":"åˆ†å¸ƒå¼é”.html","link":"","permalink":"https://yuanzi222.com/åˆ†å¸ƒå¼é”.html","excerpt":"","text":"é¦–å…ˆæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªå°ä¾‹å­ï¼š å‡è®¾æŸå•†åŸæœ‰ä¸€ä¸ªå•†å“åº“å­˜å‰©10ä¸ªï¼Œç”¨æˆ·Aæƒ³è¦ä¹°6ä¸ªï¼Œç”¨æˆ·Bæƒ³è¦ä¹°5ä¸ªï¼Œåœ¨ç†æƒ³çŠ¶æ€ä¸‹ï¼Œç”¨æˆ·Aå…ˆä¹°èµ°äº†6äº†ï¼Œåº“å­˜å‡å°‘6ä¸ªè¿˜å‰©4ä¸ªï¼Œæ­¤æ—¶ç”¨æˆ·Båº”è¯¥æ— æ³•è´­ä¹°5ä¸ªï¼Œç»™å‡ºæ•°é‡ä¸è¶³çš„æç¤ºï¼›è€Œåœ¨çœŸå®æƒ…å†µä¸‹ï¼Œç”¨æˆ·Aå’ŒBåŒæ—¶è·å–åˆ°å•†å“å‰©10ä¸ªï¼ŒAä¹°èµ°6ä¸ªï¼Œåœ¨Aæ›´æ–°åº“å­˜ä¹‹å‰ï¼ŒBåˆä¹°èµ°äº†5ä¸ªï¼Œæ­¤æ—¶Bæ›´æ–°åº“å­˜ï¼Œå•†å“è¿˜å‰©5ä¸ªï¼Œè¿™å°±æ˜¯å…¸å‹çš„ç”µå•†â€œç§’æ€â€æ´»åŠ¨ã€‚ ä»ä¸Šè¿°ä¾‹å­ä¸éš¾çœ‹å‡ºï¼Œåœ¨é«˜å¹¶å‘æƒ…å†µä¸‹ï¼Œå¦‚æœä¸åšå¤„ç†å°†ä¼šå‡ºç°å„ç§ä¸å¯é¢„çŸ¥çš„åæœã€‚é‚£ä¹ˆåœ¨è¿™ç§é«˜å¹¶å‘å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œè§£å†³é—®é¢˜æœ€æœ‰æ•ˆæœ€æ™®éçš„æ–¹æ³•å°±æ˜¯ç»™å…±äº«èµ„æºæˆ–å¯¹å…±äº«èµ„æºçš„æ“ä½œåŠ ä¸€æŠŠé”ï¼Œæ¥ä¿è¯å¯¹èµ„æºçš„è®¿é—®äº’æ–¥ã€‚åœ¨Java JDKå·²ç»ä¸ºæˆ‘ä»¬æä¾›äº†è¿™æ ·çš„é”ï¼Œåˆ©ç”¨ReentrantLcokæˆ–è€…synchronizedï¼Œå³å¯è¾¾åˆ°èµ„æºäº’æ–¥è®¿é—®çš„ç›®çš„ã€‚ä½†æ˜¯åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç”±äºåˆ†å¸ƒå¼ç³»ç»Ÿçš„åˆ†å¸ƒæ€§ï¼Œå³å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹å¹¶ä¸”åˆ†å¸ƒåœ¨ä¸åŒæœºå™¨ä¸­ï¼Œè¿™ä¸¤ç§é”å°†å¤±å»åŸæœ‰é”çš„æ•ˆæœï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±å®ç°åˆ†å¸ƒå¼é”â€”â€”åˆ†å¸ƒå¼é”ã€‚ åˆ†å¸ƒå¼é”éœ€è¦å…·å¤‡å“ªäº›æ¡ä»¶ è·å–é”å’Œé‡Šæ”¾é”çš„æ€§èƒ½è¦å¥½ åˆ¤æ–­æ˜¯å¦è·å¾—é”å¿…é¡»æ˜¯åŸå­æ€§çš„ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´å¤šä¸ªè¯·æ±‚éƒ½è·å–åˆ°é” ç½‘ç»œä¸­æ–­æˆ–å®•æœºæ— æ³•é‡Šæ”¾é”æ—¶ï¼Œé”å¿…é¡»è¢«æ¸…æ¥šï¼Œä¸ç„¶ä¼šå‘ç”Ÿæ­»é” å¯é‡å…¥ä¸€ä¸ªçº¿ç¨‹ä¸­å¯ä»¥å¤šæ¬¡è·å–åŒä¸€æŠŠé”ï¼Œæ¯”å¦‚ä¸€ä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œä¸€ä¸ªå¸¦é”çš„æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¸­åˆè°ƒç”¨äº†å¦ä¸€ä¸ªéœ€è¦ç›¸åŒé”çš„æ–¹æ³•ï¼Œåˆ™è¯¥çº¿ç¨‹å¯ä»¥ç›´æ¥æ‰§è¡Œè°ƒç”¨çš„æ–¹æ³•ï¼Œè€Œæ— éœ€é‡æ–°è·å¾—é”ï¼› 5.é˜»å¡é”å’Œéé˜»å¡é”ï¼Œé˜»å¡é”å³æ²¡æœ‰è·å–åˆ°é”ï¼Œåˆ™ç»§ç»­ç­‰å¾…è·å–é”ï¼›éé˜»å¡é”å³æ²¡æœ‰è·å–åˆ°é”åï¼Œä¸ç»§ç»­ç­‰å¾…ï¼Œç›´æ¥è¿”å›é”å¤±è´¥ã€‚ åˆ†å¸ƒå¼é”å®ç°æ–¹å¼ä¸€ã€æ•°æ®åº“é”1. åŸºäºMySQLé”è¡¨è¯¥å®ç°æ–¹å¼å®Œå…¨ä¾é æ•°æ®åº“å”¯ä¸€ç´¢å¼•æ¥å®ç°ï¼Œå½“æƒ³è¦è·å¾—é”æ—¶ï¼Œå³å‘æ•°æ®åº“ä¸­æ’å…¥ä¸€æ¡è®°å½•ï¼Œé‡Šæ”¾é”æ—¶å°±åˆ é™¤è¿™æ¡è®°å½•ã€‚è¿™ç§æ–¹å¼å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š (1) é”æ²¡æœ‰å¤±æ•ˆæ—¶é—´ï¼Œè§£é”å¤±è´¥ä¼šå¯¼è‡´æ­»é”ï¼Œå…¶ä»–çº¿ç¨‹æ— æ³•å†è·å–åˆ°é”ï¼Œå› ä¸ºå”¯ä¸€ç´¢å¼•insertéƒ½ä¼šè¿”å›å¤±è´¥ã€‚ (2) åªèƒ½æ˜¯éé˜»å¡é”ï¼Œinsertå¤±è´¥ç›´æ¥å°±æŠ¥é”™äº†ï¼Œæ— æ³•è¿›å…¥é˜Ÿåˆ—è¿›è¡Œé‡è¯• (3) ä¸å¯é‡å…¥ï¼ŒåŒä¸€çº¿ç¨‹åœ¨æ²¡æœ‰é‡Šæ”¾é”ä¹‹å‰æ— æ³•å†è·å–åˆ°é” 2. é‡‡ç”¨ä¹è§‚é”å¢åŠ ç‰ˆæœ¬å·æ ¹æ®ç‰ˆæœ¬å·æ¥åˆ¤æ–­æ›´æ–°ä¹‹å‰æœ‰æ²¡æœ‰å…¶ä»–çº¿ç¨‹æ›´æ–°è¿‡ï¼Œå¦‚æœè¢«æ›´æ–°è¿‡ï¼Œåˆ™è·å–é”å¤±è´¥ã€‚ äºŒã€ç¼“å­˜é”è¿™é‡Œæˆ‘ä»¬ä¸»è¦ä»‹ç»å‡ ç§åŸºäºrediså®ç°çš„åˆ†å¸ƒå¼é”ï¼š 1. åŸºäºsetnxã€expireä¸¤ä¸ªå‘½ä»¤æ¥å®ç°åŸºäºsetnxï¼ˆset if not existï¼‰çš„ç‰¹ç‚¹ï¼Œå½“ç¼“å­˜é‡Œkeyä¸å­˜åœ¨æ—¶ï¼Œæ‰ä¼šå»setï¼Œå¦åˆ™ç›´æ¥è¿”å›falseã€‚å¦‚æœè¿”å›trueåˆ™è·å–åˆ°é”ï¼Œå¦åˆ™è·å–é”å¤±è´¥ï¼Œä¸ºäº†é˜²æ­¢æ­»é”ï¼Œæˆ‘ä»¬å†ç”¨expireå‘½ä»¤å¯¹è¿™ä¸ªkeyè®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´æ¥é¿å…ã€‚ä½†æ˜¯è¿™é‡Œçœ‹ä¼¼å®Œç¾ï¼Œå®åˆ™æœ‰ç¼ºé™·ï¼Œå½“æˆ‘ä»¬setnxæˆåŠŸåï¼Œçº¿ç¨‹å‘ç”Ÿå¼‚å¸¸ä¸­æ–­ï¼Œexpireè¿˜æ²¡æ¥çš„åŠè®¾ç½®ï¼Œé‚£ä¹ˆå°±ä¼šäº§ç”Ÿæ­»é”ã€‚ è§£å†³ä¸Šè¿°é—®é¢˜æœ‰ä¸¤ç§æ–¹æ¡ˆ ç¬¬ä¸€ç§æ˜¯é‡‡ç”¨redis2.6.12ç‰ˆæœ¬ä»¥åçš„setï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—é€‰é¡¹ EX seconds â€“ è®¾ç½®é”®keyçš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½æ—¶ç§’ PX milliseconds â€“ è®¾ç½®é”®keyçš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½æ—¶æ¯«ç§’ NX â€“ åªæœ‰é”®keyä¸å­˜åœ¨çš„æ—¶å€™æ‰ä¼šè®¾ç½®keyçš„å€¼ XX â€“ åªæœ‰é”®keyå­˜åœ¨çš„æ—¶å€™æ‰ä¼šè®¾ç½®keyçš„å€¼ ç¬¬äºŒç§é‡‡ç”¨setnx()ï¼Œget()ï¼Œgetset()å®ç°ï¼Œå¤§ä½“çš„å®ç°è¿‡ç¨‹å¦‚ä¸‹ï¼š (1) çº¿ç¨‹Asetnxï¼Œå€¼ä¸ºè¶…æ—¶çš„æ—¶é—´æˆ³(t1)ï¼Œå¦‚æœè¿”å›trueï¼Œè·å¾—é”ã€‚ (2) çº¿ç¨‹Bç”¨get å‘½ä»¤è·å–t1ï¼Œä¸å½“å‰æ—¶é—´æˆ³æ¯”è¾ƒï¼Œåˆ¤æ–­æ˜¯å¦è¶…æ—¶ï¼Œæ²¡è¶…æ—¶falseï¼Œå¦‚æœå·²è¶…æ—¶æ‰§è¡Œæ­¥éª¤3 (3) è®¡ç®—æ–°çš„è¶…æ—¶æ—¶é—´t2ï¼Œä½¿ç”¨getsetå‘½ä»¤è¿”å›t3(è¿™ä¸ªå€¼å¯èƒ½å…¶ä»–çº¿ç¨‹å·²ç»ä¿®æ”¹è¿‡)ï¼Œå¦‚æœt1==t3,è·å¾—é”,å¦‚æœt1!=t3è¯´æ˜é”è¢«å…¶ä»–çº¿ç¨‹è·å–äº† (4) è·å–é”åï¼Œå¤„ç†å®Œä¸šåŠ¡é€»è¾‘ï¼Œå†å»åˆ¤æ–­é”æ˜¯å¦è¶…æ—¶ï¼Œå¦‚æœæ²¡è¶…æ—¶åˆ é™¤é”ï¼Œå¦‚æœå·²è¶…æ—¶ï¼Œä¸ç”¨å¤„ç†ï¼ˆé˜²æ­¢åˆ é™¤å…¶ä»–çº¿ç¨‹çš„é”ï¼‰ 2. RedLockç®—æ³•redlockç®—æ³•æ˜¯redisä½œè€…æ¨èçš„ä¸€ç§åˆ†å¸ƒå¼é”å®ç°æ–¹å¼ï¼Œç®—æ³•çš„å†…å®¹å¦‚ä¸‹ï¼š (1) è·å–å½“å‰æ—¶é—´ï¼› (2) å°è¯•ä»5ä¸ªç›¸äº’ç‹¬ç«‹rediså®¢æˆ·ç«¯è·å–é”ï¼› (3) è®¡ç®—è·å–æ‰€æœ‰é”æ¶ˆè€—çš„æ—¶é—´ï¼Œå½“ä¸”ä»…å½“å®¢æˆ·ç«¯ä»å¤šæ•°èŠ‚ç‚¹è·å–é”ï¼Œå¹¶ä¸”è·å–é”çš„æ—¶é—´å°äºé”çš„æœ‰æ•ˆæ—¶é—´ï¼Œè®¤ä¸ºè·å¾—é”ï¼› (4) é‡æ–°è®¡ç®—æœ‰æ•ˆæœŸæ—¶é—´ï¼ŒåŸæœ‰æ•ˆæ—¶é—´å‡å»è·å–é”æ¶ˆè€—çš„æ—¶é—´ï¼› (5) åˆ é™¤æ‰€æœ‰å®ä¾‹çš„é” redlockç®—æ³•ç›¸å¯¹äºå•èŠ‚ç‚¹redisé”å¯é æ€§è¦æ›´é«˜ï¼Œä½†æ˜¯å®ç°èµ·æ¥æ¡ä»¶ä¹Ÿè¾ƒä¸ºè‹›åˆ»ã€‚ (1) å¿…é¡»éƒ¨ç½²5ä¸ªèŠ‚ç‚¹æ‰èƒ½è®©Redlockçš„å¯é æ€§æ›´å¼ºã€‚ (2) éœ€è¦è¯·æ±‚5ä¸ªèŠ‚ç‚¹æ‰èƒ½è·å–åˆ°é”ï¼Œé€šè¿‡Futureçš„æ–¹å¼ï¼Œå…ˆå¹¶å‘å‘5ä¸ªèŠ‚ç‚¹è¯·æ±‚ï¼Œå†ä¸€èµ·è·å¾—å“åº”ç»“æœï¼Œèƒ½ç¼©çŸ­å“åº”æ—¶é—´ï¼Œä¸è¿‡è¿˜æ˜¯æ¯”å•èŠ‚ç‚¹redisé”è¦è€—è´¹æ›´å¤šæ—¶é—´ã€‚ ç„¶åç”±äºå¿…é¡»è·å–åˆ°5ä¸ªèŠ‚ç‚¹ä¸­çš„3ä¸ªä»¥ä¸Šï¼Œæ‰€ä»¥å¯èƒ½å‡ºç°è·å–é”å†²çªï¼Œå³å¤§å®¶éƒ½è·å¾—äº†1-2æŠŠé”ï¼Œç»“æœè°ä¹Ÿä¸èƒ½è·å–åˆ°é”ï¼Œè¿™ä¸ªé—®é¢˜ï¼Œredisä½œè€…å€Ÿé‰´äº†raftç®—æ³•çš„ç²¾é«“ï¼Œé€šè¿‡å†²çªååœ¨éšæœºæ—¶é—´å¼€å§‹ï¼Œå¯ä»¥å¤§å¤§é™ä½å†²çªæ—¶é—´ï¼Œä½†æ˜¯è¿™é—®é¢˜å¹¶ä¸èƒ½å¾ˆå¥½çš„é¿å…ï¼Œç‰¹åˆ«æ˜¯åœ¨ç¬¬ä¸€æ¬¡è·å–é”çš„æ—¶å€™ï¼Œæ‰€ä»¥è·å–é”çš„æ—¶é—´æˆæœ¬å¢åŠ äº†ã€‚ å¦‚æœ5ä¸ªèŠ‚ç‚¹æœ‰2ä¸ªå®•æœºï¼Œæ­¤æ—¶é”çš„å¯ç”¨æ€§ä¼šæå¤§é™ä½ï¼Œé¦–å…ˆå¿…é¡»ç­‰å¾…è¿™ä¸¤ä¸ªå®•æœºèŠ‚ç‚¹çš„ç»“æœè¶…æ—¶æ‰èƒ½è¿”å›ï¼Œå¦å¤–åªæœ‰3ä¸ªèŠ‚ç‚¹ï¼Œå®¢æˆ·ç«¯å¿…é¡»è·å–åˆ°è¿™å…¨éƒ¨3ä¸ªèŠ‚ç‚¹çš„é”æ‰èƒ½æ‹¥æœ‰é”ï¼Œéš¾åº¦ä¹ŸåŠ å¤§äº†ã€‚ å¦‚æœå‡ºç°ç½‘ç»œåˆ†åŒºï¼Œé‚£ä¹ˆå¯èƒ½å‡ºç°å®¢æˆ·ç«¯æ°¸è¿œä¹Ÿæ— æ³•è·å–é”çš„æƒ…å†µï¼Œä»‹äºè¿™ç§æƒ…å†µï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ç§æ›´å¯é çš„åˆ†å¸ƒå¼é”zookeeperé”ã€‚ ä¸‰ã€zookeeperåˆ†å¸ƒå¼é”é¦–å…ˆæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹zookeeperçš„ç‰¹æ€§ï¼Œçœ‹çœ‹å®ƒä¸ºä»€ä¹ˆé€‚åˆåšåˆ†å¸ƒå¼é”ï¼Œ zookeeperæ˜¯ä¸€ä¸ªä¸ºåˆ†å¸ƒå¼åº”ç”¨æä¾›ä¸€è‡´æ€§æœåŠ¡çš„è½¯ä»¶ï¼Œå®ƒå†…éƒ¨æ˜¯ä¸€ä¸ªåˆ†å±‚çš„æ–‡ä»¶ç³»ç»Ÿç›®å½•æ ‘ç»“æ„ï¼Œè§„å®šç»Ÿä¸€ä¸ªç›®å½•ä¸‹åªèƒ½æœ‰ä¸€ä¸ªå”¯ä¸€æ–‡ä»¶åã€‚ æ•°æ®æ¨¡å‹ï¼š æ°¸ä¹…èŠ‚ç‚¹ï¼šèŠ‚ç‚¹åˆ›å»ºåï¼Œä¸ä¼šå› ä¸ºä¼šè¯å¤±æ•ˆè€Œæ¶ˆå¤± ä¸´æ—¶èŠ‚ç‚¹ï¼šä¸æ°¸ä¹…èŠ‚ç‚¹ç›¸åï¼Œå¦‚æœå®¢æˆ·ç«¯è¿æ¥å¤±æ•ˆï¼Œåˆ™ç«‹å³åˆ é™¤èŠ‚ç‚¹ é¡ºåºèŠ‚ç‚¹ï¼šä¸ä¸Šè¿°ä¸¤ä¸ªèŠ‚ç‚¹ç‰¹æ€§ç±»ä¼¼ï¼Œå¦‚æœæŒ‡å®šåˆ›å»ºè¿™ç±»èŠ‚ç‚¹æ—¶ï¼Œzkä¼šè‡ªåŠ¨åœ¨èŠ‚ç‚¹åååŠ ä¸€ä¸ªæ•°å­—åç¼€ï¼Œå¹¶ä¸”æ˜¯æœ‰åºçš„ã€‚ ç›‘è§†å™¨ï¼ˆwatcherï¼‰ï¼š å½“åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œå¯ä»¥æ³¨å†Œä¸€ä¸ªè¯¥èŠ‚ç‚¹çš„ç›‘è§†å™¨ï¼Œå½“èŠ‚ç‚¹çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œwatchè¢«è§¦å‘æ—¶ï¼ŒZooKeeperå°†ä¼šå‘å®¢æˆ·ç«¯å‘é€ä¸”ä»…å‘é€ä¸€æ¡é€šçŸ¥ï¼Œå› ä¸ºwatchåªèƒ½è¢«è§¦å‘ä¸€æ¬¡ã€‚ æ ¹æ®zookeeperçš„è¿™äº›ç‰¹æ€§ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•åˆ©ç”¨è¿™äº›ç‰¹æ€§æ¥å®ç°åˆ†å¸ƒå¼é”ï¼š åˆ›å»ºä¸€ä¸ªé”ç›®å½•lock å¸Œæœ›è·å¾—é”çš„çº¿ç¨‹Aå°±åœ¨lockç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸´æ—¶é¡ºåºèŠ‚ç‚¹ è·å–é”ç›®å½•ä¸‹æ‰€æœ‰çš„å­èŠ‚ç‚¹ï¼Œç„¶åè·å–æ¯”è‡ªå·±å°çš„å…„å¼ŸèŠ‚ç‚¹ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¯´æ˜å½“å‰çº¿ç¨‹é¡ºåºå·æœ€å°ï¼Œè·å¾—é” çº¿ç¨‹Bè·å–æ‰€æœ‰èŠ‚ç‚¹ï¼Œåˆ¤æ–­è‡ªå·±ä¸æ˜¯æœ€å°èŠ‚ç‚¹ï¼Œè®¾ç½®ç›‘å¬(watcher)æ¯”è‡ªå·±æ¬¡å°çš„èŠ‚ç‚¹ï¼ˆåªå…³æ³¨æ¯”è‡ªå·±æ¬¡å°çš„èŠ‚ç‚¹æ˜¯ä¸ºäº†é˜²æ­¢å‘ç”Ÿâ€œç¾Šç¾¤æ•ˆåº”â€ï¼‰ çº¿ç¨‹Aå¤„ç†å®Œï¼Œåˆ é™¤è‡ªå·±çš„èŠ‚ç‚¹ï¼Œçº¿ç¨‹Bç›‘å¬åˆ°å˜æ›´äº‹ä»¶ï¼Œåˆ¤æ–­è‡ªå·±æ˜¯æœ€å°çš„èŠ‚ç‚¹ï¼Œè·å¾—é”ã€‚ å°ç»“åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå…±äº«èµ„æºäº’æ–¥è®¿é—®é—®é¢˜éå¸¸æ™®éï¼Œè€Œé’ˆå¯¹è®¿é—®å…±äº«èµ„æºçš„äº’æ–¥é—®é¢˜ï¼Œå¸¸ç”¨çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ä½¿ç”¨åˆ†å¸ƒå¼é”ï¼Œè¿™é‡Œåªä»‹ç»äº†å‡ ç§å¸¸ç”¨çš„åˆ†å¸ƒå¼é”ï¼Œåˆ†å¸ƒå¼é”çš„å®ç°æ–¹å¼è¿˜æœ‰æœ‰å¾ˆå¤šç§ï¼Œæ ¹æ®ä¸šåŠ¡é€‰æ‹©åˆé€‚çš„åˆ†å¸ƒå¼é”ï¼Œä¸‹é¢å¯¹ä¸Šè¿°å‡ ç§é”è¿›è¡Œä¸€ä¸‹æ¯”è¾ƒï¼š æ•°æ®åº“é”ï¼š ä¼˜ç‚¹ï¼šç›´æ¥ä½¿ç”¨æ•°æ®åº“ï¼Œä½¿ç”¨ç®€å•ã€‚ ç¼ºç‚¹ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿå¤§å¤šæ•°ç“¶é¢ˆéƒ½åœ¨æ•°æ®åº“ï¼Œä½¿ç”¨æ•°æ®åº“é”ä¼šå¢åŠ æ•°æ®åº“è´Ÿæ‹…ã€‚ ç¼“å­˜é”ï¼š ä¼˜ç‚¹ï¼šæ€§èƒ½é«˜ï¼Œå®ç°èµ·æ¥è¾ƒä¸ºæ–¹ä¾¿ï¼Œåœ¨å…è®¸å¶å‘çš„é”å¤±æ•ˆæƒ…å†µï¼Œä¸å½±å“ç³»ç»Ÿæ­£å¸¸ä½¿ç”¨ï¼Œå»ºè®®é‡‡ç”¨ç¼“å­˜é”ã€‚ ç¼ºç‚¹ï¼šé€šè¿‡é”è¶…æ—¶æœºåˆ¶ä¸æ˜¯ååˆ†å¯é ï¼Œå½“çº¿ç¨‹è·å¾—é”åï¼Œå¤„ç†æ—¶é—´è¿‡é•¿å¯¼è‡´é”è¶…æ—¶ï¼Œå°±å¤±æ•ˆäº†é”çš„ä½œç”¨ã€‚ zookeeperé”ï¼š ä¼˜ç‚¹ï¼šä¸ä¾é è¶…æ—¶æ—¶é—´é‡Šæ”¾é”ï¼›å¯é æ€§é«˜ï¼›ç³»ç»Ÿè¦æ±‚é«˜å¯é æ€§æ—¶ï¼Œå»ºè®®é‡‡ç”¨zookeeperé”ã€‚ ç¼ºç‚¹ï¼šæ€§èƒ½æ¯”ä¸ä¸Šç¼“å­˜é”ï¼Œå› ä¸ºè¦é¢‘ç¹çš„åˆ›å»ºèŠ‚ç‚¹åˆ é™¤èŠ‚ç‚¹ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}],"tags":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"https://yuanzi222.com/tags/åˆ†å¸ƒå¼/"}],"keywords":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}]},{"title":"åˆ†å¸ƒå¼æ¶æ„çŸ¥è¯†ä½“ç³»","slug":"åˆ†å¸ƒå¼æ¶æ„çŸ¥è¯†ä½“ç³»","date":"2017-09-08T11:03:12.000Z","updated":"2020-01-02T09:29:38.651Z","comments":true,"path":"åˆ†å¸ƒå¼æ¶æ„çŸ¥è¯†ä½“ç³».html","link":"","permalink":"https://yuanzi222.com/åˆ†å¸ƒå¼æ¶æ„çŸ¥è¯†ä½“ç³».html","excerpt":"","text":"æœ¬æ–‡è½¬è½½è‡ªå…¬ä¼—å· ç¼–ç¨‹åŸç† 1.é—®é¢˜ 1ã€ä½•ä¸ºåˆ†å¸ƒå¼ä½•ä¸ºå¾®æœåŠ¡ï¼Ÿ 2ã€ä¸ºä»€ä¹ˆéœ€è¦åˆ†å¸ƒå¼ï¼Ÿ 3ã€åˆ†å¸ƒå¼æ ¸å¿ƒç†è®ºåŸºç¡€ï¼ŒèŠ‚ç‚¹ã€ç½‘ç»œã€æ—¶é—´ã€é¡ºåºï¼Œä¸€è‡´æ€§ï¼Ÿ 4ã€åˆ†å¸ƒå¼æ˜¯ç³»ç»Ÿæœ‰å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ 5ã€åˆ†å¸ƒå¼æœ‰å“ªäº›ç±»å‹ï¼Ÿ 6ã€å¦‚ä½•å®ç°åˆ†å¸ƒå¼ï¼Ÿ 2.å…³é”®è¯èŠ‚ç‚¹ï¼Œæ—¶é—´ï¼Œä¸€è‡´æ€§ï¼ŒCAPï¼ŒACIDï¼ŒBASEï¼ŒP2Pï¼Œæœºå™¨ä¼¸ç¼©ï¼Œç½‘ç»œå˜æ›´ï¼Œè´Ÿè½½å‡è¡¡ï¼Œé™æµï¼Œé‰´æƒï¼ŒæœåŠ¡å‘ç°ï¼ŒæœåŠ¡ç¼–æ’ï¼Œé™çº§ï¼Œç†”æ–­ï¼Œå¹‚ç­‰ï¼Œåˆ†åº“åˆ†è¡¨ï¼Œåˆ†ç‰‡åˆ†åŒºï¼Œè‡ªåŠ¨è¿ç»´ï¼Œå®¹é”™å¤„ç†ï¼Œå…¨æ ˆç›‘æ§ï¼Œæ•…éšœæ¢å¤ï¼Œæ€§èƒ½è°ƒä¼˜ 3.å…¨æ–‡æ¦‚è¦éšç€ç§»åŠ¨äº’è”ç½‘çš„å‘å±•æ™ºèƒ½ç»ˆç«¯çš„æ™®åŠï¼Œè®¡ç®—æœºç³»ç»Ÿæ—©å°±ä»å•æœºç‹¬ç«‹å·¥ä½œè¿‡æ¸¡åˆ°å¤šæœºå™¨åä½œå·¥ä½œã€‚è®¡ç®—æœºä»¥é›†ç¾¤çš„æ–¹å¼å­˜åœ¨ï¼ŒæŒ‰ç…§åˆ†å¸ƒå¼ç†è®ºçš„æŒ‡å¯¼æ„å»ºå‡ºåºå¤§å¤æ‚çš„åº”ç”¨æœåŠ¡ï¼Œä¹Ÿå·²ç»æ·±å…¥äººå¿ƒã€‚æœ¬æ–‡åŠ›æ±‚ä»åˆ†å¸ƒå¼åŸºç¡€ç†è®ºï¼Œæ¶æ„è®¾è®¡æ¨¡å¼ï¼Œå·¥ç¨‹åº”ç”¨ï¼Œéƒ¨ç½²è¿ç»´ï¼Œä¸šç•Œæ–¹æ¡ˆè¿™å‡ å¤§æ–¹é¢ï¼Œä»‹ç»åŸºäºMSA(å¾®æœåŠ¡æ¶æ„)çš„åˆ†å¸ƒå¼çš„çŸ¥è¯†ä½“ç³»å¤§çº²ã€‚ä»è€Œå¯¹SOAåˆ°MSAè¿›åŒ–æœ‰ä¸ªç«‹ä½“çš„è®¤è¯†ï¼Œä»æ¦‚å¿µä¸Šå’Œå·¥å…·åº”ç”¨ä¸Šæ›´è¿‘ä¸€æ­¥äº†è§£å¾®æœåŠ¡åˆ†å¸ƒå¼çš„æœ¬è´¨ï¼Œèº«ä¸´å…¶å¢ƒçš„æ„Ÿå—å¦‚ä½•æ­å»ºå…¨å¥—å¾®æœåŠ¡æ¶æ„çš„è¿‡ç¨‹ã€‚ 4.åŸºç¡€ç†è®º4.1SOAåˆ°MSAçš„è¿›åŒ–SOAé¢å‘æœåŠ¡æ¶æ„ç”±äºä¸šåŠ¡å‘å±•åˆ°ä¸€å®šå±‚åº¦åï¼Œéœ€è¦å¯¹æœåŠ¡è¿›è¡Œè§£è€¦ï¼Œè¿›è€ŒæŠŠä¸€ä¸ªå•ä¸€çš„å¤§ç³»ç»ŸæŒ‰é€»è¾‘æ‹†åˆ†æˆä¸åŒçš„å­ç³»ç»Ÿï¼Œé€šè¿‡æœåŠ¡æ¥å£æ¥é€šè®¯ï¼Œé¢å‘æœåŠ¡çš„è®¾è®¡æ¨¡å¼ï¼Œæœ€ç»ˆéœ€è¦æ€»çº¿é›†æˆæœåŠ¡ï¼Œè€Œä¸”å¤§éƒ¨åˆ†æ—¶å€™è¿˜å…±äº«æ•°æ®åº“ï¼Œå‡ºç°å•ç‚¹æ•…éšœçš„æ—¶å€™ä¼šå¯¼è‡´æ€»çº¿å±‚é¢çš„æ•…éšœï¼Œæ›´è¿›ä¸€æ­¥å¯èƒ½ä¼šæŠŠæ•°æ®åº“æ‹–å®ï¼Œæ‰€ä»¥æ‰æœ‰äº†æ›´åŠ ç‹¬ç«‹çš„è®¾è®¡æ–¹æ¡ˆçš„å‡ºç°ã€‚ MSAå¾®æœåŠ¡æ¶æ„å¾®æœåŠ¡æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„ç‹¬ç«‹æœåŠ¡ï¼Œä»æœåŠ¡å…¥å£åˆ°æ•°æ®æŒä¹…å±‚ï¼Œé€»è¾‘ä¸Šéƒ½æ˜¯ç‹¬ç«‹éš”ç¦»çš„ï¼Œæ— éœ€æœåŠ¡æ€»çº¿æ¥æ¥å…¥ï¼Œä½†åŒæ—¶å¢åŠ äº†æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿçš„æ­å»ºå’Œç®¡ç†éš¾åº¦ï¼Œéœ€è¦å¯¹æœåŠ¡è¿›è¡Œç¼–æ’å’Œç®¡ç†ï¼Œæ‰€ä»¥ä¼´éšç€å¾®æœåŠ¡çš„å…´èµ·ï¼Œå¾®æœåŠ¡ç”Ÿæ€çš„æ•´å¥—æŠ€æœ¯æ ˆä¹Ÿéœ€è¦æ— ç¼æ¥å…¥ï¼Œæ‰èƒ½æ”¯æ’‘èµ·å¾®æœåŠ¡çš„æ²»ç†ç†å¿µã€‚ 4.2èŠ‚ç‚¹ä¸ç½‘ç»œèŠ‚ç‚¹ä¼ ç»Ÿçš„èŠ‚ç‚¹ä¹Ÿå°±æ˜¯ä¸€å°å•ä½“çš„ç‰©ç†æœºï¼Œæ‰€æœ‰çš„æœåŠ¡éƒ½æ‰è¿›å»åŒ…æ‹¬æœåŠ¡å’Œæ•°æ®åº“ï¼›éšç€è™šæ‹ŸåŒ–çš„å‘å±•ï¼Œå•å°ç‰©ç†æœºå¾€å¾€å¯ä»¥åˆ†æˆå¤šå°è™šæ‹Ÿæœºï¼Œå®ç°èµ„æºåˆ©ç”¨çš„æœ€å¤§åŒ–ï¼ŒèŠ‚ç‚¹çš„æ¦‚å¿µä¹Ÿå˜æˆå•å°è™šæ‹Ÿæœºä¸Šé¢æœåŠ¡ï¼›è¿‘å‡ å¹´å®¹å™¨æŠ€æœ¯é€æ¸æˆç†Ÿåï¼ŒæœåŠ¡å·²ç»å½»åº•å®¹å™¨åŒ–ï¼Œä¹Ÿå°±æ˜¯èŠ‚ç‚¹åªæ˜¯è½»é‡çº§çš„å®¹å™¨æœåŠ¡ã€‚æ€»ä½“æ¥è¯´ï¼ŒèŠ‚ç‚¹å°±æ˜¯èƒ½æä¾›å•ä½æœåŠ¡çš„é€»è¾‘è®¡ç®—èµ„æºçš„é›†åˆã€‚ ç½‘ç»œåˆ†å¸ƒå¼æ¶æ„çš„æ ¹åŸºå°±æ˜¯ç½‘ç»œï¼Œä¸ç®¡æ˜¯å±€åŸŸç½‘è¿˜æ˜¯å…¬ç½‘ï¼Œæ²¡æœ‰ç½‘ç»œå°±æ— æ³•æŠŠè®¡ç®—æœºè”åˆåœ¨ä¸€èµ·å·¥ä½œï¼Œä½†æ˜¯ç½‘ç»œä¹Ÿå¸¦æ¥äº†ä¸€ç³»åˆ—çš„é—®é¢˜ã€‚ç½‘ç»œæ¶ˆæ¯çš„ä¼ æ’­æœ‰å…ˆå,æ¶ˆæ¯ä¸¢å¤±å’Œå»¶è¿Ÿæ˜¯ç»å¸¸å‘ç”Ÿçš„äº‹æƒ…ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸‰ç§ç½‘ç»œå·¥ä½œæ¨¡å¼ï¼š åŒæ­¥ç½‘ç»œ èŠ‚ç‚¹åŒæ­¥æ‰§è¡Œ æ¶ˆæ¯å»¶è¿Ÿæœ‰é™ é«˜æ•ˆå…¨å±€é”&gt; åŠåŒæ­¥ç½‘ç»œ é”èŒƒå›´æ”¾å®½&gt; å¼‚æ­¥ç½‘ç»œ èŠ‚ç‚¹ç‹¬ç«‹æ‰§è¡Œ æ¶ˆæ¯å»¶è¿Ÿæ— ä¸Šé™ æ— å…¨å±€é” éƒ¨åˆ†ç®—æ³•ä¸å¯è¡Œ å¸¸ç”¨ç½‘ç»œä¼ è¾“å±‚æœ‰ä¸¤å¤§åè®®çš„ç‰¹ç‚¹ç®€ä»‹ï¼š&gt; TCPåè®® é¦–å…ˆtcpå°½ç®¡å…¶ä»–å¯ä»¥æ›´å¿« tcpè§£å†³é‡å¤å’Œä¹±åºé—®é¢˜&gt; UDPåè®® å¸¸é‡æ•°æ®æµ ä¸¢åŒ…ä¸è‡´å‘½ 4.3æ—¶é—´ä¸é¡ºåºæ—¶é—´æ…¢é€Ÿç‰©ç†æ—¶ç©ºä¸­ï¼Œæ—¶é—´ç‹¬è‡ªåœ¨æµæ·Œç€ï¼Œå¯¹äºä¸²è¡Œçš„äº‹åŠ¡æ¥è¯´ï¼Œå¾ˆç®€å•çš„å°±æ˜¯è·Ÿç€æ—¶é—´çš„è„šæ­¥èµ°å°±å¯ä»¥ï¼Œå…ˆæ¥ååˆ°çš„å‘ç”Ÿã€‚è€Œåæˆ‘ä»¬å‘æ˜äº†æ—¶é’Ÿæ¥åˆ»ç”»ä»¥å¾€å‘ç”Ÿçš„æ—¶é—´ç‚¹ï¼Œæ—¶é’Ÿè®©è¿™ä¸ªä¸–ç•Œå°½ç„¶æœ‰åºã€‚ä½†æ˜¯å¯¹äºåˆ†å¸ƒå¼ä¸–ç•Œæ¥è¯´ï¼Œè·Ÿæ—¶é—´æ‰“äº¤é“ç€å®æ˜¯ä¸€ä»¶ç—›è‹¦çš„äº‹æƒ…ã€‚åˆ†å¸ƒå¼ä¸–ç•Œé‡Œé¢ï¼Œæˆ‘ä»¬è¦åè°ƒä¸åŒèŠ‚ç‚¹ä¹‹é—´çš„å…ˆæ¥ååˆ°å…³ç³»ï¼Œä½†æ˜¯ä¸åŒèŠ‚ç‚¹æœ¬èº«æ‰¿è®¤çš„æ—¶é—´åˆå„æ‰§å·±è§ï¼Œäºæ˜¯æˆ‘ä»¬åˆ›é€ äº†ç½‘ç»œæ—¶é—´åè®®ï¼ˆNTPï¼‰è¯•å›¾æ¥è§£å†³ä¸åŒèŠ‚ç‚¹ä¹‹é—´çš„æ ‡å‡†æ—¶é—´ï¼Œä½†æ˜¯NTPæœ¬èº«è¡¨ç°å¹¶ä¸å¦‚äººæ„ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆæ„é€ é™¤äº†é€»è¾‘æ—¶é’Ÿï¼Œæœ€åæ”¹è¿›ä¸ºå‘é‡æ—¶é’Ÿï¼š NTPçš„ä¸€äº›ç¼ºç‚¹ï¼Œæ— æ³•å®Œå…¨æ»¡è¶³åˆ†å¸ƒå¼ä¸‹å¹¶å‘ä»»åŠ¡çš„åè°ƒé—®é¢˜ èŠ‚ç‚¹é—´æ—¶é—´ä¸åŒæ­¥ ç¡¬ä»¶æ—¶é’Ÿæ¼‚ç§» çº¿ç¨‹å¯èƒ½ä¼‘çœ  æ“ä½œç³»ç»Ÿä¼‘çœ  ç¡¬ä»¶ä¼‘çœ  é€»è¾‘æ—¶é’Ÿ å®šä¹‰äº‹ä»¶å…ˆæ¥ååˆ° tâ€™ = max(t, t_msg + 1) &gt; å‘é‡æ—¶é’Ÿ t_iâ€™ = max(t_i, t_msg_i)&gt; åŸå­é’Ÿ é¡ºåºæœ‰äº†è¡¡é‡æ—¶é—´çš„å·¥å…·ï¼Œè§£å†³é¡ºåºé—®é¢˜è‡ªç„¶å°±æ˜¯æ°´åˆ°æ¸ æˆäº†ã€‚å› ä¸ºæ•´ä¸ªåˆ†å¸ƒå¼çš„ç†è®ºåŸºç¡€å°±æ˜¯å¦‚ä½•åå•†ä¸åŒèŠ‚ç‚¹çš„ä¸€è‡´æ€§é—®é¢˜ï¼Œè€Œé¡ºåºåˆ™æ˜¯ä¸€è‡´æ€§ç†è®ºçš„åŸºæœ¬æ¦‚å¿µï¼Œæ‰€ä»¥å‰æ–‡æˆ‘ä»¬æ‰éœ€è¦èŠ±æ—¶é—´ä»‹ç»è¡¡é‡æ—¶é—´çš„åˆ»åº¦å’Œå·¥å…·ã€‚ 4.4ä¸€è‡´æ€§ç†è®ºè¯´åˆ°ä¸€è‡´æ€§ç†è®ºï¼Œæˆ‘ä»¬å¿…é¡»çœ‹ä¸€å¼ å…³äºä¸€è‡´æ€§å¼ºå¼±å¯¹ç³»ç»Ÿå»ºè®¾å½±å“çš„å¯¹æ¯”å›¾ï¼š è¯¥å›¾å¯¹æ¯”äº†ä¸åŒä¸€è‡´æ€§ç®—æ³•ä¸‹çš„äº‹åŠ¡ï¼Œæ€§èƒ½ï¼Œé”™è¯¯ï¼Œå»¶è¿Ÿçš„å¹³è¡¡ã€‚ å¼ºä¸€è‡´æ€§ACIDå•æœºç¯å¢ƒä¸‹æˆ‘ä»¬å¯¹ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“æœ‰è‹›åˆ»çš„è¦æ±‚ï¼Œç”±äºå­˜åœ¨ç½‘ç»œçš„å»¶è¿Ÿå’Œæ¶ˆæ¯ä¸¢å¤±ï¼ŒACIDä¾¿æ˜¯ä¿è¯äº‹åŠ¡çš„åŸåˆ™ï¼Œè¿™å››å¤§åŸåˆ™ç”šè‡³æˆ‘ä»¬éƒ½ä¸éœ€è¦è§£é‡Šå‡ºæ¥å°±è€³ç†Ÿèƒ½è¯¦äº†ï¼š Atomicityï¼šåŸå­æ€§ï¼Œä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œä¸ä¼šç»“æŸåœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ã€‚ Consistencyï¼šä¸€è‡´æ€§ï¼Œåœ¨äº‹åŠ¡å¼€å§‹ä¹‹å‰å’Œäº‹åŠ¡ç»“æŸä»¥åï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§æ²¡æœ‰è¢«ç ´åã€‚ Isolationï¼šéš”ç¦»æ€§ï¼Œæ•°æ®åº“å…è®¸å¤šä¸ªå¹¶å‘äº‹åŠ¡åŒæ—¶å¯¹å…¶æ•°æ®è¿›è¡Œè¯»å†™å’Œä¿®æ”¹çš„èƒ½åŠ›ï¼Œéš”ç¦»æ€§å¯ä»¥é˜²æ­¢å¤šä¸ªäº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶ç”±äºäº¤å‰æ‰§è¡Œè€Œå¯¼è‡´æ•°æ®çš„ä¸ä¸€è‡´ã€‚ Durabilitï¼šäº‹åŠ¡å¤„ç†ç»“æŸåï¼Œå¯¹æ•°æ®çš„ä¿®æ”¹å°±æ˜¯æ°¸ä¹…çš„ï¼Œå³ä¾¿ç³»ç»Ÿæ•…éšœä¹Ÿä¸ä¼šä¸¢å¤±ã€‚ åˆ†å¸ƒå¼ä¸€è‡´æ€§CAPåˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬æ— æ³•ä¿è¯ç½‘ç»œçš„æ­£å¸¸è¿æ¥å’Œä¿¡æ¯çš„ä¼ é€ï¼Œäºæ˜¯å‘å±•å‡ºäº†CAP/FLP/DLSè¿™ä¸‰ä¸ªé‡è¦çš„ç†è®ºï¼š CAP:åˆ†å¸ƒå¼è®¡ç®—ç³»ç»Ÿä¸å¯èƒ½åŒæ—¶ç¡®ä¿ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€å¯ç”¨æ€§ï¼ˆAvailablityï¼‰å’Œåˆ†åŒºå®¹é”™æ€§ï¼ˆPartitionï¼‰ã€‚ FLPï¼šåœ¨å¼‚æ­¥ç¯å¢ƒä¸­ï¼Œå¦‚æœèŠ‚ç‚¹é—´çš„ç½‘ç»œå»¶è¿Ÿæ²¡æœ‰ä¸Šé™ï¼Œåªè¦æœ‰ä¸€ä¸ªæ¶æ„çš„èŠ‚ç‚¹å­˜åœ¨ï¼Œå°±æ²¡æœ‰ç®—æ³•èƒ½åœ¨æœ‰é™çš„æ—¶é—´å†…è¾¾æˆå…±è¯†ã€‚ DLS: ï¼ˆ1ï¼‰åœ¨ä¸€ä¸ªéƒ¨åˆ†åŒæ­¥ç½‘ç»œçš„æ¨¡å‹ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼šç½‘ç»œå»¶æ—¶æœ‰ç•Œé™ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸çŸ¥é“åœ¨å“ªé‡Œï¼‰ä¸‹è¿è¡Œçš„åè®®å¯ä»¥å®¹å¿1/3ä»»æ„ï¼ˆæ¢å¥è¯è¯´ï¼Œæ‹œå åº­ï¼‰é”™è¯¯ï¼› ï¼ˆ2ï¼‰åœ¨ä¸€ä¸ªå¼‚æ­¥æ¨¡å‹ä¸­çš„ç¡®å®šæ€§çš„åè®®ï¼ˆæ²¡æœ‰ç½‘ç»œå»¶æ—¶ä¸Šé™ï¼‰ä¸èƒ½å®¹é”™ï¼ˆä¸è¿‡è¿™ä¸ªè®ºæ–‡æ²¡æœ‰æèµ·éšæœºåŒ–ç®—æ³•å¯ä»¥å®¹å¿1/3çš„é”™è¯¯ï¼‰ï¼› ï¼ˆ3ï¼‰åŒæ­¥æ¨¡å‹ä¸­çš„åè®®ï¼ˆç½‘ç»œå»¶æ—¶å¯ä»¥ä¿è¯å°äºå·²çŸ¥dæ—¶é—´ï¼‰å¯ä»¥ï¼Œä»¤äººåƒæƒŠçš„ï¼Œè¾¾åˆ°100%å®¹é”™ï¼Œè™½ç„¶å¯¹1/2çš„èŠ‚ç‚¹å‡ºé”™å¯ä»¥å‘ç”Ÿçš„æƒ…å†µæœ‰æ‰€é™åˆ¶ å¼±ä¸€è‡´æ€§BASEå¤šæ•°æƒ…å†µä¸‹ï¼Œå…¶å®æˆ‘ä»¬ä¹Ÿå¹¶éä¸€å®šè¦æ±‚å¼ºä¸€è‡´æ€§ï¼Œéƒ¨åˆ†ä¸šåŠ¡å¯ä»¥å®¹å¿ä¸€å®šç¨‹åº¦çš„å»¶è¿Ÿä¸€è‡´ï¼Œæ‰€ä»¥ä¸ºäº†å…¼é¡¾æ•ˆç‡ï¼Œå‘å±•å‡ºæ¥äº†æœ€ç»ˆä¸€è‡´æ€§ç†è®ºBASEï¼ŒBASEæ˜¯æŒ‡åŸºæœ¬å¯ç”¨ï¼ˆBasically Availableï¼‰ã€è½¯çŠ¶æ€ï¼ˆ Soft Stateï¼‰ã€æœ€ç»ˆä¸€è‡´æ€§ï¼ˆ Eventual Consistencyï¼‰ åŸºæœ¬å¯ç”¨(Basically Available)ï¼šåŸºæœ¬å¯ç”¨æ˜¯æŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å‡ºç°æ•…éšœçš„æ—¶å€™ï¼Œå…è®¸æŸå¤±éƒ¨åˆ†å¯ç”¨æ€§ï¼Œå³ä¿è¯æ ¸å¿ƒå¯ç”¨ã€‚ è½¯çŠ¶æ€(Soft State)ï¼šè½¯çŠ¶æ€æ˜¯æŒ‡å…è®¸ç³»ç»Ÿå­˜åœ¨ä¸­é—´çŠ¶æ€ï¼Œè€Œè¯¥ä¸­é—´çŠ¶æ€ä¸ä¼šå½±å“ç³»ç»Ÿæ•´ä½“å¯ç”¨æ€§ã€‚åˆ†å¸ƒå¼å­˜å‚¨ä¸­ä¸€èˆ¬ä¸€ä»½æ•°æ®è‡³å°‘ä¼šæœ‰ä¸‰ä¸ªå‰¯æœ¬ï¼Œå…è®¸ä¸åŒèŠ‚ç‚¹é—´å‰¯æœ¬åŒæ­¥çš„å»¶æ—¶å°±æ˜¯è½¯çŠ¶æ€çš„ä½“ç°ã€‚ æœ€ç»ˆä¸€è‡´æ€§(Eventual Consistency)ï¼šæœ€ç»ˆä¸€è‡´æ€§æ˜¯æŒ‡ç³»ç»Ÿä¸­çš„æ‰€æœ‰æ•°æ®å‰¯æœ¬ç»è¿‡ä¸€å®šæ—¶é—´åï¼Œæœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°ä¸€è‡´çš„çŠ¶æ€ã€‚å¼±ä¸€è‡´æ€§å’Œå¼ºä¸€è‡´æ€§ç›¸åï¼Œæœ€ç»ˆä¸€è‡´æ€§æ˜¯å¼±ä¸€è‡´æ€§çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚ ä¸€è‡´æ€§ç®—æ³•åˆ†å¸ƒå¼æ¶æ„çš„æ ¸å¿ƒå°±åœ¨ä¸€è‡´æ€§çš„å®ç°å’Œå¦¥åï¼Œé‚£ä¹ˆå¦‚ä½•è®¾è®¡ä¸€å¥—ç®—æ³•æ¥ä¿è¯ä¸åŒèŠ‚ç‚¹ä¹‹é—´çš„é€šä¿¡å’Œæ•°æ®è¾¾åˆ°æ— é™è¶‹å‘ä¸€è‡´æ€§ï¼Œå°±éå¸¸é‡è¦äº†ã€‚ä¿è¯ä¸åŒèŠ‚ç‚¹åœ¨å……æ»¡ä¸ç¡®å®šæ€§ç½‘ç»œç¯å¢ƒä¸‹èƒ½è¾¾æˆç›¸åŒå‰¯æœ¬çš„ä¸€è‡´æ€§æ˜¯éå¸¸å›°éš¾çš„ï¼Œä¸šç•Œå¯¹è¯¥è¯¾é¢˜ä¹Ÿåšäº†å¤§é‡çš„ç ”ç©¶ã€‚ é¦–å…ˆæˆ‘ä»¬è¦äº†è§£ä¸€è‡´æ€§çš„å¤§å‰æ_åŸåˆ™_(CALM): CALMåŸåˆ™çš„å…¨ç§°æ˜¯ Consistency and Logical Monotonicity ï¼Œä¸»è¦æè¿°çš„æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å•è°ƒé€»è¾‘ä¸ä¸€è‡´æ€§çš„å…³ç³»ï¼Œå®ƒçš„å†…å®¹å¦‚ä¸‹ï¼Œå‚è€ƒconsistency as logical monotonicity åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œå•è°ƒçš„é€»è¾‘éƒ½èƒ½ä¿è¯ â€œæœ€ç»ˆä¸€è‡´æ€§â€ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä¸éœ€è¦ä¾èµ–ä¸­å¿ƒèŠ‚ç‚¹çš„è°ƒåº¦ ä»»æ„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œå¦‚æœæ‰€æœ‰çš„éå•è°ƒé€»è¾‘éƒ½æœ‰ä¸­å¿ƒèŠ‚ç‚¹è°ƒåº¦ï¼Œé‚£ä¹ˆè¿™ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿå°±å¯ä»¥å®ç°æœ€ç»ˆâ€œä¸€è‡´æ€§â€ ç„¶åå†å…³æ³¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ•°æ®ç»“æ„CRDT(Conflict-Free Replicated Data Types)ï¼š æˆ‘ä»¬äº†è§£åˆ°åˆ†å¸ƒå¼ä¸€äº›è§„å¾‹åŸåˆ™ä¹‹åï¼Œå°±è¦ç€æ‰‹è€ƒè™‘å¦‚ä½•æ¥å®ç°è§£å†³æ–¹æ¡ˆï¼Œä¸€è‡´æ€§ç®—æ³•çš„å‰ææ˜¯æ•°æ®ç»“æ„ï¼Œæˆ–è€…è¯´ä¸€åˆ‡ç®—æ³•çš„æ ¹åŸºéƒ½æ˜¯æ•°æ®ç»“æ„ï¼Œè®¾è®¡è‰¯å¥½çš„æ•°æ®ç»“æ„åŠ ä¸Šç²¾å¦™çš„ç®—æ³•å¯ä»¥é«˜æ•ˆçš„è§£å†³ç°å®çš„é—®é¢˜ã€‚ç»è¿‡å‰äººä¸æ–­çš„æ¢ç´¢ï¼Œæˆ‘ä»¬å¾—çŸ¥åˆ†å¸ƒå¼ç³»ç»Ÿè¢«å¹¿æ³›é‡‡ç”¨çš„æ•°æ®ç»“æ„CRDTã€‚ å‚è€ƒã€Šè°ˆè°ˆCRDTã€‹,A comprehensive study of Convergent and Commutative Replicated Data Types åŸºäºçŠ¶æ€(state-based)ï¼šå³å°†å„ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„CRDTæ•°æ®ç›´æ¥è¿›è¡Œåˆå¹¶ï¼Œæ‰€æœ‰èŠ‚ç‚¹éƒ½èƒ½æœ€ç»ˆåˆå¹¶åˆ°åŒä¸€ä¸ªçŠ¶æ€ï¼Œæ•°æ®åˆå¹¶çš„é¡ºåºä¸ä¼šå½±å“åˆ°æœ€ç»ˆçš„ç»“æœã€‚ åŸºäºæ“ä½œ(operation-based)ï¼šå°†æ¯ä¸€æ¬¡å¯¹æ•°æ®çš„æ“ä½œé€šçŸ¥ç»™å…¶ä»–èŠ‚ç‚¹ã€‚åªè¦èŠ‚ç‚¹çŸ¥é“äº†å¯¹æ•°æ®çš„æ‰€æœ‰æ“ä½œï¼ˆæ”¶åˆ°æ“ä½œçš„é¡ºåºå¯ä»¥æ˜¯ä»»æ„çš„ï¼‰ï¼Œå°±èƒ½åˆå¹¶åˆ°åŒä¸€ä¸ªçŠ¶æ€ã€‚ äº†è§£æ•°æ®ç»“æ„åï¼Œæˆ‘ä»¬éœ€è¦æ¥å…³æ³¨ä¸€ä¸‹åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸€äº›é‡è¦çš„_åè®®_HATs(Highly Available Transactions)ï¼ŒZAB(Zookeeper Atomic Broadcast)ï¼š å‚è€ƒã€Šé«˜å¯ç”¨äº‹åŠ¡ã€‹ï¼Œã€ŠZABåè®®åˆ†æã€‹ æœ€åè¦å­¦ä¹ çš„æ˜¯ä¸šç•Œä¸»æµçš„ä¸€è‡´æ€§_ç®—æ³•_ï¼š è¯´å®è¯å…·ä½“çš„ç®—æ³•æˆ‘ä¹Ÿè¿˜æ²¡å®Œå…¨ææ‡‚ï¼Œä¸€è‡´æ€§ç®—æ³•æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿæœ€æ ¸å¿ƒæœ¬è´¨çš„å†…å®¹ï¼Œè¿™éƒ¨åˆ†çš„å‘å±•ä¹Ÿä¼šå½±å“æ¶æ„çš„é©æ–°ï¼Œä¸åŒåœºæ™¯çš„åº”ç”¨ä¹Ÿå‚¬ç”Ÿä¸åŒçš„ç®—æ³• Paxosï¼šã€Šä¼˜é›…çš„Paxosç®—æ³•ã€‹ Raft ï¼šã€ŠRaft ä¸€è‡´æ€§ç®—æ³•ã€‹ Gossipï¼šã€ŠGossip Visualizationã€‹ è¿™ä¸€èŠ‚æˆ‘ä»¬è¯´å®Œåˆ†å¸ƒå¼ç³»ç»Ÿé‡Œé¢æ ¸å¿ƒç†è®ºåŸºç¡€ï¼Œå¦‚ä½•è¾¾æˆä¸åŒèŠ‚ç‚¹ä¹‹é—´çš„æ•°æ®ä¸€è‡´æ€§ï¼Œä¸‹é¢æˆ‘ä»¬å°†ä¼šè®²åˆ°ç›®å‰éƒ½æœ‰å“ªäº›ä¸»æµçš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚ 5.åœºæ™¯åˆ†ç±»5.1æ–‡ä»¶ç³»ç»Ÿå•å°è®¡ç®—æœºçš„å­˜å‚¨å§‹ç»ˆæœ‰ä¸Šé™ï¼Œéšç€ç½‘ç»œçš„å‡ºç°ï¼Œå¤šå°è®¡ç®—æœºåä½œå­˜å‚¨æ–‡ä»¶çš„æ–¹æ¡ˆä¹Ÿç›¸ç»§è¢«æå‡ºæ¥ã€‚æœ€æ—©çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿå…¶å®ä¹Ÿç§°ä¸ºç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼Œç¬¬ä¸€ä¸ªæ–‡ä»¶æœåŠ¡å™¨åœ¨1970å¹´ä»£è¢«å‘å±•å‡ºæ¥ã€‚åœ¨1976å¹´è¿ªå‰å¤šå…¬å¸è®¾è®¡å‡ºFile Access Listenerï¼ˆFALï¼‰ï¼Œè€Œç°ä»£åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿåˆ™å‡ºè‡ªèµ«èµ«æœ‰åçš„Googleçš„è®ºæ–‡ï¼Œã€ŠThe Google File Systemã€‹å¥ å®šäº†åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿçš„åŸºç¡€ã€‚ç°ä»£ä¸»æµåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿå‚è€ƒã€Šåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿå¯¹æ¯”ã€‹,ä¸‹é¢åˆ—ä¸¾å‡ ä¸ªå¸¸ç”¨çš„æ–‡ä»¶ç³»ç»Ÿ HDFS FastDFS Ceph mooseFS 5.2æ•°æ®åº“æ•°æ®åº“å½“ç„¶ä¹Ÿæ˜¯å±äºæ–‡ä»¶ç³»ç»Ÿï¼Œä¸»æ•°æ®å¢åŠ äº†äº‹åŠ¡ï¼Œæ£€ç´¢ï¼Œæ“¦é™¤ç­‰é«˜çº§ç‰¹æ€§ï¼Œæ‰€ä»¥å¤æ‚åº¦åˆå¢åŠ äº†ï¼Œæ—¢è¦è€ƒè™‘æ•°æ®ä¸€è‡´æ€§ä¹Ÿå¾—ä¿è¯è¶³å¤Ÿçš„æ€§èƒ½ã€‚ä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“ä¸ºäº†å…¼é¡¾äº‹åŠ¡å’Œæ€§èƒ½çš„ç‰¹æ€§ï¼Œåœ¨åˆ†å¸ƒå¼æ–¹é¢çš„å‘å±•æœ‰é™ï¼Œéå…³ç³»å‹æ•°æ®åº“æ‘†è„±äº†äº‹åŠ¡çš„å¼ºä¸€è‡´æ€§æŸç¼šï¼Œè¾¾åˆ°äº†æœ€ç»ˆä¸€è‡´æ€§çš„æ•ˆæœï¼Œä»è€Œæœ‰äº†é£è·ƒçš„å‘å±•ï¼ŒNoSql(Not Only Sql)ä¹Ÿäº§ç”Ÿäº†å¤šä¸ªæ¶æ„çš„æ•°æ®åº“ç±»å‹ï¼ŒåŒ…æ‹¬KVï¼Œåˆ—å¼å­˜å‚¨ï¼Œæ–‡æ¡£ç±»å‹ç­‰ã€‚ åˆ—å¼å­˜å‚¨ï¼šHbase æ–‡æ¡£å­˜å‚¨ï¼šElasticsearchï¼ŒMongoDB KVç±»å‹ï¼šRedis å…³ç³»å‹ï¼šSpanner 5.3è®¡ç®—åˆ†å¸ƒå¼è®¡ç®—ç³»ç»Ÿæ„å»ºåœ¨åˆ†å¸ƒå¼å­˜å‚¨çš„åŸºç¡€ä¸Šï¼Œå……åˆ†å‘æŒ¥åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ•°æ®å†—ä½™ç¾å¤‡ï¼Œå¤šå‰¯æœ¬é«˜æ•ˆè·å–æ•°æ®çš„ç‰¹æ€§ï¼Œè¿›è€Œå¹¶è¡Œè®¡ç®—ï¼ŒæŠŠåŸæœ¬éœ€è¦é•¿æ—¶é—´è®¡ç®—çš„ä»»åŠ¡æ‹†åˆ†æˆå¤šä¸ªä»»åŠ¡å¹¶è¡Œå¤„ç†ï¼Œä»è€Œæé«˜äº†è®¡ç®—æ•ˆç‡ã€‚åˆ†å¸ƒå¼è®¡ç®—ç³»ç»Ÿåœ¨åœºæ™¯ä¸Šåˆ†ä¸ºç¦»çº¿è®¡ç®—ï¼Œå®æ—¶è®¡ç®—å’Œæµå¼è®¡ç®—ã€‚ ç¦»çº¿ï¼šHadoop å®æ—¶ï¼šSpark æµå¼ï¼šStormï¼ŒFlink/Blink 5.4ç¼“å­˜ç¼“å­˜ä½œä¸ºæå‡æ€§èƒ½çš„åˆ©å™¨æ— å¤„ä¸åœ¨ï¼Œå°åˆ°CPUç¼“å­˜æ¶æ„ï¼Œå¤§é“åˆ†å¸ƒå¼åº”ç”¨å­˜å‚¨ã€‚åˆ†å¸ƒå¼ç¼“å­˜ç³»ç»Ÿæä¾›äº†çƒ­ç‚¹æ•°æ®çš„éšæœºè®¿é—®æœºåˆ¶ï¼Œå¤§å¤§äº†æå‡äº†è®¿é—®æ—¶é—´ï¼Œä½†æ˜¯å¸¦æ¥çš„é—®é¢˜æ˜¯å¦‚ä½•ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œå¼•å…¥åˆ†å¸ƒå¼é”æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸»æµçš„åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»ŸåŸºæœ¬å°±æ˜¯Redisäº† æŒä¹…åŒ–ï¼šRedis éæŒä¹…åŒ–ï¼šMemcache 5.5æ¶ˆæ¯åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿæ˜¯æ¶ˆé™¤å¼‚æ­¥å¸¦æ¥ä¸€ç³»åˆ—çš„å¤æ‚æ­¥éª¤çš„ä¸€å¤§åˆ©å™¨ï¼Œå¤šçº¿ç¨‹é«˜å¹¶å‘åœºæ™¯å…ˆæˆ‘ä»¬å¸¸å¸¸è¦è°¨æ…çš„å»è®¾è®¡ä¸šåŠ¡ä»£ç ï¼Œæ¥ä¿è¯å¤šçº¿ç¨‹å¹¶å‘æƒ…å†µä¸‹ä¸å‡ºç°èµ„æºç«äº‰å¯¼è‡´çš„æ­»é”é—®é¢˜ã€‚è€Œæ¶ˆæ¯é˜Ÿåˆ—ä»¥ä¸€ç§å»¶è¿Ÿæ¶ˆè´¹çš„æ¨¡å¼å°†å¼‚æ­¥ä»»åŠ¡éƒ½å­˜åˆ°é˜Ÿåˆ—ï¼Œç„¶åå†é€ä¸ªæ¶ˆåŒ–ã€‚ Kafka RabbitMQ RocketMQ ActiveMQ 5.6ç›‘æ§åˆ†å¸ƒå¼ç³»ç»Ÿä»å•æœºåˆ°é›†ç¾¤çš„å½¢æ€å‘å±•ï¼Œå¤æ‚åº¦ä¹Ÿå¤§å¤§æé«˜ï¼Œæ‰€ä»¥å¯¹æ•´ä¸ªç³»ç»Ÿçš„ç›‘æ§ä¹Ÿæ˜¯å¿…ä¸å¯å°‘ã€‚ Zookeeper 5.7åº”ç”¨åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒæ¨¡å—å°±æ˜¯åœ¨åº”ç”¨å¦‚ä½•å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œåº”ç”¨ç›´æ¥çš„è°ƒç”¨ä¾èµ–äºç‰¹å®šçš„åè®®æ¥é€šä¿¡ï¼Œæœ‰åŸºäºRPCåè®®çš„ä¹Ÿæœ‰åŸºäºé€šç”¨çš„HTTPåè®®ã€‚ HSF Dubbo 5.8æ—¥å¿—é”™è¯¯å¯¹åº”åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯å®¶å¸¸ä¾¿é¥­ï¼Œè€Œä¸”æˆ‘ä»¬è®¾è®¡ç³»ç»Ÿçš„æ—¶å€™æœ¬èº«å°±éœ€è¦æŠŠå®¹é”™ä½œä¸ºæ™®éå­˜åœ¨çš„ç°è±¡æ¥è€ƒè™‘ã€‚é‚£ä¹ˆå½“å‡ºç°æ•…éšœçš„æ—¶å€™ï¼Œå¿«é€Ÿæ¢å¤å’Œæ’æŸ¥æ•…éšœå°±æ˜¾å¾—éå¸¸é‡è¦äº†ã€‚åˆ†å¸ƒå¼æ—¥å¿—é‡‡é›†å­˜å‚¨å’Œæ£€ç´¢åˆ™å¯ä»¥ç»™æˆ‘æä¾›æœ‰åŠ›çš„å·¥å…·æ¥å®šä½è¯·æ±‚é“¾è·¯ä¸­å‡ºç°é—®é¢˜çš„ç¯èŠ‚ã€‚ æ—¥å¿—é‡‡é›†ï¼šflume æ—¥å¿—å­˜å‚¨ï¼šElasticSearch/Solrï¼ŒSLS æ—¥å¿—å®šä½ï¼šZipkin 5.9è´¦æœ¬å‰æ–‡æˆ‘ä»¬æåˆ°æ‰€è°“åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ˜¯è¿«äºå•æœºçš„æ€§èƒ½æœ‰é™ï¼Œè€Œå †ç¡¬ä»¶å´åˆæ— æ³•æ— ä¼‘æ­¢çš„å¢åŠ ï¼Œå•æœºå †ç¡¬ä»¶æœ€ç»ˆä¹Ÿä¼šé‡åˆ°æ€§èƒ½å¢é•¿æ›²çº¿çš„ç“¶é¢ˆã€‚äºæ˜¯æˆ‘ä»¬æ‰é‡‡ç”¨äº†å¤šå°è®¡ç®—æœºæ¥å¹²åŒæ ·çš„æ´»ï¼Œä½†æ˜¯è¿™æ ·çš„åˆ†å¸ƒå¼ç³»ç»Ÿå§‹ç»ˆéœ€è¦ä¸­å¿ƒåŒ–çš„èŠ‚ç‚¹æ¥ç›‘æ§æˆ–è€…è°ƒåº¦ç³»ç»Ÿçš„èµ„æºï¼Œå³ä½¿è¯¥ä¸­å¿ƒèŠ‚ç‚¹ä¹Ÿå¯èƒ½æ˜¯å¤šèŠ‚ç‚¹ç»„æˆã€‚è€ŒåŒºå—é“¾åˆ™æ˜¯çœŸæ­£çš„åŒºä¸­å¿ƒåŒ–åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œç³»ç»Ÿé‡Œé¢æ‰æœ‰P2Pç½‘ç»œåè®®å„è‡ªé€šä¿¡ï¼Œæ²¡æœ‰çœŸæ­£æ„ä¹‰çš„ä¸­å¿ƒèŠ‚ç‚¹ï¼Œå½¼æ­¤æŒ‰ç…§åŒºå—é“¾èŠ‚ç‚¹çš„ç®—åŠ›ï¼Œæƒç›Šç­‰æœºåˆ¶æ¥åè°ƒæ–°åŒºå—çš„äº§ç”Ÿã€‚ æ¯”ç‰¹å¸ ä»¥å¤ªåŠ 6.è®¾è®¡æ¨¡å¼ä¸ŠèŠ‚æˆ‘ä»¬åˆ—ä¸¾äº†ä¸åŒåœºæ™¯ä¸‹ä¸åŒåˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„æ‰®æ¼”çš„è§’è‰²å’Œå®ç°çš„åŠŸèƒ½ï¼Œæœ¬èŠ‚æˆ‘ä»¬æ›´è¿›ä¸€æ­¥å½’çº³åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡çš„æ—¶å€™æ˜¯å¦‚ä½•è€ƒè™‘æ¶æ„è®¾è®¡çš„ï¼Œä¸åŒè®¾è®¡æ–¹æ¡ˆç›´æ¥çš„åŒºåˆ«å’Œä¾§é‡ç‚¹ï¼Œä¸åŒåœºæ™¯éœ€è¦é€‰æ‹©åˆä½œè®¾è®¡æ¨¡å¼ï¼Œæ¥å‡å°‘è¯•é”™çš„æˆæœ¬ï¼Œè®¾è®¡åˆ†å¸ƒå¼ç³»ç»Ÿéœ€è¦è€ƒè™‘ä»¥ä¸‹çš„é—®é¢˜ã€‚ 6.1å¯ç”¨æ€§å¯ç”¨æ€§æ˜¯ç³»ç»Ÿè¿è¡Œå’Œå·¥ä½œçš„æ—¶é—´æ¯”ä¾‹ï¼Œé€šå¸¸ä»¥æ­£å¸¸è¿è¡Œæ—¶é—´çš„ç™¾åˆ†æ¯”æ¥è¡¡é‡ã€‚å®ƒå¯èƒ½å—ç³»ç»Ÿé”™è¯¯ï¼ŒåŸºç¡€æ¶æ„é—®é¢˜ï¼Œæ¶æ„æ”»å‡»å’Œç³»ç»Ÿè´Ÿè½½çš„å½±å“ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿé€šå¸¸ä¸ºç”¨æˆ·æä¾›æœåŠ¡çº§åˆ«åè®®ï¼ˆSLAï¼‰ï¼Œå› æ­¤åº”ç”¨ç¨‹åºå¿…é¡»è®¾è®¡ä¸ºæœ€å¤§åŒ–å¯ç”¨æ€§ã€‚ å¥åº·æ£€æŸ¥ï¼šç³»ç»Ÿå®ç°å…¨é“¾è·¯åŠŸèƒ½æ£€æŸ¥ï¼Œå¤–éƒ¨å·¥å…·å®šæœŸé€šè¿‡å…¬å¼€ç«¯ç‚¹è®¿é—®ç³»ç»Ÿ è´Ÿè½½å‡è¡¡ï¼šä½¿ç”¨é˜Ÿåˆ—èµ·åˆ°å‰Šå³°ä½œç”¨ï¼Œä½œä¸ºè¯·æ±‚å’ŒæœåŠ¡ä¹‹é—´çš„ç¼“å†²åŒºï¼Œä»¥å¹³æ»‘é—´æ­‡æ€§çš„é‡è´Ÿè½½ èŠ‚æµï¼šé™åˆ¶åº”ç”¨çº§åˆ«ã€ç§Ÿæˆ·æˆ–æ•´ä¸ªæœåŠ¡æ‰€æ¶ˆè€—èµ„æºçš„èŒƒå›´ 6.2æ•°æ®ç®¡ç†æ•°æ®ç®¡ç†æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„å…³é”®è¦ç´ ï¼Œå¹¶å½±å“å¤§å¤šæ•°è´¨é‡çš„å±æ€§ã€‚ç”±äºæ€§èƒ½ï¼Œå¯æ‰©å±•æ€§æˆ–å¯ç”¨æ€§ç­‰åŸå› ï¼Œæ•°æ®é€šå¸¸æ‰˜ç®¡åœ¨ä¸åŒä½ç½®å’Œå¤šä¸ªæœåŠ¡å™¨ä¸Šï¼Œè¿™å¯èƒ½å¸¦æ¥ä¸€ç³»åˆ—æŒ‘æˆ˜ã€‚ä¾‹å¦‚ï¼Œå¿…é¡»ç»´æŠ¤æ•°æ®ä¸€è‡´æ€§ï¼Œå¹¶ä¸”é€šå¸¸éœ€è¦è·¨ä¸åŒä½ç½®åŒæ­¥æ•°æ®ã€‚ ç¼“å­˜ï¼šæ ¹æ®éœ€è¦å°†æ•°æ®ä»æ•°æ®å­˜å‚¨å±‚åŠ è½½åˆ°ç¼“å­˜ CQRS(Command Query Responsibility Segregation)ï¼š &nbsp; &nbsp;å‘½ä»¤æŸ¥è¯¢èŒè´£åˆ†ç¦» äº‹ä»¶æº¯æºï¼šä»…ä½¿ç”¨è¿½åŠ æ–¹å¼è®°å½•åŸŸä¸­å®Œæ•´çš„ç³»åˆ—äº‹ä»¶ ç´¢å¼•è¡¨ï¼šåœ¨ç»å¸¸æŸ¥è¯¢å¼•ç”¨çš„å­—æ®µä¸Šåˆ›å»ºç´¢å¼• ç‰©åŒ–è§†å›¾ï¼šç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®é¢„å¡«å……è§†å›¾ æ‹†åˆ†ï¼šå°†æ•°æ®æ‹†åˆ†ä¸ºæ°´å¹³çš„åˆ†åŒºæˆ–åˆ†ç‰‡ 6.3è®¾è®¡ä¸å®ç°è‰¯å¥½çš„è®¾è®¡åŒ…æ‹¬è¯¸å¦‚ç»„ä»¶è®¾è®¡å’Œéƒ¨ç½²çš„ä¸€è‡´æ€§ï¼Œç®€åŒ–ç®¡ç†å’Œå¼€å‘çš„å¯ç»´æŠ¤æ€§ï¼Œä»¥åŠå…è®¸ç»„ä»¶å’Œå­ç³»ç»Ÿç”¨äºå…¶ä»–åº”ç”¨ç¨‹åºå’Œå…¶ä»–æ–¹æ¡ˆçš„å¯é‡ç”¨æ€§ç­‰å› ç´ ã€‚åœ¨è®¾è®¡å’Œå®æ–½é˜¶æ®µåšå‡ºçš„å†³ç­–å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿå’ŒæœåŠ¡è´¨é‡å’Œæ€»ä½“æ‹¥æœ‰æˆæœ¬äº§ç”Ÿå·¨å¤§å½±å“ã€‚ ä»£ç†ï¼šåå‘ä»£ç† é€‚é…å™¨ï¼š &nbsp; &nbsp;åœ¨ç°ä»£åº”ç”¨ç¨‹åºå’Œé—ç•™ç³»ç»Ÿä¹‹é—´å®ç°é€‚é…å™¨å±‚ å‰åç«¯åˆ†ç¦»ï¼š &nbsp; &nbsp;åç«¯æœåŠ¡æä¾›æ¥å£ä¾›å‰ç«¯åº”ç”¨ç¨‹åºè°ƒç”¨ è®¡ç®—èµ„æºæ•´åˆï¼šå°†å¤šä¸ªç›¸å…³ä»»åŠ¡æˆ–æ“ä½œåˆå¹¶åˆ°ä¸€ä¸ªè®¡ç®—å•å…ƒä¸­ é…ç½®åˆ†ç¦»ï¼šå°†é…ç½®ä¿¡æ¯ä»åº”ç”¨ç¨‹åºéƒ¨ç½²åŒ…ä¸­ç§»å‡ºåˆ°é…ç½®ä¸­å¿ƒ ç½‘å…³èšåˆï¼šä½¿ç”¨ç½‘å…³å°†å¤šä¸ªå•ç‹¬çš„è¯·æ±‚èšåˆåˆ°ä¸€ä¸ªè¯·æ±‚ä¸­ ç½‘å…³å¸è½½ï¼šå°†å…±äº«æˆ–ä¸“ç”¨æœåŠ¡åŠŸèƒ½å¸è½½åˆ°ç½‘å…³ä»£ç† ç½‘å…³è·¯ç”±ï¼šä½¿ç”¨å•ä¸ªç«¯ç‚¹å°†è¯·æ±‚è·¯ç”±åˆ°å¤šä¸ªæœåŠ¡ é¢†å¯¼äººé€‰ä¸¾ï¼šé€šè¿‡é€‰æ‹©ä¸€ä¸ªå®ä¾‹ä½œä¸ºè´Ÿè´£ç®¡ç†å…¶ä»–å®ä¾‹ç®¡ç†å‘˜ï¼Œåè°ƒåˆ†å¸ƒå¼ç³»ç»Ÿçš„äº‘ ç®¡é“å’Œè¿‡æ»¤å™¨ï¼šå°†å¤æ‚çš„ä»»åŠ¡åˆ†è§£ä¸ºä¸€ç³»åˆ—å¯ä»¥é‡å¤ä½¿ç”¨çš„å•ç‹¬ç»„ä»¶ è¾¹è½¦ï¼šå°†åº”ç”¨çš„ç›‘æ§ç»„ä»¶éƒ¨ç½²åˆ°å•ç‹¬çš„è¿›ç¨‹æˆ–å®¹å™¨ä¸­ï¼Œä»¥æä¾›éš”ç¦»å’Œå°è£… é™æ€å†…å®¹æ‰˜ç®¡ï¼šå°†é™æ€å†…å®¹éƒ¨ç½²åˆ°CDNï¼ŒåŠ é€Ÿè®¿é—®æ•ˆç‡ 6.4æ¶ˆæ¯åˆ†å¸ƒå¼ç³»ç»Ÿéœ€è¦ä¸€ä¸ªè¿æ¥ç»„ä»¶å’ŒæœåŠ¡çš„æ¶ˆæ¯ä¼ é€’ä¸­é—´ä»¶ï¼Œç†æƒ³æƒ…å†µæ˜¯ä»¥æ¾æ•£è€¦åˆçš„æ–¹å¼ï¼Œä»¥ä¾¿æœ€å¤§é™åº¦åœ°æé«˜å¯ä¼¸ç¼©æ€§ã€‚å¼‚æ­¥æ¶ˆæ¯ä¼ é€’è¢«å¹¿æ³›ä½¿ç”¨ï¼Œå¹¶æä¾›è®¸å¤šå¥½å¤„ï¼Œä½†ä¹Ÿå¸¦æ¥äº†è¯¸å¦‚æ¶ˆæ¯æ’åºï¼Œå¹‚ç­‰æ€§ç­‰æŒ‘æˆ˜ ç«äº‰æ¶ˆè´¹è€…ï¼šå¤šçº¿ç¨‹å¹¶å‘æ¶ˆè´¹ ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼š &nbsp; &nbsp;æ¶ˆæ¯é˜Ÿåˆ—åˆ†ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§é«˜çš„å…ˆè¢«æ¶ˆè´¹ 6.5ç®¡ç†ä¸ç›‘æ§åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨è¿œç¨‹æ•°æ®ä¸­å¿ƒä¸­è¿è¡Œï¼Œæ— æ³•å®Œå…¨æ§åˆ¶åŸºç¡€ç»“æ„ï¼Œè¿™ä½¿ç®¡ç†å’Œç›‘è§†æ¯”å•æœºéƒ¨ç½²æ›´å›°éš¾ã€‚åº”ç”¨å¿…é¡»å…¬å¼€è¿è¡Œæ—¶ä¿¡æ¯ï¼Œç®¡ç†å‘˜å¯ä»¥ä½¿ç”¨è¿™äº›ä¿¡æ¯æ¥ç®¡ç†å’Œç›‘è§†ç³»ç»Ÿï¼Œä»¥åŠæ”¯æŒä¸æ–­å˜åŒ–çš„ä¸šåŠ¡éœ€æ±‚å’Œè‡ªå®šä¹‰ï¼Œè€Œæ— éœ€åœæ­¢æˆ–é‡æ–°éƒ¨ç½²åº”ç”¨ã€‚ 6.6æ€§èƒ½ä¸æ‰©å±•æ€§èƒ½è¡¨ç¤ºç³»ç»Ÿåœ¨ç»™å®šæ—¶é—´é—´éš”å†…æ‰§è¡Œä»»ä½•æ“ä½œçš„å“åº”æ€§ï¼Œè€Œå¯ä¼¸ç¼©æ€§æ˜¯ç³»ç»Ÿå¤„ç†è´Ÿè½½å¢åŠ è€Œä¸å½±å“æ€§èƒ½æˆ–å®¹æ˜“å¢åŠ å¯ç”¨èµ„æºçš„èƒ½åŠ›ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿé€šå¸¸ä¼šé‡åˆ°å˜åŒ–çš„è´Ÿè½½å’Œæ´»åŠ¨é«˜å³°ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šç§Ÿæˆ·åœºæ™¯ä¸­ï¼Œå‡ ä¹æ˜¯ä¸å¯èƒ½é¢„æµ‹çš„ã€‚ç›¸åï¼Œåº”ç”¨åº”è¯¥èƒ½å¤Ÿåœ¨é™åˆ¶èŒƒå›´å†…æ‰©å±•ä»¥æ»¡è¶³éœ€æ±‚é«˜å³°ï¼Œå¹¶åœ¨éœ€æ±‚å‡å°‘æ—¶è¿›è¡Œæ‰©å±•ã€‚å¯ä¼¸ç¼©æ€§ä¸ä»…æ¶‰åŠè®¡ç®—å®ä¾‹ï¼Œè¿˜æ¶‰åŠå…¶ä»–å…ƒç´ ï¼Œå¦‚æ•°æ®å­˜å‚¨ï¼Œæ¶ˆæ¯é˜Ÿåˆ—ç­‰ã€‚ 6.7å¼¹æ€§å¼¹æ€§æ˜¯æŒ‡ç³»ç»Ÿèƒ½å¤Ÿä¼˜é›…åœ°å¤„ç†æ•…éšœå¹¶ä»æ•…éšœä¸­æ¢å¤ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿé€šå¸¸æ˜¯å¤šç§Ÿæˆ·ï¼Œä½¿ç”¨å…±äº«å¹³å°æœåŠ¡ï¼Œç«äº‰èµ„æºå’Œå¸¦å®½ï¼Œé€šè¿‡Internetè¿›è¡Œé€šä¿¡ï¼Œä»¥åŠåœ¨å•†ç”¨ç¡¬ä»¶ä¸Šè¿è¡Œï¼Œæ„å‘³ç€å‡ºç°ç¬æ€å’Œæ›´æ°¸ä¹…æ€§æ•…éšœçš„å¯èƒ½æ€§å¢åŠ ã€‚ä¸ºäº†ä¿æŒå¼¹æ€§ï¼Œå¿…é¡»å¿«é€Ÿæœ‰æ•ˆåœ°æ£€æµ‹æ•…éšœå¹¶è¿›è¡Œæ¢å¤ã€‚ éš”ç¦»ï¼šå°†åº”ç”¨ç¨‹åºçš„å…ƒç´ éš”ç¦»åˆ°æ± ä¸­ï¼Œä»¥ä¾¿åœ¨å…¶ä¸­ä¸€ä¸ªå¤±è´¥æ—¶ï¼Œå…¶ä»–å…ƒç´ å°†ç»§ç»­è¿è¡Œã€‚ æ–­è·¯å™¨ï¼šå¤„ç†è¿æ¥åˆ°è¿œç¨‹æœåŠ¡æˆ–èµ„æºæ—¶å¯èƒ½éœ€è¦ä¸åŒæ—¶é—´ä¿®å¤çš„æ•…éšœã€‚ è¡¥å¿äº¤æ˜“ï¼šæ’¤æ¶ˆä¸€ç³»åˆ—æ­¥éª¤æ‰§è¡Œçš„å·¥ä½œï¼Œè¿™äº›æ­¥éª¤å…±åŒå®šä¹‰æœ€ç»ˆä¸€è‡´çš„æ“ä½œ å¥åº·æ£€æŸ¥ï¼šç³»ç»Ÿå®ç°å…¨é“¾è·¯åŠŸèƒ½æ£€æŸ¥ï¼Œå¤–éƒ¨å·¥å…·å®šæœŸé€šè¿‡å…¬å¼€ç«¯ç‚¹è®¿é—®ç³»ç»Ÿ é‡è¯•ï¼šé€šè¿‡é€æ˜åœ°é‡è¯•å…ˆå‰å¤±è´¥çš„æ“ä½œï¼Œä½¿åº”ç”¨ç¨‹åºåœ¨å°è¯•è¿æ¥åˆ°æœåŠ¡æˆ–ç½‘ç»œèµ„æºæ—¶å¤„ç†é¢„æœŸçš„ä¸´æ—¶æ•…éšœ 6.8å®‰å…¨å®‰å…¨æ€§æ˜¯ç³»ç»Ÿèƒ½å¤Ÿé˜²æ­¢åœ¨è®¾è®¡ä½¿ç”¨ä¹‹å¤–çš„æ¶æ„æˆ–æ„å¤–è¡Œä¸ºï¼Œå¹¶é˜²æ­¢æ³„éœ²æˆ–ä¸¢å¤±ä¿¡æ¯ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å—ä¿¡ä»»çš„æœ¬åœ°è¾¹ç•Œä¹‹å¤–çš„Internetä¸Šè¿è¡Œï¼Œé€šå¸¸å‘å…¬ä¼—å¼€æ”¾ï¼Œå¹¶ä¸”å¯ä»¥ä¸ºä¸å—ä¿¡ä»»çš„ç”¨æˆ·æä¾›æœåŠ¡ã€‚å¿…é¡»ä»¥ä¿æŠ¤åº”ç”¨ç¨‹åºå…å—æ¶æ„æ”»å‡»ï¼Œé™åˆ¶ä»…å…è®¸å¯¹å·²æ‰¹å‡†ç”¨æˆ·çš„è®¿é—®ï¼Œå¹¶ä¿æŠ¤æ•æ„Ÿæ•°æ®ã€‚ è”åˆèº«ä»½ï¼šå°†èº«ä»½éªŒè¯å§”æ´¾ç»™å¤–éƒ¨èº«ä»½æä¾›å•† çœ‹é—¨äººï¼š &nbsp; &nbsp;é€šè¿‡ä½¿ç”¨ä¸“ç”¨ä¸»æœºå®ä¾‹æ¥ä¿æŠ¤åº”ç”¨ç¨‹åºå’ŒæœåŠ¡ï¼Œè¯¥å®ä¾‹å……å½“å®¢æˆ·ç«¯ä¸åº”ç”¨ç¨‹åºæˆ–æœåŠ¡ä¹‹é—´çš„ä»£ç†ï¼ŒéªŒè¯å’Œæ¸…ç†è¯·æ±‚ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´ä¼ é€’è¯·æ±‚å’Œæ•°æ® ä»£å®¢é’¥åŒ™ï¼šä½¿ç”¨ä¸ºå®¢æˆ·ç«¯æä¾›å¯¹ç‰¹å®šèµ„æºæˆ–æœåŠ¡çš„å—é™ç›´æ¥è®¿é—®çš„ä»¤ç‰Œæˆ–å¯†é’¥ã€‚ 7.å·¥ç¨‹åº”ç”¨å‰æ–‡æˆ‘ä»¬ä»‹ç»äº†åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒç†è®ºï¼Œé¢ä¸´çš„ä¸€äº›éš¾é¢˜å’Œè§£å†³é—®é¢˜çš„æŠ˜ä¸­æ€è·¯ï¼Œç½—åˆ—äº†ç°æœ‰ä¸»æµåˆ†å¸ƒå¼ç³»ç»Ÿçš„åˆ†ç±»ï¼Œè€Œä¸”å½’çº³äº†å»ºè®¾åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸€äº›æ–¹æ³•è®ºï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬å°†ä»å·¥ç¨‹è§’åº¦æ¥ä»‹ç»çœŸåˆ€çœŸæªæ­å»ºåˆ†å¸ƒå¼ç³»ç»ŸåŒ…å«çš„å†…å®¹å’Œæ­¥éª¤ã€‚ 7.1èµ„æºè°ƒåº¦å·§å¦‡éš¾ä¸ºæ— ç±³ä¹‹ç‚Šï¼Œæˆ‘ä»¬ä¸€åˆ‡çš„è½¯ä»¶ç³»ç»Ÿéƒ½æ˜¯æ„å»ºåœ¨ç¡¬ä»¶æœåŠ¡å™¨çš„åŸºç¡€ä¸Šï¼Œä»æœ€å¼€å§‹çš„ç‰©ç†æœºç›´æ¥éƒ¨ç½²è½¯ä»¶ç³»ç»Ÿï¼Œåˆ°è™šæ‹Ÿæœºçš„åº”ç”¨ï¼Œæœ€ååˆ°äº†èµ„æºä¸Šäº‘å®¹å™¨åŒ–ï¼Œç¡¬ä»¶èµ„æºçš„ä½¿ç”¨ä¹Ÿå¼€å§‹äº†é›†çº¦åŒ–çš„ç®¡ç†ã€‚æœ¬èŠ‚ä»å¯¹æ¯”çš„æ˜¯ä¼ ç»Ÿè¿ç»´è§’è‰²å¯¹åº”çš„èŒè´£èŒƒå›´ï¼Œåœ¨devopsç¯å¢ƒä¸‹ï¼Œå¼€å‘è¿ç»´ä¸€ä½“åŒ–ï¼Œæˆ‘ä»¬è¦å®ç°çš„ä¹Ÿæ˜¯èµ„æºçš„çµæ´»é«˜æ•ˆä½¿ç”¨ã€‚ å¼¹æ€§ä¼¸ç¼©è¿‡å»è½¯ä»¶ç³»ç»Ÿéšç€ç”¨æˆ·é‡å¢åŠ éœ€è¦å¢åŠ æœºå™¨èµ„æºçš„è¯ï¼Œä¼ ç»Ÿçš„æ–¹å¼å°±æ˜¯æ‰¾è¿ç»´ç”³è¯·æœºå™¨ï¼Œç„¶åéƒ¨ç½²å¥½è½¯ä»¶æœåŠ¡æ¥å…¥é›†ç¾¤ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¾èµ–çš„æ˜¯è¿ç»´äººå‘˜çš„äººè‚‰ç»éªŒï¼Œæ•ˆç‡ä½ä¸‹è€Œä¸”å®¹æ˜“å‡ºé”™ã€‚å¾®æœåŠ¡åˆ†å¸ƒå¼åˆ™æ— éœ€äººè‚‰å¢åŠ ç‰©ç†æœºå™¨ï¼Œåœ¨å®¹å™¨åŒ–æŠ€æœ¯çš„æ”¯æ’‘ä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦ç”³è¯·äº‘èµ„æºï¼Œç„¶åæ‰§è¡Œå®¹å™¨è„šæœ¬å³å¯ã€‚ åº”ç”¨æ‰©å®¹ ç”¨æˆ·æ¿€å¢éœ€è¦å¯¹æœåŠ¡è¿›è¡Œæ‰©å±•ï¼ŒåŒ…æ‹¬è‡ªåŠ¨åŒ–æ‰©å®¹ï¼Œå³°å€¼è¿‡åçš„è‡ªåŠ¨ç¼©å®¹ æœºå™¨ä¸‹çº¿ å¯¹äºè¿‡æ—¶åº”ç”¨ï¼Œè¿›è¡Œåº”ç”¨ä¸‹çº¿ï¼Œäº‘å¹³å°æ”¶å›å®¹å™¨å®¿ä¸»èµ„æº æœºå™¨ç½®æ¢ å¯¹äºæ•…éšœæœºå™¨ï¼Œå¯ä¾›ç½®æ¢å®¹å™¨å®¿ä¸»èµ„æºï¼ŒæœåŠ¡è‡ªåŠ¨å¯åŠ¨ï¼Œæ— ç¼åˆ‡æ¢ ç½‘ç»œç®¡ç†æœ‰äº†è®¡ç®—èµ„æºåï¼Œå¦å¤–æœ€é‡è¦çš„å°±æ˜¯ç½‘ç»œèµ„æºäº†ã€‚åœ¨ç°æœ‰çš„äº‘åŒ–èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä»¬å‡ ä¹ä¸ä¼šç›´æ¥æ¥è§¦åˆ°ç‰©ç†çš„å¸¦å®½èµ„æºï¼Œè€Œæ˜¯ç›´æ¥çš„ç”±äº‘å¹³å°ç»Ÿä¸€ç®¡ç†å¸¦å®½èµ„æºï¼Œæˆ‘ä»¬éœ€è¦çš„æ˜¯å¯¹ç½‘ç»œèµ„æºçš„æœ€å¤§åŒ–åº”ç”¨å’Œæœ‰æ•ˆçš„ç®¡ç†ã€‚ åŸŸåç”³è¯· åº”ç”¨ç”³è¯·é…å¥—åŸŸåèµ„æºçš„ç”³è¯·ï¼Œå¤šå¥—åŸŸåæ˜ å°„è§„åˆ™çš„è§„èŒƒ åŸŸåå˜æ›´ åŸŸåå˜æ›´ç»Ÿä¸€å¹³å°ç®¡ç† è´Ÿè½½ç®¡ç† å¤šæœºåº”ç”¨çš„è®¿é—®ç­–ç•¥è®¾å®š å®‰å…¨å¤–è” åŸºç¡€è®¿é—®é‰´æƒï¼Œæ‹¦æˆªéæ³•è¯·æ±‚ ç»Ÿä¸€æ¥å…¥ æä¾›ç»Ÿä¸€æ¥å…¥çš„æƒé™ç”³è¯·å¹³å°ï¼Œæä¾›ç»Ÿä¸€çš„ç™»å½•ç®¡ç† æ•…éšœå¿«ç…§åœ¨ç³»ç»Ÿæ•…éšœçš„æ—¶å€™æˆ‘ä»¬ç¬¬ä¸€è¦åŠ¡æ˜¯ç³»ç»Ÿæ¢å¤ï¼ŒåŒæ—¶ä¿ç•™æ¡ˆå‘ç°åœºä¹Ÿæ˜¯éå¸¸é‡è¦çš„ï¼Œèµ„æºè°ƒåº¦å¹³å°åˆ™éœ€è¦æœ‰ç»Ÿä¸€çš„æœºåˆ¶ä¿å­˜å¥½æ•…éšœç°åœºã€‚ ç°åœºä¿ç•™ å†…å­˜åˆ†å¸ƒï¼Œçº¿ç¨‹æ•°ç­‰èµ„æºç°è±¡çš„ä¿å­˜ï¼Œå¦‚JavaDumpé’©å­æ¥å…¥ è°ƒè¯•æ¥å…¥ é‡‡ç”¨å­—èŠ‚ç æŠ€æœ¯æ— éœ€å…¥ä¾µä¸šåŠ¡ä»£ç ï¼Œå¯ä»¥ä¾›ç”Ÿäº§ç¯å¢ƒç°åœºæ—¥å¿—æ‰“ç‚¹è°ƒè¯• 7.2æµé‡è°ƒåº¦åœ¨æˆ‘ä»¬å»ºè®¾å¥½åˆ†å¸ƒå¼ç³»ç»Ÿåï¼Œæœ€å…ˆå—åˆ°è€ƒéªŒçš„å…³å£å°±æ˜¯ç½‘å…³äº†ï¼Œè¿›è€Œæˆ‘ä»¬éœ€è¦å…³æ³¨å¥½ç³»ç»Ÿæµé‡çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯å¦‚ä½•å¯¹æµé‡çš„ç®¡ç†ï¼Œæˆ‘ä»¬è¿½æ±‚çš„æ˜¯åœ¨ç³»ç»Ÿå¯å®¹çº³çš„æµé‡ä¸Šé™å†…ï¼ŒæŠŠèµ„æºç•™ç»™æœ€ä¼˜è´¨çš„æµé‡ä½¿ç”¨ï¼Œè€ŒæŠŠéæ³•æ¶æ„çš„æµé‡æŒ¡åœ¨é—¨å¤–ï¼Œè¿™æ ·èŠ‚çœæˆæœ¬çš„åŒæ—¶ç¡®ä¿ç³»ç»Ÿä¸ä¼šè¢«å†²å‡»å´©æºƒã€‚ è´Ÿè½½å‡è¡¡è´Ÿè½½å‡è¡¡æ˜¯æˆ‘ä»¬å¯¹æœåŠ¡å¦‚ä½•æ¶ˆåŒ–æµé‡çš„é€šç”¨è®¾è®¡ï¼Œé€šå¸¸åˆ†ä¸ºç‰©ç†å±‚çš„åº•å±‚åè®®åˆ†æµçš„ç¡¬è´Ÿè½½å‡è¡¡å’Œè½¯ä»¶å±‚çš„è½¯è´Ÿè½½ã€‚è´Ÿè½½å‡è¡¡è§£å†³æ–¹æ¡ˆå·²ç»æ˜¯ä¸šç•Œæˆç†Ÿçš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬é€šå¸¸ä¼šé’ˆå¯¹ç‰¹å®šä¸šåŠ¡åœ¨ä¸åŒç¯å¢ƒè¿›è¡Œä¼˜åŒ–ï¼Œå¸¸ç”¨æœ‰å¦‚ä¸‹çš„è´Ÿè½½å‡è¡¡è§£å†³æ–¹æ¡ˆ äº¤æ¢æœº F5 LVS/ALI-LVS Nginx/Tengine VIPServer/ConfigServer ç½‘å…³è®¾è®¡è´Ÿè½½å‡è¡¡é¦–å½“å…¶å†²çš„å°±æ˜¯ç½‘å…³ï¼Œå› ä¸ºä¸­å¿ƒåŒ–é›†ç¾¤æµé‡æœ€å…ˆæ‰“åˆ°çš„åœ°æ–¹å°±æ˜¯ç½‘å…³äº†ï¼Œå¦‚æœç½‘å…³æ‰›ä¸ä½å‹åŠ›çš„è¯ï¼Œé‚£ä¹ˆæ•´ä¸ªç³»ç»Ÿå°†ä¸å¯ç”¨ã€‚ é«˜æ€§èƒ½ ç½‘å…³è®¾è®¡ç¬¬ä¸€éœ€è¦è€ƒè™‘çš„æ˜¯é«˜æ€§èƒ½çš„æµé‡è½¬å‘ï¼Œç½‘å…³å•èŠ‚ç‚¹é€šå¸¸èƒ½è¾¾åˆ°ä¸Šç™¾ä¸‡çš„å¹¶å‘æµé‡ åˆ†å¸ƒå¼ å‡ºäºæµé‡å‹åŠ›åˆ†æ‹…å’Œç¾å¤‡è€ƒè™‘ï¼Œç½‘å…³è®¾è®¡åŒæ ·éœ€è¦åˆ†å¸ƒå¼ ä¸šåŠ¡ç­›é€‰ ç½‘å…³åŒè®¾è®¡ç®€å•çš„è§„åˆ™ï¼Œæ’é™¤æ‰å¤§éƒ¨åˆ†çš„æ¶æ„æµé‡ æµé‡ç®¡ç† è¯·æ±‚æ ¡éªŒ è¯·æ±‚é‰´æƒå¯ä»¥æŠŠå¤šå°‘éæ³•è¯·æ±‚æ‹¦æˆªï¼Œæ¸…æ´— æ•°æ®ç¼“å­˜ å¤šæ•°æ— çŠ¶æ€çš„è¯·æ±‚å­˜åœ¨æ•°æ®çƒ­ç‚¹ï¼Œæ‰€ä»¥é‡‡ç”¨CDNå¯ä»¥æŠŠç›¸å½“å¤§ä¸€éƒ¨åˆ†çš„æµé‡æ¶ˆè´¹æ‰ æµæ§æ§åˆ¶å‰©ä¸‹çš„çœŸå®æµé‡æˆ‘ä»¬é‡‡ç”¨ä¸åŒçš„ç®—æ³•æ¥åˆ†æµè¯·æ±‚ æµé‡åˆ†é… è®¡æ•°å™¨ é˜Ÿåˆ— æ¼æ–— ä»¤ç‰Œæ¡¶ åŠ¨æ€æµæ§* æµé‡é™åˆ¶ åœ¨æµé‡æ¿€å¢çš„æ—¶å€™ï¼Œé€šå¸¸æˆ‘ä»¬éœ€è¦æœ‰é™æµæªæ–½æ¥é˜²æ­¢ç³»ç»Ÿå‡ºç°é›ªå´©ï¼Œé‚£ä¹ˆå°±éœ€è¦é¢„ä¼°ç³»ç»Ÿçš„æµé‡ä¸Šé™ï¼Œç„¶åè®¾å®šå¥½ä¸Šé™æ•°ï¼Œä½†æµé‡å¢åŠ åˆ°ä¸€å®šé˜ˆå€¼åï¼Œå¤šå‡ºæ¥çš„æµé‡åˆ™ä¸ä¼šè¿›å…¥ç³»ç»Ÿï¼Œé€šè¿‡ç‰ºç‰²éƒ¨åˆ†æµé‡æ¥ä¿å…¨ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚ 7.3æœåŠ¡è°ƒåº¦æ‰€è°“æ‰“é“è¿˜éœ€è‡ªèº«ç¡¬ï¼Œæµé‡åšå¥½äº†è°ƒåº¦ç®¡ç†åï¼Œå‰©ä¸‹çš„å°±æ˜¯æœåŠ¡è‡ªèº«çš„å¥å£®æ€§äº†ã€‚åˆ†å¸ƒå¼ç³»ç»ŸæœåŠ¡å‡ºç°æ•…éšœæ˜¯å¸¸æœ‰çš„äº‹æƒ…ï¼Œç”šè‡³æˆ‘ä»¬éœ€è¦æŠŠæ•…éšœæœ¬èº«å½“åšæ˜¯åˆ†å¸ƒå¼æœåŠ¡çš„ä¸€éƒ¨åˆ†ã€‚ æ³¨å†Œä¸­å¿ƒæˆ‘ä»¬ç½‘ç»œç®¡ç†ä¸€èŠ‚ä¸­ä»‹ç»äº†ç½‘å…³ï¼Œç½‘å…³æ˜¯æµé‡çš„é›†æ•£åœ°ï¼Œè€Œæ³¨å†Œä¸­å¿ƒåˆ™æ˜¯æœåŠ¡çš„æ ¹æ®åœ°ã€‚ çŠ¶æ€ç±»å‹ ç¬¬ä¸€å¥½åº”ç”¨æœåŠ¡çš„çŠ¶æ€ï¼Œé€šè¿‡æ³¨å†Œä¸­å¿ƒå°±å¯ä»¥æ£€æµ‹æœåŠ¡æ˜¯å¦å¯ç”¨ ç”Ÿå‘½å‘¨æœŸ åº”ç”¨æœåŠ¡ä¸åŒçš„çŠ¶æ€ç»„æˆäº†åº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸ ç‰ˆæœ¬ç®¡ç† é›†ç¾¤ç‰ˆæœ¬ é›†ç¾¤ä¸ç”¨åº”ç”¨æœ‰è‡ªèº«å¯¹åº”çš„ç‰ˆæœ¬å·ï¼Œç”±ä¸åŒæœåŠ¡ç»„æˆçš„é›†ç¾¤ä¹Ÿéœ€è¦å®šä¹‰å¤§çš„ç‰ˆæœ¬å· ç‰ˆæœ¬å›æ»š åœ¨éƒ¨ç½²å¼‚å¸¸çš„æ—¶å€™å¯ä»¥æ ¹æ®å¤§çš„é›†ç¾¤ç‰ˆæœ¬è¿›è¡Œå›æ»šç®¡ç† æœåŠ¡ç¼–æ’æœåŠ¡ç¼–æ’çš„å®šä¹‰æ˜¯ï¼šé€šè¿‡æ¶ˆæ¯çš„äº¤äº’åºåˆ—æ¥æ§åˆ¶å„ä¸ªéƒ¨åˆ†èµ„æºçš„äº¤äº’ã€‚å‚ä¸äº¤äº’çš„èµ„æºéƒ½æ˜¯å¯¹ç­‰çš„ï¼Œæ²¡æœ‰é›†ä¸­çš„æ§åˆ¶ã€‚å¾®æœåŠ¡ç¯å¢ƒä¸‹æœåŠ¡ä¼—å¤šæˆ‘ä»¬éœ€è¦æœ‰ä¸€ä¸ªæ€»çš„åè°ƒå™¨æ¥åè®®æœåŠ¡ä¹‹é—´çš„ä¾èµ–ï¼Œè°ƒç”¨å…³ç³»ï¼ŒK8Såˆ™æ˜¯æˆ‘ä»¬çš„ä¸äºŒé€‰æ‹©ã€‚ K8S Spring Cloud æœåŠ¡æ§åˆ¶å‰é¢æˆ‘ä»¬è§£å†³äº†ç½‘ç»œçš„å¥å£®æ€§å’Œæ•ˆç‡é—®é¢˜ï¼Œè¿™èŠ‚ä»‹ç»çš„æ˜¯å¦‚ä½•ä½¿æˆ‘ä»¬çš„æœåŠ¡æ›´åŠ å¥å£®ã€‚ å‘ç° èµ„æºç®¡ç†é‚£èŠ‚æˆ‘ä»¬ä»‹ç»äº†ä»äº‘å¹³å°ç”³è¯·äº†å®¹å™¨å®¿ä¸»èµ„æºåï¼Œé€šè¿‡è‡ªåŠ¨åŒ–è„šæœ¬å°±å¯ä»¥å¯åŠ¨åº”ç”¨æœåŠ¡ï¼Œå¯åŠ¨åæœåŠ¡åˆ™éœ€è¦å‘ç°æ³¨å†Œä¸­å¿ƒï¼Œå¹¶ä¸”æŠŠè‡ªèº«çš„æœåŠ¡ä¿¡æ¯æ³¨å†Œåˆ°æœåŠ¡ç½‘å…³ï¼Œä¹Ÿå³æ˜¯ç½‘å…³æ¥å…¥ã€‚æ³¨å†Œä¸­å¿ƒåˆ™ä¼šç›‘æ§æœåŠ¡çš„ä¸åŒçŠ¶æ€ï¼Œåšå¥åº·æ£€æŸ¥ï¼ŒæŠŠä¸å¯ç”¨çš„æœåŠ¡å½’ç±»æ ‡è®°ã€‚ ç½‘å…³æ¥å…¥ å¥åº·æ£€æŸ¥* é™çº§ å½“ç”¨æˆ·æ¿€å¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬é¦–å…ˆæ˜¯åœ¨æµé‡ç«¯åšæ‰‹è„šï¼Œä¹Ÿå°±æ˜¯é™æµã€‚å½“æˆ‘ä»¬å‘ç°é™æµåç³»ç»Ÿå“åº”å˜æ…¢äº†ï¼Œæœ‰å¯èƒ½å¯¼è‡´æ›´å¤šçš„é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦å¯¹æœåŠ¡æœ¬èº«åšä¸€äº›æ“ä½œã€‚æœåŠ¡é™çº§å°±æ˜¯æŠŠå½“å‰ä¸æ˜¯å¾ˆæ ¸å¿ƒçš„åŠŸèƒ½å…³é—­æ‰ï¼Œæˆ–è€…ä¸æ˜¯å¾ˆè¦ç´§çš„å‡†ç¡®æ€§æ”¾å®½èŒƒå›´ï¼Œäº‹åå†åšä¸€äº›äººå·¥è¡¥æ•‘ã€‚ é™ä½ä¸€è‡´æ€§çº¦æŸ å…³é—­éæ ¸å¿ƒæœåŠ¡ ç®€åŒ–åŠŸèƒ½* ç†”æ–­ å½“æˆ‘ä»¬éƒ½åšäº†ä»¥ä¸Šçš„æ“ä½œåï¼Œè¿˜æ˜¯è§‰å¾—ä¸æ”¾å¿ƒï¼Œé‚£ä¹ˆå°±éœ€è¦å†è¿›ä¸€æ­¥æ“å¿ƒã€‚ç†”æ–­æ˜¯å¯¹è¿‡è½½çš„ä¸€ç§è‡ªèº«ä¿æŠ¤ï¼ŒçŠ¹å¦‚æˆ‘ä»¬å¼€å…³è·³é—¸ä¸€æ ·ã€‚æ¯”å¦‚å½“æˆ‘ä»¬æœåŠ¡ä¸æ–­å¯¹æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢çš„æ—¶å€™ï¼Œå¦‚æœä¸šåŠ¡é—®é¢˜é€ æˆæŸ¥è¯¢é—®é¢˜ï¼Œè¿™æ˜¯æ•°æ®åº“æœ¬èº«éœ€è¦ç†”æ–­æ¥ä¿è¯ä¸ä¼šè¢«åº”ç”¨æ‹–å®ï¼Œå¹¶ä¸”è®¿é—®å‹å¥½çš„ä¿¡æ¯ï¼Œå‘Šè¯‰æœåŠ¡ä¸è¦å†ç›²ç›®è°ƒç”¨äº†ã€‚ é—­åˆçŠ¶æ€ åŠå¼€çŠ¶æ€ æ–­å¼€çŠ¶æ€ ç†”æ–­å·¥å…·- Hystrix* å¹‚ç­‰ æˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªå¹‚ç­‰æ“ä½œçš„ç‰¹ç‚¹æ˜¯å…¶ä»»æ„å¤šæ¬¡æ‰§è¡Œæ‰€äº§ç”Ÿçš„å½±å“å‡ä¸ä¸€æ¬¡æ‰§è¡Œçš„å½±å“ç›¸åŒã€‚é‚£ä¹ˆä¹…éœ€è¦å¯¹å•æ¬¡æ“ä½œèµ‹äºˆä¸€ä¸ªå…¨å±€çš„idæ¥åšæ ‡è¯†ï¼Œè¿™æ ·å¤šæ¬¡è¯·æ±‚åæˆ‘ä»¬å¯ä»¥åˆ¤æ–­æ¥æºäºåŒä¸ªå®¢æˆ·ç«¯ï¼Œé¿å…å‡ºç°è„æ•°æ®ã€‚ 7.4æ•°æ®è°ƒåº¦æ•°æ®å­˜å‚¨æœ€å¤§çš„æŒ‘æˆ˜å°±æ˜¯æ•°æ®å†—ä½™çš„ç®¡ç†ï¼Œå†—ä½™å¤šäº†æ•ˆç‡å˜ä½è€Œä¸”å ç”¨èµ„æºï¼Œå‰¯æœ¬å°‘äº†èµ·ä¸åˆ°ç¾å¤‡çš„ä½œç”¨ï¼Œæˆ‘ä»¬é€šå¸¸çš„åšæ³•æ˜¯æŠŠæœ‰è½¬æ€çš„è¯·æ±‚ï¼Œé€šè¿‡è½¬æ€åˆ†ç¦»ï¼Œè½¬åŒ–ä¸ºæ— çŠ¶æ€è¯·æ±‚ã€‚ çŠ¶æ€è½¬ç§»åˆ†ç¦»çŠ¶æ€è‡³å…¨å±€å­˜å‚¨ï¼Œè¯·æ±‚è½¬æ¢ä¸ºæ— çŠ¶æ€æµé‡ï¼Œæ¯”å¦‚æˆ‘ä»¬é€šå¸¸ä¼šå°†ç™»é™†ä¿¡æ¯ç¼“å­˜è‡³å…¨å±€redisä¸­é—´ä»¶ï¼Œè€Œä¸éœ€è¦åœ¨å¤šä¸ªåº”ç”¨ä¸­å»å†—ä½™ç”¨æˆ·çš„ç™»é™†æ•°æ®ã€‚ åˆ†åº“åˆ†è¡¨æ•°æ®æ¨ªå‘æ‰©å±• åˆ†ç‰‡åˆ†åŒºå¤šå‰¯æœ¬å†—ä½™ 7.5è‡ªåŠ¨åŒ–è¿ç»´æˆ‘ä»¬ä»èµ„æºç”³è¯·ç®¡ç†çš„æ—¶å€™å°±ä»‹ç»åˆ°devopsçš„è¶‹åŠ¿ï¼ŒçœŸæ­£åšåˆ°å¼€å‘è¿ç»´ä¸€ä½“åŒ–åˆ™éœ€è¦ä¸åŒçš„ä¸­é—´ä»¶æ¥é…åˆå®Œæˆã€‚ é…ç½®ä¸­å¿ƒå…¨å±€é…ç½®ä¸­å¿ƒæŒ‰ç¯å¢ƒæ¥åŒºåˆ†ï¼Œç»Ÿä¸€ç®¡ç†ï¼Œå‡å°‘äº†å¤šå¤„é…ç½®çš„æ··ä¹±å±€é¢ switch diamend éƒ¨ç½²ç­–ç•¥å¾®æœåŠ¡åˆ†å¸ƒå¼éƒ¨ç½²æ˜¯å®¶å¸¸ä¾¿é¥­ï¼Œå¦‚ä½•è®©æˆ‘ä»¬çš„æœåŠ¡æ›´å¥½çš„æ”¯æ’‘ä¸šåŠ¡å‘å±•ï¼Œç¨³å¥çš„éƒ¨ç½²ç­–ç•¥æ˜¯æˆ‘ä»¬é¦–å…ˆéœ€è¦è€ƒè™‘çš„ï¼Œå¦‚ä¸‹çš„éƒ¨ç½²ç­–ç•¥é€‚åˆä¸åŒä¸šåŠ¡å’Œä¸åŒçš„é˜¶æ®µã€‚ åœæœºéƒ¨ç½² æ»šåŠ¨éƒ¨ç½² è“ç»¿éƒ¨ç½² ç°åº¦éƒ¨ç½² A/Bæµ‹è¯• ä½œä¸šè°ƒåº¦ä»»åŠ¡è°ƒåº¦æ˜¯ç³»ç»Ÿå¿…ä¸å¯å°‘çš„ä¸€ä¸ªç¯èŠ‚ï¼Œä¼ ç»Ÿçš„æ–¹å¼æ˜¯åœ¨Linuxæœºå™¨ä¸Šé…ç½®crondå®šæ—¶ä»»åŠ¡æˆ–è€…ç›´æ¥åœ¨ä¸šåŠ¡ä»£ç é‡Œé¢å®Œæˆè°ƒåº¦ä¸šåŠ¡ï¼Œç°åœ¨åˆ™æ˜¯æˆç†Ÿçš„ä¸­é—´ä»¶æ¥ä»£æ›¿ã€‚ SchedulerX Springå®šæ—¶ä»»åŠ¡ åº”ç”¨ç®¡ç†è¿ç»´å·¥ä½œä¸­å¾ˆå¤§ä¸€éƒ¨åˆ†æ—¶é—´éœ€è¦å¯¹åº”ç”¨è¿›è¡Œé‡å¯ï¼Œä¸Šä¸‹çº¿æ“ä½œï¼Œè¿˜æœ‰æ—¥å¿—æ¸…ç†ã€‚ åº”ç”¨é‡å¯ åº”ç”¨ä¸‹çº¿ æ—¥å¿—æ¸…ç† 7.6å®¹é”™å¤„ç†æ—¢ç„¶æˆ‘ä»¬çŸ¥é“åˆ†å¸ƒå¼ç³»ç»Ÿæ•…éšœæ—¶å®¶å¸¸ä¾¿é¥­çš„äº‹æƒ…ï¼Œé‚£ä¹ˆåº”å¯¹æ•…éšœçš„æ–¹æ¡ˆä¹Ÿæ˜¯ä¸å¯æˆ–ç¼ºçš„ç¯èŠ‚ã€‚é€šå¸¸æˆ‘ä»¬æœ‰ä¸»åŠ¨å’Œè¢«åŠ¨çš„æ–¹å¼æ¥å¤„ç†ï¼Œä¸»åŠ¨æ˜¯åœ¨é”™è¯¯å‡ºç°çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¯•å›¾å†è¯•è¯•å‡ æ¬¡ï¼Œè¯´ä¸å®šå°±æˆåŠŸäº†ï¼ŒæˆåŠŸçš„è¯å°±å¯ä»¥é¿å…äº†è¯¥æ¬¡é”™è¯¯ã€‚è¢«åŠ¨æ–¹å¼æ˜¯é”™è¯¯çš„äº‹æƒ…å·²ç»å‘ç”Ÿäº†ï¼Œä¸ºäº†æŒ½å›ï¼Œæˆ‘ä»¬åªæ˜¯åšæ—¶å€™å¤„ç†ï¼ŒæŠŠè´Ÿé¢å½±å“é™åˆ°æœ€å°ã€‚ é‡è¯•è®¾è®¡é‡è¯•è®¾è®¡çš„å…³é”®åœ¨äºè®¾è®¡å¥½é‡è¯•çš„æ—¶é—´å’Œæ¬¡æ•°ï¼Œå¦‚æœè¶…è¿‡é‡è¯•æ¬¡æ•°ï¼Œæˆ–æ˜¯ä¸€æ®µæ—¶é—´ï¼Œé‚£ä¹ˆé‡è¯•å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚å¼€æºçš„é¡¹ç›® spring-retryå¯ä»¥å¾ˆå¥½çš„å®ç°æˆ‘ä»¬é‡è¯•çš„è®¡åˆ’ã€‚ äº‹åŠ¡è¡¥å¿äº‹åŠ¡è¡¥å¿ç¬¦åˆæˆ‘ä»¬æœ€ç»ˆä¸€è‡´æ€§çš„ç†å¿µã€‚è¡¥å¿äº‹åŠ¡ä¸ä¸€å®šä¼šå°†ç³»ç»Ÿä¸­çš„æ•°æ®è¿”å›åˆ°åŸå§‹æ“ä½œå¼€å§‹æ—¶å…¶æ‰€å¤„çš„çŠ¶æ€ã€‚ ç›¸åï¼Œå®ƒè¡¥å¿æ“ä½œå¤±è´¥å‰ç”±å·²æˆåŠŸå®Œæˆçš„æ­¥éª¤æ‰€æ‰§è¡Œçš„å·¥ä½œã€‚è¡¥å¿äº‹åŠ¡ä¸­æ­¥éª¤çš„é¡ºåºä¸ä¸€å®šä¸åŸå§‹æ“ä½œä¸­æ­¥éª¤çš„é¡ºåºå®Œå…¨ç›¸åã€‚ ä¾‹å¦‚ï¼Œä¸€ä¸ªæ•°æ®å­˜å‚¨å¯èƒ½æ¯”å¦ä¸€ä¸ªæ•°æ®å­˜å‚¨å¯¹ä¸ä¸€è‡´æ€§æ›´åŠ æ•æ„Ÿï¼Œå› è€Œè¡¥å¿äº‹åŠ¡ä¸­æ’¤é”€å¯¹æ­¤å­˜å‚¨çš„æ›´æ”¹çš„æ­¥éª¤åº”è¯¥ä¼šé¦–å…ˆå‘ç”Ÿã€‚å¯¹å®Œæˆæ“ä½œæ‰€éœ€çš„æ¯ä¸ªèµ„æºé‡‡ç”¨çŸ­æœŸçš„åŸºäºè¶…æ—¶çš„é”å¹¶é¢„å…ˆè·å–è¿™äº›èµ„æºï¼Œè¿™æ ·æœ‰åŠ©äºå¢åŠ æ€»ä½“æ´»åŠ¨æˆåŠŸçš„å¯èƒ½æ€§ã€‚ ä»…åœ¨è·å–æ‰€æœ‰èµ„æºåæ‰åº”æ‰§è¡Œå·¥ä½œã€‚ é”è¿‡æœŸä¹‹å‰å¿…é¡»å®Œæˆæ‰€æœ‰æ“ä½œã€‚ 7.7å…¨æ ˆç›‘æ§ç”±äºåˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯ç”±ä¼—å¤šæœºå™¨å…±åŒåä½œçš„ç³»ç»Ÿï¼Œè€Œä¸”ç½‘ç»œä¹Ÿæ— æ³•ä¿è¯å®Œå…¨å¯ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å»ºè®¾ä¸€å¥—å¯¹å„ä¸ªç¯èŠ‚éƒ½èƒ½ç›‘æ§çš„ç³»ç»Ÿï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½ä»åº•å±‚åˆ°ä¸šåŠ¡å„ä¸ªå±‚é¢è¿›è¡Œç›‘æ§ï¼Œå‡ºç°æ„å¤–çš„æ—¶å€™å¯ä»¥åŠæ—¶ä¿®å¤æ•…éšœï¼Œé¿å…æ›´å¤šçš„é—®é¢˜å‡ºç°ã€‚ åŸºç¡€å±‚åŸºç¡€å±‚é¢æ˜¯å¯¹å®¹å™¨èµ„æºçš„ç›‘æµ‹ï¼ŒåŒ…å«å„ä¸ªç¡¬ä»¶æŒ‡æ ‡çš„è´Ÿè½½æƒ…å†µ CPUï¼ŒIOï¼Œå†…å­˜ï¼Œçº¿ç¨‹ï¼Œåå ä¸­é—´ä»¶åˆ†å¸ƒå¼ç³»ç»Ÿæ¥å…¥äº†å¤§é‡çš„ä¸­é—´ä»¶å¹³å°ï¼Œä¸­é—´ä»¶æœ¬èº«çš„å¥åº·æƒ…å†µä¹Ÿéœ€è¦ç›‘æ§ åº”ç”¨å±‚ æ€§èƒ½ç›‘æ§ åº”ç”¨å±‚é¢çš„éœ€è¦å¯¹æ¯ä¸ªåº”ç”¨æœåŠ¡çš„å®æ—¶æŒ‡æ ‡ï¼ˆqpsï¼Œrtï¼‰ï¼Œä¸Šä¸‹æ¸¸ä¾èµ–ç­‰è¿›è¡Œç›‘æ§ ä¸šåŠ¡ç›‘æ§ é™¤äº†åº”ç”¨æœ¬èº«çš„ç›‘æ§ç¨‹åº¦ï¼Œä¸šåŠ¡ç›‘æ§ä¹Ÿæ˜¯ä¿è¯ç³»ç»Ÿæ­£å¸¸çš„ä¸€ä¸ªç¯èŠ‚ï¼Œé€šè¿‡è®¾è®¡åˆç†çš„ä¸šåŠ¡è§„åˆ™ï¼Œå¯¹å¼‚å¸¸çš„æƒ…å†µåšæŠ¥è­¦è®¾ç½® ç›‘æ§é“¾è·¯ zipkin/eagleeye sls goc Alimonitor 7.8æ•…éšœæ¢å¤å½“æ•…éšœå·²ç»å‘ç”Ÿåï¼Œæˆ‘ä»¬ç¬¬ä¸€è¦åšçš„æ˜¯é©¬ä¸Šæ¶ˆé™¤æ•…éšœï¼Œç¡®ä¿ç³»ç»ŸæœåŠ¡æ­£å¸¸å¯ç”¨ï¼Œè¿™ä¸ªæ—¶å€™é€šå¸¸çš„åšå›æ»šæ“ä½œã€‚ åº”ç”¨å›æ»šåº”ç”¨å›æ»šä¹‹å‰éœ€è¦ä¿å­˜å¥½æ•…éšœç°åœºï¼Œä»¥ä¾¿æ’æŸ¥åŸå› ã€‚ åŸºçº¿å›é€€åº”ç”¨æœåŠ¡å›æ»šåï¼Œä»£ç åŸºçº¿ä¹Ÿéœ€è¦revertåˆ°å‰ä¸€ç‰ˆæœ¬ã€‚ ç‰ˆæœ¬å›æ»šæ•´ä½“å›æ»šéœ€è¦æœåŠ¡ç¼–æ’ï¼Œé€šè¿‡å¤§ç‰ˆæœ¬å·å¯¹é›†ç¾¤è¿›è¡Œå›æ»šã€‚ 7.9æ€§èƒ½è°ƒä¼˜æ€§èƒ½ä¼˜åŒ–æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¤§ä¸“é¢˜ï¼Œæ¶‰åŠçš„é¢éå¸¸å¹¿ï¼Œè¿™å—ç®€ç›´å¯ä»¥å•ç‹¬æ‹¿å‡ºæ¥åšä¸€ä¸ªç³»åˆ—æ¥è®²ï¼Œæœ¬èŠ‚å°±å…ˆä¸å±•å¼€ã€‚æœ¬èº«æˆ‘ä»¬åšæœåŠ¡æ²»ç†çš„è¿‡ç¨‹ä¹Ÿæ˜¯åœ¨æ€§èƒ½çš„ä¼˜åŒ–è¿‡ç¨‹ã€‚ åˆ†å¸ƒå¼é”ç¼“å­˜æ˜¯è§£å†³æ€§èƒ½é—®é¢˜çš„ä¸€å¤§åˆ©å™¨ï¼Œç†æƒ³æƒ…å†µä¸‹ï¼Œæ¯ä¸ªè¯·æ±‚ä¸éœ€è¦é¢å¤–è®¡ç®—ç«‹åˆ»èƒ½è·å–åˆ°ç»“æœè¿”å›æ—¶æœ€å¿«çš„ã€‚å°åˆ°CPUçš„ä¸‰çº§ç¼“å­˜ï¼Œå¤§åˆ°åˆ†å¸ƒå¼ç¼“å­˜ï¼Œç¼“å­˜æ— å¤„ä¸åœ¨ï¼Œåˆ†å¸ƒå¼ç¼“å­˜éœ€è¦è§£å†³çš„å°±æ˜¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¼•å…¥äº†åˆ†å¸ƒå¼é”çš„æ¦‚å¿µï¼Œå¦‚ä½•å¤„ç†åˆ†å¸ƒå¼é”çš„é—®é¢˜å°†å†³å®šæˆ‘ä»¬è·å–ç¼“å­˜æ•°æ®çš„æ•ˆç‡ã€‚ é«˜å¹¶å‘å¤šçº¿ç¨‹ç¼–ç¨‹æ¨¡å¼æå‡äº†ç³»ç»Ÿçš„ååé‡ï¼Œä½†ä¹ŸåŒæ—¶å¸¦æ¥äº†ä¸šåŠ¡çš„å¤æ‚åº¦ã€‚ å¼‚æ­¥äº‹ä»¶é©±åŠ¨çš„å¼‚æ­¥ç¼–ç¨‹æ˜¯ä¸€ç§æ–°çš„ç¼–ç¨‹æ¨¡å¼ï¼Œæ‘’å¼ƒäº†å¤šçº¿ç¨‹çš„å¤æ‚ä¸šåŠ¡å¤„ç†é—®é¢˜ï¼ŒåŒæ—¶èƒ½å¤Ÿæå‡ç³»ç»Ÿçš„å“åº”æ•ˆç‡ã€‚ 8.æ€»ç»“æœ€åæ€»ç»“ä¸€ä¸‹ï¼Œå¦‚æœæœ‰å¯èƒ½çš„è¯ï¼Œè¯·å°è¯•ä½¿ç”¨å•èŠ‚ç‚¹æ–¹å¼è€Œä¸æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿã€‚åˆ†å¸ƒå¼ç³»ç»Ÿä¼´éšç€ä¸€äº›å¤±è´¥çš„æ“ä½œï¼Œä¸ºäº†å¤„ç†ç¾éš¾æ€§æ•…éšœï¼Œæˆ‘ä»¬ä½¿ç”¨å¤‡ä»½ã€‚ä¸ºäº†æé«˜å¯é æ€§ï¼Œæˆ‘ä»¬å¼•å…¥äº†å†—ä½™ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿæœ¬è´¨å°±æ˜¯ä¸€å †æœºå™¨çš„ååŒã€‚è€Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯æå‡ºå„ç§æ‰‹æ®µæ¥ç„¶æœºå™¨çš„è¿è¡Œè¾¾åˆ°é¢„æœŸã€‚è¿™ä¹ˆå¤æ‚çš„ç³»ç»Ÿï¼Œéœ€è¦äº†è§£å„ä¸ªç¯èŠ‚ï¼Œå„ä¸ªä¸­é—´ä»¶çš„æ¥å…¥ï¼Œæ˜¯ä¸€ä¸ªéå¸¸å¤§çš„å·¥ç¨‹ã€‚åº†å¹¸çš„æ˜¯ï¼Œåœ¨å¾®æœåŠ¡èƒŒæ™¯ä¸‹ï¼Œå¤šæ•°åŸºç¡€æ€§çš„å·¥ä½œå·²ç»æœ‰äººå¸®æˆ‘ä»¬å®ç°äº†ã€‚å‰æ–‡æ‰€æè¿°çš„åˆ†å¸ƒå¼æ¶æ„ï¼Œåœ¨å·¥ç¨‹å®ç°äº†æ˜¯éœ€è¦ç”¨åˆ°åˆ†å¸ƒå¼ä¸‰ä»¶å¥—(Docker+K8S+Srping Cloud)åŸºæœ¬å°±å¯ä»¥æ„å»ºå‡ºæ¥äº†ã€‚ åˆ†å¸ƒå¼æ¶æ„æ ¸å¿ƒæŠ€æœ¯åˆ†å¸ƒå›¾å¦‚ä¸‹ï¼š åˆ†å¸ƒå¼æŠ€æœ¯æ ˆä½¿ç”¨ä¸­é—´ä»¶ï¼š æœ€åç”¨ä¸€å¼ å›¾æ¥æ¦‚æ‹¬åˆ†å¸ƒå¼ç³»ç»Ÿçš„çŸ¥è¯†ä½“ç³»ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}],"tags":[{"name":"åˆ†å¸ƒå¼","slug":"åˆ†å¸ƒå¼","permalink":"https://yuanzi222.com/tags/åˆ†å¸ƒå¼/"}],"keywords":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}]},{"title":"Eurekaæ¯”Zookeeperå¥½åœ¨å“ªé‡Œ","slug":"Eurekaæ¯”Zookeeperå¥½åœ¨å“ªé‡Œ","date":"2017-09-08T01:45:12.000Z","updated":"2020-01-09T08:23:22.222Z","comments":true,"path":"Eurekaæ¯”Zookeeperå¥½åœ¨å“ªé‡Œ.html","link":"","permalink":"https://yuanzi222.com/Eurekaæ¯”Zookeeperå¥½åœ¨å“ªé‡Œ.html","excerpt":"","text":"è‘—åçš„CAPç†è®ºæŒ‡å‡ºï¼Œä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸å¯èƒ½åŒæ—¶æ»¡è¶³C(ä¸€è‡´æ€§)ã€A(å¯ç”¨æ€§)å’ŒP(åˆ†åŒºå®¹é”™æ€§)ã€‚ç”±äºåˆ†åŒºå®¹é”™æ€§åœ¨æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¿…é¡»è¦ä¿è¯çš„ï¼Œå› æ­¤æˆ‘ä»¬åªèƒ½åœ¨Aå’ŒCä¹‹é—´è¿›è¡Œæƒè¡¡ã€‚åœ¨æ­¤Zookeeperä¿è¯çš„æ˜¯CP, è€ŒEurekaåˆ™æ˜¯APã€‚ Zookeeperä¿è¯CPå½“å‘æ³¨å†Œä¸­å¿ƒæŸ¥è¯¢æœåŠ¡åˆ—è¡¨æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å®¹å¿æ³¨å†Œä¸­å¿ƒè¿”å›çš„æ˜¯å‡ åˆ†é’Ÿä»¥å‰çš„æ³¨å†Œä¿¡æ¯ï¼Œä½†ä¸èƒ½æ¥å—æœåŠ¡ç›´æ¥downæ‰ä¸å¯ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡æ³¨å†ŒåŠŸèƒ½å¯¹å¯ç”¨æ€§çš„è¦æ±‚è¦é«˜äºä¸€è‡´æ€§ã€‚ä½†æ˜¯zkä¼šå‡ºç°è¿™æ ·ä¸€ç§æƒ…å†µï¼Œå½“masterèŠ‚ç‚¹å› ä¸ºç½‘ç»œæ•…éšœä¸å…¶ä»–èŠ‚ç‚¹å¤±å»è”ç³»æ—¶ï¼Œå‰©ä½™èŠ‚ç‚¹ä¼šé‡æ–°è¿›è¡Œleaderé€‰ä¸¾ã€‚é—®é¢˜åœ¨äºï¼Œé€‰ä¸¾leaderçš„æ—¶é—´å¤ªé•¿ï¼Œ30 ~ 120s, ä¸”é€‰ä¸¾æœŸé—´æ•´ä¸ªzké›†ç¾¤éƒ½æ˜¯ä¸å¯ç”¨çš„ï¼Œè¿™å°±å¯¼è‡´åœ¨é€‰ä¸¾æœŸé—´æ³¨å†ŒæœåŠ¡ç˜«ç—ªã€‚åœ¨äº‘éƒ¨ç½²çš„ç¯å¢ƒä¸‹ï¼Œå› ç½‘ç»œé—®é¢˜ä½¿å¾—zké›†ç¾¤å¤±å»masterèŠ‚ç‚¹æ˜¯è¾ƒå¤§æ¦‚ç‡ä¼šå‘ç”Ÿçš„äº‹ï¼Œè™½ç„¶æœåŠ¡èƒ½å¤Ÿæœ€ç»ˆæ¢å¤ï¼Œä½†æ˜¯æ¼«é•¿çš„é€‰ä¸¾æ—¶é—´å¯¼è‡´çš„æ³¨å†Œé•¿æœŸä¸å¯ç”¨æ˜¯ä¸èƒ½å®¹å¿çš„ã€‚ Eurekaä¿è¯APEurekaçœ‹æ˜ç™½äº†è¿™ä¸€ç‚¹ï¼Œå› æ­¤åœ¨è®¾è®¡æ—¶å°±ä¼˜å…ˆä¿è¯å¯ç”¨æ€§ã€‚Eurekaå„ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å¹³ç­‰çš„ï¼Œå‡ ä¸ªèŠ‚ç‚¹æŒ‚æ‰ä¸ä¼šå½±å“æ­£å¸¸èŠ‚ç‚¹çš„å·¥ä½œï¼Œå‰©ä½™çš„èŠ‚ç‚¹ä¾ç„¶å¯ä»¥æä¾›æ³¨å†Œå’ŒæŸ¥è¯¢æœåŠ¡ã€‚è€ŒEurekaçš„å®¢æˆ·ç«¯åœ¨å‘æŸä¸ªEurekaæ³¨å†Œæˆ–æ—¶å¦‚æœå‘ç°è¿æ¥å¤±è´¥ï¼Œåˆ™ä¼šè‡ªåŠ¨åˆ‡æ¢è‡³å…¶å®ƒèŠ‚ç‚¹ï¼Œåªè¦æœ‰ä¸€å°Eurekaè¿˜åœ¨ï¼Œå°±èƒ½ä¿è¯æ³¨å†ŒæœåŠ¡å¯ç”¨(ä¿è¯å¯ç”¨æ€§)ï¼Œåªä¸è¿‡æŸ¥åˆ°çš„ä¿¡æ¯å¯èƒ½ä¸æ˜¯æœ€æ–°çš„(ä¸ä¿è¯å¼ºä¸€è‡´æ€§)ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒEurekaè¿˜æœ‰ä¸€ç§è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼Œå¦‚æœåœ¨15åˆ†é’Ÿå†…è¶…è¿‡85%çš„èŠ‚ç‚¹éƒ½æ²¡æœ‰æ­£å¸¸çš„å¿ƒè·³ï¼Œé‚£ä¹ˆEurekaå°±è®¤ä¸ºå®¢æˆ·ç«¯ä¸æ³¨å†Œä¸­å¿ƒå‡ºç°äº†ç½‘ç»œæ•…éšœï¼Œæ­¤æ—¶ä¼šå‡ºç°ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š Eurekaä¸å†ä»æ³¨å†Œåˆ—è¡¨ä¸­ç§»é™¤å› ä¸ºé•¿æ—¶é—´æ²¡æ”¶åˆ°å¿ƒè·³è€Œåº”è¯¥è¿‡æœŸçš„æœåŠ¡ Eurekaä»ç„¶èƒ½å¤Ÿæ¥å—æ–°æœåŠ¡çš„æ³¨å†Œå’ŒæŸ¥è¯¢è¯·æ±‚ï¼Œä½†æ˜¯ä¸ä¼šè¢«åŒæ­¥åˆ°å…¶å®ƒèŠ‚ç‚¹ä¸Š(å³ä¿è¯å½“å‰èŠ‚ç‚¹ä¾ç„¶å¯ç”¨) å½“ç½‘ç»œç¨³å®šæ—¶ï¼Œå½“å‰å®ä¾‹æ–°çš„æ³¨å†Œä¿¡æ¯ä¼šè¢«åŒæ­¥åˆ°å…¶å®ƒèŠ‚ç‚¹ä¸­ å› æ­¤ï¼Œ Eurekaå¯ä»¥å¾ˆå¥½çš„åº”å¯¹å› ç½‘ç»œæ•…éšœå¯¼è‡´éƒ¨åˆ†èŠ‚ç‚¹å¤±å»è”ç³»çš„æƒ…å†µï¼Œè€Œä¸ä¼šåƒzookeeperé‚£æ ·ä½¿æ•´ä¸ªæ³¨å†ŒæœåŠ¡ç˜«ç—ªã€‚ æ€»ç»“ Eurekaä½œä¸ºå•çº¯çš„æœåŠ¡æ³¨å†Œä¸­å¿ƒæ¥è¯´è¦æ¯”zookeeperæ›´åŠ â€œä¸“ä¸šâ€ï¼Œå› ä¸ºæ³¨å†ŒæœåŠ¡æ›´é‡è¦çš„æ˜¯å¯ç”¨æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æ¥å—çŸ­æœŸå†…è¾¾ä¸åˆ°ä¸€è‡´æ€§çš„çŠ¶å†µã€‚ä¸è¿‡Eurekaç›®å‰1.Xç‰ˆæœ¬çš„å®ç°æ˜¯åŸºäºservletçš„Java webåº”ç”¨ï¼Œå®ƒçš„æé™æ€§èƒ½è‚¯å®šä¼šå—åˆ°å½±å“ã€‚æœŸå¾…æ­£åœ¨å¼€å‘ä¹‹ä¸­çš„2.Xç‰ˆæœ¬èƒ½å¤Ÿä»servletä¸­ç‹¬ç«‹å‡ºæ¥æˆä¸ºå•ç‹¬å¯éƒ¨ç½²æ‰§è¡Œçš„æœåŠ¡ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}],"tags":[{"name":"SpringCloud","slug":"SpringCloud","permalink":"https://yuanzi222.com/tags/SpringCloud/"},{"name":"Eureka","slug":"Eureka","permalink":"https://yuanzi222.com/tags/Eureka/"}],"keywords":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}]},{"title":"BIOã€NIOä¸AIOçš„åŒºåˆ«","slug":"BIOã€NIOä¸AIOçš„åŒºåˆ«","date":"2017-09-05T07:45:12.000Z","updated":"2020-01-09T08:21:41.339Z","comments":true,"path":"BIOã€NIOä¸AIOçš„åŒºåˆ«.html","link":"","permalink":"https://yuanzi222.com/BIOã€NIOä¸AIOçš„åŒºåˆ«.html","excerpt":"","text":"è¿™æ˜¯æœ€åŸºæœ¬ä¸ç®€å•çš„I/Oæ“ä½œæ–¹å¼ï¼Œå…¶æ ¹æœ¬ç‰¹æ€§æ˜¯åšå®Œä¸€ä»¶äº‹å†å»åšå¦ä¸€ä»¶äº‹ï¼Œä¸€ä»¶äº‹ä¸€å®šè¦ç­‰å‰ä¸€ä»¶äº‹åšå®Œï¼Œè¿™å¾ˆç¬¦åˆç¨‹åºå‘˜ä¼ ç»Ÿçš„é¡ºåºæ¥å¼€å‘æ€æƒ³ï¼Œå› æ­¤BIOæ¨¡å‹ç¨‹åºå¼€å‘èµ·æ¥è¾ƒä¸ºç®€å•ï¼Œæ˜“äºæŠŠæ¡ã€‚ ä½†æ˜¯BIOå¦‚æœéœ€è¦åŒæ—¶åšå¾ˆå¤šäº‹æƒ…ï¼ˆä¾‹å¦‚åŒæ—¶è¯»å¾ˆå¤šæ–‡ä»¶ï¼Œå¤„ç†å¾ˆå¤štcpè¯·æ±‚ç­‰ï¼‰ï¼Œå°±éœ€è¦ç³»ç»Ÿåˆ›å»ºå¾ˆå¤šçº¿ç¨‹æ¥å®Œæˆå¯¹åº”çš„å·¥ä½œï¼Œå› ä¸ºBIOæ¨¡å‹ä¸‹ä¸€ä¸ªçº¿ç¨‹åŒæ—¶åªèƒ½åšä¸€ä¸ªå·¥ä½œï¼Œå¦‚æœçº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¾èµ–äºéœ€è¦ç­‰å¾…çš„èµ„æºï¼Œé‚£ä¹ˆè¯¥çº¿ç¨‹ä¼šé•¿æœŸå¤„äºé˜»å¡çŠ¶æ€ï¼Œæˆ‘ä»¬çŸ¥é“åœ¨æ•´ä¸ªæ“ä½œç³»ç»Ÿä¸­ï¼Œçº¿ç¨‹æ˜¯ç³»ç»Ÿæ‰§è¡Œçš„åŸºæœ¬å•ä½ï¼Œåœ¨BIOæ¨¡å‹ä¸‹çš„çº¿ç¨‹ é˜»å¡å°±ä¼šå¯¼è‡´ç³»ç»Ÿçº¿ç¨‹çš„åˆ‡æ¢ï¼Œä»è€Œå¯¹æ•´ä¸ªç³»ç»Ÿæ€§èƒ½é€ æˆä¸€å®šçš„å½±å“ã€‚å½“ç„¶å¦‚æœæˆ‘ä»¬åªéœ€è¦åˆ›å»ºå°‘é‡å¯æ§çš„çº¿ç¨‹ï¼Œé‚£ä¹ˆé‡‡ç”¨BIOæ¨¡å‹ä¹Ÿæ˜¯å¾ˆå¥½çš„é€‰æ‹©ï¼Œä½†å¦‚æœåœ¨éœ€è¦è€ƒè™‘é«˜å¹¶å‘çš„webæˆ–è€…tcpæœåŠ¡å™¨ä¸­é‡‡ç”¨BIOæ¨¡å‹å°±æ— æ³•åº”å¯¹äº†ï¼Œå¦‚æœç³»ç»Ÿå¼€è¾Ÿæˆåƒä¸Šä¸‡çš„çº¿ç¨‹ï¼Œé‚£ä¹ˆCPUçš„æ‰§è¡Œæ—¶æœºéƒ½ä¼šæµªè´¹åœ¨çº¿ç¨‹çš„åˆ‡æ¢ä¸­ï¼Œä½¿å¾—çº¿ç¨‹çš„æ‰§è¡Œæ•ˆç‡å¤§å¤§é™ä½ã€‚æ­¤å¤–ï¼Œå…³äºçº¿ç¨‹è¿™é‡Œè¯´ä¸€å¥é¢˜å¤–è¯ï¼Œåœ¨ç³»ç»Ÿå¼€å‘ä¸­çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸä¸€å®šè¦å‡†ç¡®æ§åˆ¶ï¼Œåœ¨éœ€è¦ä¸€å®šè§„æ¨¡å¹¶å‘çš„æƒ…å½¢ä¸‹ï¼Œå°½é‡ä½¿ç”¨çº¿ç¨‹æ± æ¥ç¡®ä¿çº¿ç¨‹åˆ›å»ºæ•°ç›®åœ¨ä¸€ä¸ªåˆç†çš„èŒƒå›´ä¹‹å†…ï¼Œåˆ‡è«ç¼–å†™çº¿ç¨‹æ•°é‡åˆ›å»ºä¸Šé™çš„ä»£ç ã€‚ NIO (New I/O) åŒæ­¥éé˜»å¡I/Oå…³äºNIOï¼Œå›½å†…æœ‰å¾ˆå¤šæŠ€æœ¯åšå®¢å°†è‹±æ–‡ç¿»è¯‘æˆNo-Blocking I/Oï¼Œéé˜»å¡I/Oæ¨¡å‹ ï¼Œå½“ç„¶è¿™æ ·å°±ä¸BIOå½¢æˆäº†é²œæ˜çš„ç‰¹æ€§å¯¹æ¯”ã€‚NIOæœ¬èº«æ˜¯åŸºäºäº‹ä»¶é©±åŠ¨çš„æ€æƒ³æ¥å®ç°çš„ï¼Œå…¶ç›®çš„å°±æ˜¯è§£å†³BIOçš„å¤§å¹¶å‘é—®é¢˜ï¼Œåœ¨BIOæ¨¡å‹ä¸­ï¼Œå¦‚æœéœ€è¦å¹¶å‘å¤„ç†å¤šä¸ªI/Oè¯·æ±‚ï¼Œé‚£å°±éœ€è¦å¤šçº¿ç¨‹æ¥æ”¯æŒï¼ŒNIOä½¿ç”¨äº†å¤šè·¯å¤ç”¨å™¨æœºåˆ¶ï¼Œä»¥socketä½¿ç”¨æ¥è¯´ï¼Œå¤šè·¯å¤ç”¨å™¨é€šè¿‡ä¸æ–­è½®è¯¢å„ä¸ªè¿æ¥çš„çŠ¶æ€ï¼Œåªæœ‰åœ¨socketæœ‰æµå¯è¯»æˆ–è€…å¯å†™æ—¶ï¼Œåº”ç”¨ç¨‹åºæ‰éœ€è¦å»å¤„ç†å®ƒï¼Œåœ¨çº¿ç¨‹çš„ä½¿ç”¨ä¸Šï¼Œå°±ä¸éœ€è¦ä¸€ä¸ªè¿æ¥å°±å¿…é¡»ä½¿ç”¨ä¸€ä¸ªå¤„ç†çº¿ç¨‹äº†ï¼Œè€Œæ˜¯åªæ˜¯æœ‰æ•ˆè¯·æ±‚æ—¶ï¼ˆç¡®å®éœ€è¦è¿›è¡ŒI/Oå¤„ç†æ—¶ï¼‰ï¼Œæ‰ä¼šä½¿ç”¨ä¸€ä¸ªçº¿ç¨‹å»å¤„ç†ï¼Œè¿™æ ·å°±é¿å…äº†BIOæ¨¡å‹ä¸‹å¤§é‡çº¿ç¨‹å¤„äºé˜»å¡ç­‰å¾…çŠ¶æ€çš„æƒ…æ™¯ã€‚ ç›¸å¯¹äºBIOçš„æµï¼ŒNIOæŠ½è±¡å‡ºäº†æ–°çš„é€šé“ï¼ˆChannelï¼‰ä½œä¸ºè¾“å…¥è¾“å‡ºçš„é€šé“ï¼Œå¹¶ä¸”æä¾›äº†ç¼“å­˜ï¼ˆBufferï¼‰çš„æ”¯æŒï¼Œåœ¨è¿›è¡Œè¯»æ“ä½œæ—¶ï¼Œéœ€è¦ä½¿ç”¨Bufferåˆ†é…ç©ºé—´ï¼Œç„¶åå°†æ•°æ®ä»Channelä¸­è¯»å…¥Bufferä¸­ï¼Œå¯¹äºChannelçš„å†™æ“ä½œï¼Œä¹Ÿéœ€è¦ç°å°†æ•°æ®å†™å…¥Bufferï¼Œç„¶åå°†Bufferå†™å…¥Channelä¸­ã€‚ å¦‚ä¸‹æ˜¯NIOæ–¹å¼è¿›è¡Œæ–‡ä»¶æ‹·è´æ“ä½œçš„ç¤ºä¾‹ï¼Œè§ä¸‹å›¾ï¼š é€šè¿‡æ¯”è¾ƒNew IOçš„ä½¿ç”¨æ–¹å¼æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæ–°çš„IOæ“ä½œä¸å†é¢å‘ Streamæ¥è¿›è¡Œæ“ä½œäº†ï¼Œæ”¹ä¸ºäº†é€šé“Channelï¼Œå¹¶ä¸”ä½¿ç”¨äº†æ›´åŠ çµæ´»çš„ç¼“å­˜åŒºç±»Bufferï¼ŒBufferåªæ˜¯ç¼“å­˜åŒºå®šä¹‰æ¥å£ï¼Œ æ ¹æ®éœ€è¦ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å¯¹åº”ç±»å‹çš„ç¼“å­˜åŒºå®ç°ç±»ã€‚åœ¨java NIOç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ä»¥ä¸‹3ä¸ªå¯¹è±¡Channelã€Bufferå’ŒSelectorã€‚ Channelé¦–å…ˆè¯´ä¸€ä¸‹Channelï¼Œå›½å†…å¤§å¤šç¿»è¯‘æˆâ€œé€šé“â€ã€‚Channelå’ŒIOä¸­çš„Stream(æµ)æ˜¯å·®ä¸å¤šä¸€ä¸ªç­‰çº§çš„ã€‚åªä¸è¿‡Streamæ˜¯å•å‘çš„ï¼Œè­¬å¦‚ï¼šInputStream, OutputStreamã€‚è€ŒChannelæ˜¯åŒå‘çš„ï¼Œæ—¢å¯ä»¥ç”¨æ¥è¿›è¡Œè¯»æ“ä½œï¼Œåˆå¯ä»¥ç”¨æ¥è¿›è¡Œå†™æ“ä½œï¼ŒNIOä¸­çš„Channelçš„ä¸»è¦å®ç°æœ‰ï¼šFileChannelã€DatagramChannelã€SocketChannelã€ServerSocketChannelï¼›é€šè¿‡çœ‹åå­—å°±å¯ä»¥çŒœå‡ºä¸ªæ‰€ä»¥ç„¶æ¥ï¼šåˆ†åˆ«å¯ä»¥å¯¹åº”æ–‡ä»¶IOã€UDPå’ŒTCPï¼ˆServerå’ŒClientï¼‰ã€‚ BufferNIOä¸­çš„å…³é”®Bufferå®ç°æœ‰ï¼šByteBufferã€CharBufferã€DoubleBufferã€ FloatBufferã€IntBufferã€ LongBuffer,ã€ShortBufferï¼Œåˆ†åˆ«å¯¹åº”åŸºæœ¬æ•°æ®ç±»å‹: byteã€charã€doubleã€ floatã€intã€ longã€ shortã€‚å½“ç„¶NIOä¸­è¿˜æœ‰MappedByteBuffer, HeapByteBuffer, DirectByteBufferç­‰è¿™é‡Œå…ˆä¸å…·ä½“é™ˆè¿°å…¶ç”¨æ³•ç»†èŠ‚ã€‚ è¯´ä¸€ä¸‹ DirectByteBuffer ä¸ HeapByteBuffer çš„åŒºåˆ«ï¼Ÿå®ƒä»¬ ByteBuffer åˆ†é…å†…å­˜çš„ä¸¤ç§æ–¹å¼ã€‚HeapByteBuffer é¡¾åæ€ä¹‰å…¶å†…å­˜ç©ºé—´åœ¨ JVM çš„ heapï¼ˆå †ï¼‰ä¸Šåˆ†é…ï¼Œå¯ä»¥çœ‹åšæ˜¯ jdk å¯¹äº byte[] æ•°ç»„çš„å°è£…ï¼›è€Œ DirectByteBuffer åˆ™ç›´æ¥åˆ©ç”¨äº†ç³»ç»Ÿæ¥å£è¿›è¡Œå†…å­˜ç”³è¯·ï¼Œå…¶å†…å­˜åˆ†é…åœ¨c heap ä¸­ï¼Œè¿™æ ·å°±å‡å°‘äº†å†…å­˜ä¹‹é—´çš„æ‹·è´æ“ä½œï¼Œå¦‚æ­¤ä¸€æ¥ï¼Œåœ¨ä½¿ç”¨ DirectByteBuffer æ—¶ï¼Œç³»ç»Ÿå°±å¯ä»¥ç›´æ¥ä»å†…å­˜å°†æ•°æ®å†™å…¥åˆ° Channel ä¸­ï¼Œè€Œæ— éœ€è¿›è¡Œ Java å †çš„å†…å­˜ç”³è¯·ï¼Œå¤åˆ¶ç­‰æ“ä½œï¼Œæé«˜äº†æ€§èƒ½ã€‚æ—¢ç„¶å¦‚æ­¤ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨ DirectByteBufferï¼Œè¿˜è¦æ¥ä¸ª HeapByteBufferï¼ŸåŸå› åœ¨äºï¼Œ DirectByteBuffer æ˜¯é€šè¿‡full gcæ¥å›æ”¶å†…å­˜çš„ï¼ŒDirectByteBufferä¼šè‡ªå·±æ£€æµ‹æƒ…å†µè€Œè°ƒç”¨ system.gc()ï¼Œä½†æ˜¯å¦‚æœå‚æ•°ä¸­ä½¿ç”¨äº† DisableExplicitGC é‚£ä¹ˆå°±æ— æ³•å›æ”¶è¯¥å¿«å†…å­˜äº†ï¼Œ-XX:+DisableExplicitGCæ ‡å¿—è‡ªåŠ¨å°† System.gc() è°ƒç”¨è½¬æ¢æˆä¸€ä¸ªç©ºæ“ä½œï¼Œå°±æ˜¯åº”ç”¨ä¸­è°ƒç”¨ System.gc() ä¼šå˜æˆä¸€ä¸ªç©ºæ“ä½œï¼Œé‚£ä¹ˆå¦‚æœè®¾ç½®äº†å°±éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æ¥å›æ”¶å†…å­˜äº†ï¼Œæ‰€ä»¥DirectByteBufferä½¿ç”¨èµ·æ¥ç›¸å¯¹äºå®Œå…¨æ‰˜ç®¡äº java å†…å­˜ç®¡ç†çš„Heap ByteBuffer æ¥è¯´æ›´å¤æ‚ä¸€äº›ï¼Œå¦‚æœç”¨ä¸å¥½å¯èƒ½ä¼šå¼•èµ·OOMã€‚Direct ByteBuffer çš„å†…å­˜å¤§å°å— -XX:MaxDirectMemorySize JVM å‚æ•°æ§åˆ¶ï¼ˆé»˜è®¤å¤§å°64Mï¼‰ï¼Œåœ¨ DirectByteBuffer ç”³è¯·å†…å­˜ç©ºé—´è¾¾åˆ°è¯¥è®¾ç½®å¤§å°åï¼Œä¼šè§¦å‘ Full GCã€‚ SelectorSelector æ˜¯NIOç›¸å¯¹äºBIOå®ç°å¤šè·¯å¤ç”¨çš„åŸºç¡€ï¼ŒSelector è¿è¡Œå•çº¿ç¨‹å¤„ç†å¤šä¸ª Channelï¼Œå¦‚æœä½ çš„åº”ç”¨æ‰“å¼€äº†å¤šä¸ªé€šé“ï¼Œä½†æ¯ä¸ªè¿æ¥çš„æµé‡éƒ½å¾ˆä½ï¼Œä½¿ç”¨ Selector å°±ä¼šå¾ˆæ–¹ä¾¿ã€‚ä¾‹å¦‚åœ¨ä¸€ä¸ªèŠå¤©æœåŠ¡å™¨ä¸­ã€‚è¦ä½¿ç”¨ Selector , å¾—å‘ Selector æ³¨å†Œ Channelï¼Œç„¶åè°ƒç”¨å®ƒçš„ select() æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ä¼šä¸€ç›´é˜»å¡åˆ°æŸä¸ªæ³¨å†Œçš„é€šé“æœ‰äº‹ä»¶å°±ç»ªã€‚ä¸€æ—¦è¿™ä¸ªæ–¹æ³•è¿”å›ï¼Œçº¿ç¨‹å°±å¯ä»¥å¤„ç†è¿™äº›äº‹ä»¶ï¼Œäº‹ä»¶çš„ä¾‹å­æœ‰å¦‚æ–°çš„è¿æ¥è¿›æ¥ã€æ•°æ®æ¥æ”¶ç­‰ã€‚ è¿™é‡Œæˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªNIOæ¨¡å‹ä¸‹çš„TCPæœåŠ¡å™¨çš„å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°Selector æ­£æ˜¯NIOæ¨¡å‹ä¸‹ TCP Server å®ç°IOå¤ç”¨çš„å…³é”®ï¼Œè¯·ä»”ç»†ç†è§£ä¸‹æ®µä»£ç whileå¾ªç¯ä¸­çš„é€»è¾‘ï¼Œè§ä¸‹å›¾ï¼š AIO (Asynchronous I/O) å¼‚æ­¥éé˜»å¡I/OJava AIOå°±æ˜¯Javaä½œä¸ºå¯¹å¼‚æ­¥IOæä¾›æ”¯æŒçš„NIO.2 ï¼ŒJava NIO2 (JSR 203)å®šä¹‰äº†æ›´å¤šçš„ New I/O APIsï¼Œ ææ¡ˆ2003æå‡ºï¼Œç›´åˆ°2011å¹´æ‰å‘å¸ƒï¼Œ æœ€ç»ˆåœ¨JDK 7ä¸­æ‰å®ç°ã€‚JSR 203é™¤äº†æä¾›æ›´å¤šçš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œAPI(åŒ…æ‹¬å¯æ’æ‹”çš„è‡ªå®šä¹‰çš„æ–‡ä»¶ç³»ç»Ÿ)ï¼Œ è¿˜æä¾›äº†å¯¹socketå’Œæ–‡ä»¶çš„å¼‚æ­¥ I/Oæ“ä½œã€‚ åŒæ—¶å®ç°äº†JSR-51ææ¡ˆä¸­çš„socket channelå…¨éƒ¨åŠŸèƒ½,åŒ…æ‹¬å¯¹ç»‘å®šï¼Œ optioné…ç½®çš„æ”¯æŒä»¥åŠå¤šæ’­multicastçš„å®ç°ã€‚ ä»ç¼–ç¨‹æ¨¡å¼ä¸Šæ¥çœ‹AIOç›¸å¯¹äºNIOçš„åŒºåˆ«åœ¨äºï¼ŒNIOéœ€è¦ä½¿ç”¨è€…çº¿ç¨‹ä¸åœçš„è½®è¯¢IOå¯¹è±¡ï¼Œæ¥ç¡®å®šæ˜¯å¦æœ‰æ•°æ®å‡†å¤‡å¥½å¯ä»¥è¯»äº†ï¼Œè€ŒAIOåˆ™æ˜¯åœ¨æ•°æ®å‡†å¤‡å¥½ä¹‹åï¼Œæ‰ä¼šé€šçŸ¥æ•°æ®ä½¿ç”¨è€…ï¼Œè¿™æ ·ä½¿ç”¨è€…å°±ä¸éœ€è¦ä¸åœåœ°è½®è¯¢äº†ã€‚å½“ç„¶AIOçš„å¼‚æ­¥ç‰¹æ€§å¹¶ä¸æ˜¯Javaå®ç°çš„ä¼ªå¼‚æ­¥ï¼Œè€Œæ˜¯ä½¿ç”¨äº†ç³»ç»Ÿåº•å±‚APIçš„æ”¯æŒï¼Œåœ¨Unixç³»ç»Ÿä¸‹ï¼Œé‡‡ç”¨äº†epoll IOæ¨¡å‹ï¼Œè€Œwindowsä¾¿æ˜¯ä½¿ç”¨äº†IOCPæ¨¡å‹ã€‚å…³äºJava AIOï¼Œæœ¬ç¯‡åªåšä¸€ä¸ªæŠ›ç –å¼•ç‰çš„ä»‹ç»ï¼Œå¦‚æœä½ åœ¨å®é™…å·¥ä½œä¸­ç”¨åˆ°äº†ï¼Œé‚£ä¹ˆå¯ä»¥å‚è€ƒNettyåœ¨é«˜å¹¶å‘ä¸‹ä½¿ç”¨AIOçš„ç›¸å…³æŠ€æœ¯ã€‚ æ€» ç»“IOå®è´¨ä¸Šä¸çº¿ç¨‹æ²¡æœ‰å¤ªå¤šçš„å…³ç³»ï¼Œä½†æ˜¯ä¸åŒçš„IOæ¨¡å‹æ”¹å˜äº†åº”ç”¨ç¨‹åºä½¿ç”¨çº¿ç¨‹çš„æ–¹å¼ï¼ŒNIOä¸BIOçš„å‡ºç°è§£å†³äº†å¾ˆå¤šBIOæ— æ³•è§£å†³çš„å¹¶å‘é—®é¢˜ï¼Œå½“ç„¶ä»»ä½•æŠ€æœ¯æŠ›å¼€é€‚ç”¨åœºæ™¯éƒ½æ˜¯è€æµæ°“ï¼Œå¤æ‚çš„æŠ€æœ¯å¾€å¾€æ˜¯ä¸ºäº†è§£å†³ç®€å•æŠ€æœ¯æ— æ³•è§£å†³çš„é—®é¢˜è€Œè®¾è®¡çš„ï¼Œåœ¨ç³»ç»Ÿå¼€å‘ä¸­èƒ½ç”¨å¸¸è§„æŠ€æœ¯è§£å†³çš„é—®é¢˜ï¼Œç»ä¸ç”¨å¤æ‚æŠ€æœ¯ï¼Œå¦åˆ™å¤§å¤§å¢åŠ ç³»ç»Ÿä»£ç çš„ç»´æŠ¤éš¾åº¦ï¼Œå­¦ä¹ ITæŠ€æœ¯ä¸æ˜¯ä¸ºäº†ç‚«æŠ€ï¼Œè€Œæ˜¯è¦å®å®åœ¨åœ¨è§£å†³é—®é¢˜ã€‚ AIOæ˜¯å‘å‡ºIOè¯·æ±‚åï¼Œç”±æ“ä½œç³»ç»Ÿè‡ªå·±å»è·å–IOæƒé™å¹¶è¿›è¡ŒIOæ“ä½œï¼›NIOåˆ™æ˜¯å‘å‡ºIOè¯·æ±‚åï¼Œç”±çº¿ç¨‹ä¸æ–­å°è¯•è·å–IOæƒé™ï¼Œè·å–åˆ°åé€šçŸ¥åº”ç”¨ç¨‹åºè‡ªå·±è¿›è¡ŒIOæ“ä½œã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}],"tags":[{"name":"IO","slug":"IO","permalink":"https://yuanzi222.com/tags/IO/"}],"keywords":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}]},{"title":"HttpClientã€HttpURLConnectionã€OKHttpå’ŒVolley","slug":"HttpClientã€HttpURLConnectionã€OKHttpå’ŒVolley","date":"2017-09-03T03:26:12.000Z","updated":"2020-01-09T08:23:39.427Z","comments":true,"path":"HttpClientã€HttpURLConnectionã€OKHttpå’ŒVolley.html","link":"","permalink":"https://yuanzi222.com/HttpClientã€HttpURLConnectionã€OKHttpå’ŒVolley.html","excerpt":"","text":"ä»Šå¤©çªç„¶æƒ³èµ·æœ‰å¿…è¦æ€»ç»“ä¸€ä¸‹å¸‚é¢ä¸Šé€šç”¨çš„ä¸€äº›ç½‘ç»œè¯·æ±‚æ–¹å¼ï¼Œä¸»è¦é€šè¿‡åˆ†æå…¶ä¼˜ç¼ºç‚¹å’Œæ€§èƒ½ï¼Œä¸ºä»¥åé€‰æ‹©ç½‘ç»œè¯·æ±‚è¿æ¥æ–¹å¼æä¾›æ”¯æŒã€‚ç°åœ¨å¸¸ç”¨çš„ç½‘ç»œè¯·æ±‚æ–¹å¼ä¸»è¦æœ‰ï¼šHttpClientã€HttpURLConnectionã€OKHttpå’ŒVolleyã€‚ ä¸€ã€HttpClientï¼šHttpClient æ˜¯Apacheçš„ä¸€ä¸ªä¸‰æ–¹ç½‘ç»œæ¡†æ¶ï¼Œç½‘ç»œè¯·æ±‚åšäº†å®Œå–„çš„å°è£…ï¼Œapiä¼—å¤šï¼Œç”¨èµ·æ¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œå¼€å‘å¿«ã€‚å®ç°æ¯”è¾ƒç¨³å®šï¼Œbugæ¯”è¾ƒå°‘ï¼Œä½†æ˜¯æ­£å¼ç”±äºå…¶apiä¼—å¤šï¼Œæ˜¯æˆ‘ä»¬å¾ˆéš¾å†ä¸ç ´åå…¼å®¹æ€§çš„æƒ…å†µä¸‹å¯¹å…¶è¿›è¡Œæ‰©å±•ã€‚æ‰€ä»¥ï¼ŒAndroidå›¢é˜Ÿå¯¹æå‡å’Œä¼˜åŒ–httpclientç§¯ææ€§å¹¶ä¸é«˜ã€‚android5.0è¢«åºŸå¼ƒï¼Œ6.0é€æ¸åˆ é™¤ã€‚ äºŒã€HttpURLConnectionHttpURLConnectionæ˜¯ä¸€ä¸ªå¤šç”¨é€”ã€è½»é‡çº§çš„httpå®¢æˆ·ç«¯ã€‚å®ƒå¯¹ç½‘ç»œè¯·æ±‚çš„å°è£…æ²¡æœ‰HttpClientå½»åº•ï¼Œapiæ¯”è¾ƒç®€å•ï¼Œç”¨èµ·æ¥æ²¡æœ‰é‚£ä¹ˆæ–¹ä¾¿ã€‚ä½†æ˜¯æ­£æ˜¯ç”±äºæ­¤ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½æ›´å®¹æ˜“çš„æ‰©å±•å’Œä¼˜åŒ–çš„HttpURLConnectionã€‚ä¸è¿‡ï¼Œå†android2.2ä¹‹å‰ä¸€ç›´å­˜åœ¨ç€ä¸€äº›ä»¤äººçƒ¦çš„bugï¼Œæ¯”å¦‚ä¸€ä¸ªäººå¯è¯»çš„inputstreamè°ƒç”¨å®ƒçš„closeæ–¹æ³•çš„æ—¶å€™ï¼Œä¼šä½¿å¾—è¿æ¥æ± å®æ•ˆï¼Œé€šå¸¸çš„åšæ³•å°±æ˜¯ç¦ç”¨è¿æ¥æ± ã€‚å› æ­¤ï¼Œåœ¨android2.2ä¹‹å‰å»ºè®®ä½¿ç”¨ç¨³å®šçš„HttpClientï¼Œandroid2.2ä¹‹åä½¿ç”¨æ›´å®¹æ˜“æ‰©å±•å’Œä¼˜åŒ–çš„HttpURLConnectionã€‚ ä¸‰ã€okhttp æ”¯æŒAndroid 2.3åŠå…¶ä»¥ä¸Šç‰ˆæœ¬ï¼› æ”¯æŒJava JDK 1.7ä»¥ä¸Šç‰ˆæœ¬ï¼› okhttpæ˜¯ä¸“æ³¨äºæå‡ç½‘ç»œè¿æ¥æ•ˆç‡çš„httpå®¢æˆ·ç«¯ã€‚ å®ƒèƒ½å®ç°åŒä¸€ipå’Œç«¯å£çš„è¯·æ±‚é‡ç”¨ä¸€ä¸ªsocketï¼Œè¿™ç§æ–¹å¼èƒ½å¤§å¤§é™ä½ç½‘ç»œè¿æ¥çš„æ—¶é—´ï¼Œå’Œæ¯æ¬¡è¯·æ±‚éƒ½å»ºç«‹socketï¼Œå†æ–­å¼€socketçš„æ–¹å¼ç›¸æ¯”ï¼Œé™ä½äº†æœåŠ¡å™¨æœåŠ¡å™¨çš„å‹åŠ›ã€‚ okhttp å¯¹httpå’Œhttpséƒ½æœ‰è‰¯å¥½çš„æ”¯æŒã€‚ okhttp ä¸ç”¨æ‹…å¿ƒandroidç‰ˆæœ¬å˜æ¢çš„å›°æ‰°ã€‚ æˆç†Ÿçš„ç½‘ç»œè¯·æ±‚è§£å†³æ–¹æ¡ˆï¼Œæ¯”HttpURLConnectionæ›´å¥½ç”¨ã€‚ ç¼ºç‚¹ï¼Œokhttpè¯·æ±‚ç½‘ç»œåˆ‡æ¢å›æ¥æ˜¯åœ¨çº¿ç¨‹é‡Œé¢çš„ï¼Œä¸æ˜¯åœ¨ä¸»çº¿ç¨‹ï¼Œä¸èƒ½ç›´æ¥åˆ·æ–°UIï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å¤„ç†ã€‚å°è£…æ¯”è¾ƒéº»çƒ¦ã€‚ å››ã€VolleyVolleyæ˜¯googleåœ¨2013 ioå¤§ä¼šä¸Šæ¨å‡ºçš„ç½‘ç»œé€šä¿¡æ¡†æ¶ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†æ•°æ®é‡å°ï¼Œé€šä¿¡é¢‘ç¹çš„ç½‘ç»œæ“ä½œã€‚ä¼˜ç‚¹æ˜¯å†…éƒ¨å°è£…äº†å¼‚æ­¥çº¿ç¨‹ï¼Œå¯ç›´æ¥åœ¨ä¸»çº¿ç¨‹è¯·æ±‚ç½‘ç»œï¼Œå¹¶å¤„ç†è¿”å›çš„ç»“æœã€‚åŒæ—¶å¯ä»¥å–æ¶ˆè¯·æ±‚ï¼Œå®¹æ˜“æ‰©å±•ã€‚ç¼ºç‚¹æ˜¯ï¼šé¢å¯¹å¤§æ•°æ®é‡çš„è¯·æ±‚ï¼Œæ¯”å¦‚ä¸‹è½½è¡¨ç°ç³Ÿç³•ï¼Œä¸æ”¯æŒhttpsã€‚Volleyçš„åº•å±‚åœ¨é’ˆå¯¹android2.3ä»¥ä¸‹ç³»ç»Ÿä½¿ç”¨httpclicentï¼Œåœ¨android2.3ä»¥ä¸Šé‡‡ç”¨HttpUrlConnectionè¯·æ±‚ç½‘ç»œã€‚ æœ¬å…¬å¸çš„é€‰æ‹©ï¼šå…¬å¸ä½¿ç”¨Volleyæ¡†æ¶æ¥å¤„ç†ç½‘ç»œè¯·æ±‚ï¼Œä½†æ˜¯ï¼Œå½“æ•°æ®é‡éœ€æ±‚è¶Šæ¥å¤§çš„æ—¶å€™ï¼ŒVolleyåœ¨é¢å¯¹å¤§æ•°æ®é‡çš„ç½‘ç»œè¯·æ±‚çš„è¡¨ç°å¹¶ä¸å¥½ï¼ŒåŠ ä¸Šå…¬å¸å¤§é‡é‡‡ç”¨httpsåè®®ã€‚äºæ˜¯ï¼Œå…¬å¸ç½‘ç»œè¯·æ±‚é‡‡ç”¨äº†Volleyï¼‹okhttpã€‚æ­£å¦‚æˆ‘ä»¬é‡‡ç”¨è¿™ç§æ–¹å¼çš„ä¼˜åŠ¿æœ‰ï¼š okhttp ä¸ç”¨æ‹…å¿ƒandroidç‰ˆæœ¬å˜æ¢çš„å›°æ‰°ã€‚ okhttp å¯¹å¤§æ•°æ®é‡çš„ç½‘ç»œè¯·æ±‚æ”¯æŒéå¸¸å¥½ã€‚ okhttp åŒæ—¶æ”¯æŒhttpå’Œhttps okhttp é‡ç”¨socketè¿æ¥ï¼Œç½‘ç»œè¯·æ±‚æ•ˆç‡éå¸¸é«˜ã€‚ Volleyæ¡†æ¶åœ¨å¼‚æ­¥è¯·æ±‚çš„å°è£…éå¸¸å¥½ï¼Œå¯¹å­çº¿ç¨‹ç½‘ç»œè¯·æ±‚ï¼Œä¸»çº¿ç¨‹æ›´æ–°UIæ”¯æŒéå¸¸å¥½ã€‚èƒ½åƒImage-Loaderä¸€æ ·è½»æ¾åŠ è½½ç½‘ç»œå›¾ç‰‡ã€‚æ€»ä¹‹ï¼Œç½‘ç»œè¯·æ±‚åº•å±‚é‡‡ç”¨okhttpï¼Œå¼‚æ­¥å›è°ƒä½¿ç”¨Volleyæ¡†æ¶ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}],"tags":[{"name":"HttpClient","slug":"HttpClient","permalink":"https://yuanzi222.com/tags/HttpClient/"}],"keywords":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}]},{"title":"Linux SSHå„é…ç½®é¡¹è¯¦è§£","slug":"Linux SSHå„é…ç½®é¡¹è¯¦è§£","date":"2017-08-02T03:26:12.000Z","updated":"2020-01-09T08:24:07.552Z","comments":true,"path":"Linux SSHå„é…ç½®é¡¹è¯¦è§£.html","link":"","permalink":"https://yuanzi222.com/Linux SSHå„é…ç½®é¡¹è¯¦è§£.html","excerpt":"","text":"å…³äºsshè®¾ç½®çš„ç›¸å…³æ€»ç»“ï¼ˆsshæœ€å¤§è¿æ¥æ•°ã€sshè¿æ¥æ—¶é•¿ã€å®‰å…¨æ€§é…ç½®ç­‰)ï¼Œä»¥redhat6.3ä¸ºä¾‹: sshé…ç½®æ–‡ä»¶åœ¨ï¼š/etc/ssh/sshd_configå¯ä»¥æ‰“å¼€æŸ¥çœ‹ç›¸åº”é…ç½®ï¼Œé»˜è®¤æƒ…å†µä¸‹åªå¼€æ”¾äº†å‡ ä¸ªé€‰é¡¹ï¼Œå…¶ä½™å…¨éƒ¨#å±è”½æ‰äº†ã€‚ è‹±æ–‡æ‰‹å†Œå‚è€ƒ:http://www.openbsd.org/cgi-bin/man.cgi?query=sshd_config å›½å†…æœ‰äººå·²ç»ç¿»è¯‘äº†ï¼šï¼ˆç›´æ¥è´´è¿‡æ¥äº†ï¼‰ sshd_configä¸­æ–‡æ‰‹å†Œ:SSHD_CONFIG(5) OpenBSD Programmerâ€™s Manual SSHD_CONFIG(5) åç§°sshd_config - OpenSSH SSH æœåŠ¡å™¨å®ˆæŠ¤è¿›ç¨‹é…ç½®æ–‡ä»¶ æè¿°sshd(8) é»˜è®¤ä» /etc/ssh/sshd_config æ–‡ä»¶(æˆ–é€šè¿‡ -f å‘½ä»¤è¡Œé€‰é¡¹æŒ‡å®šçš„æ–‡ä»¶)è¯»å–é…ç½®ä¿¡æ¯ã€‚é…ç½®æ–‡ä»¶æ˜¯ç”±â€æŒ‡ä»¤ å€¼â€å¯¹ç»„æˆçš„ï¼Œæ¯è¡Œä¸€ä¸ªã€‚ç©ºè¡Œå’Œä»¥â€™#â€™å¼€å¤´çš„è¡Œéƒ½å°†è¢«å¿½ç•¥ã€‚å¦‚æœå€¼ä¸­å«æœ‰ç©ºç™½ç¬¦æˆ–è€…å…¶ä»–ç‰¹æ®Šç¬¦å·ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡åœ¨ä¸¤è¾¹åŠ ä¸ŠåŒå¼•å·(â€œ)è¿›è¡Œç•Œå®šã€‚[æ³¨æ„]å€¼æ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œä½†æŒ‡ä»¤æ˜¯å¤§å°å†™æ— å…³çš„ã€‚ å½“å‰æ‰€æœ‰å¯ä»¥ä½¿ç”¨çš„é…ç½®æŒ‡ä»¤å¦‚ä¸‹:AcceptEnvæŒ‡å®šå®¢æˆ·ç«¯å‘é€çš„å“ªäº›ç¯å¢ƒå˜é‡å°†ä¼šè¢«ä¼ é€’åˆ°ä¼šè¯ç¯å¢ƒä¸­ã€‚[æ³¨æ„]åªæœ‰SSH-2åè®®æ”¯æŒç¯å¢ƒå˜é‡çš„ä¼ é€’ã€‚ç»†èŠ‚å¯ä»¥å‚è€ƒ ssh_config(5) ä¸­çš„ SendEnv é…ç½®æŒ‡ä»¤ã€‚æŒ‡ä»¤çš„å€¼æ˜¯ç©ºæ ¼åˆ†éš”çš„å˜é‡ååˆ—è¡¨(å…¶ä¸­å¯ä»¥ä½¿ç”¨â€™*â€™å’Œâ€™?â€™ä½œä¸ºé€šé…ç¬¦)ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ª AcceptEnv è¾¾åˆ°åŒæ ·çš„ç›®çš„ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰äº›ç¯å¢ƒå˜é‡å¯èƒ½ä¼šè¢«ç”¨äºç»•è¿‡ç¦æ­¢ç”¨æˆ·ä½¿ç”¨çš„ç¯å¢ƒå˜é‡ã€‚ç”±äºè¿™ä¸ªåŸå› ï¼Œè¯¥æŒ‡ä»¤åº”å½“å°å¿ƒä½¿ç”¨ã€‚é»˜è®¤æ˜¯ä¸ä¼ é€’ä»»ä½•ç¯å¢ƒå˜é‡ã€‚ AddressFamilyæŒ‡å®š sshd(8) åº”å½“ä½¿ç”¨å“ªç§åœ°å€æ—ã€‚å–å€¼èŒƒå›´æ˜¯ï¼šâ€anyâ€(é»˜è®¤)ã€â€inetâ€(ä»…IPv4)ã€â€inet6â€(ä»…IPv6)ã€‚ AllowGroupsè¿™ä¸ªæŒ‡ä»¤åé¢è·Ÿç€ä¸€ä¸²ç”¨ç©ºæ ¼åˆ†éš”çš„ç»„ååˆ—è¡¨(å…¶ä¸­å¯ä»¥ä½¿ç”¨â€*â€å’Œâ€?â€é€šé…ç¬¦)ã€‚é»˜è®¤å…è®¸æ‰€æœ‰ç»„ç™»å½•ã€‚å¦‚æœä½¿ç”¨äº†è¿™ä¸ªæŒ‡ä»¤ï¼Œé‚£ä¹ˆå°†ä»…å…è®¸è¿™äº›ç»„ä¸­çš„æˆå‘˜ç™»å½•ï¼Œè€Œæ‹’ç»å…¶å®ƒæ‰€æœ‰ç»„ã€‚è¿™é‡Œçš„â€ç»„â€æ˜¯æŒ‡â€ä¸»ç»„â€(primary group)ï¼Œä¹Ÿå°±æ˜¯/etc/passwdæ–‡ä»¶ä¸­æŒ‡å®šçš„ç»„ã€‚è¿™é‡Œåªå…è®¸ä½¿ç”¨ç»„çš„åå­—è€Œä¸å…è®¸ä½¿ç”¨GIDã€‚ç›¸å…³çš„ allow/deny æŒ‡ä»¤æŒ‰ç…§ä¸‹åˆ—é¡ºåºå¤„ç†ï¼šDenyUsers, AllowUsers, DenyGroups, AllowGroups AllowTcpForwardingæ˜¯å¦å…è®¸TCPè½¬å‘ï¼Œé»˜è®¤å€¼ä¸ºâ€yesâ€ã€‚ç¦æ­¢TCPè½¬å‘å¹¶ä¸èƒ½å¢å¼ºå®‰å…¨æ€§ï¼Œé™¤éç¦æ­¢äº†ç”¨æˆ·å¯¹shellçš„è®¿é—®ï¼Œå› ä¸ºç”¨æˆ·å¯ä»¥å®‰è£…ä»–ä»¬è‡ªå·±çš„è½¬å‘å™¨ã€‚ AllowUsersè¿™ä¸ªæŒ‡ä»¤åé¢è·Ÿç€ä¸€ä¸²ç”¨ç©ºæ ¼åˆ†éš”çš„ç”¨æˆ·ååˆ—è¡¨(å…¶ä¸­å¯ä»¥ä½¿ç”¨â€*â€å’Œâ€?â€é€šé…ç¬¦)ã€‚é»˜è®¤å…è®¸æ‰€æœ‰ç”¨æˆ·ç™»å½•ã€‚å¦‚æœä½¿ç”¨äº†è¿™ä¸ªæŒ‡ä»¤ï¼Œé‚£ä¹ˆå°†ä»…å…è®¸è¿™äº›ç”¨æˆ·ç™»å½•ï¼Œè€Œæ‹’ç»å…¶å®ƒæ‰€æœ‰ç”¨æˆ·ã€‚å¦‚æœæŒ‡å®šäº† USER@HOST æ¨¡å¼çš„ç”¨æˆ·ï¼Œé‚£ä¹ˆ USER å’Œ HOST å°†åŒæ—¶è¢«æ£€æŸ¥ã€‚è¿™é‡Œåªå…è®¸ä½¿ç”¨ç”¨æˆ·çš„åå­—è€Œä¸å…è®¸ä½¿ç”¨UIDã€‚ç›¸å…³çš„ allow/deny æŒ‡ä»¤æŒ‰ç…§ä¸‹åˆ—é¡ºåºå¤„ç†ï¼šDenyUsers, AllowUsers, DenyGroups, AllowGroups AuthorizedKeysFileå­˜æ”¾è¯¥ç”¨æˆ·å¯ä»¥ç”¨æ¥ç™»å½•çš„ RSA/DSA å…¬é’¥ã€‚è¯¥æŒ‡ä»¤ä¸­å¯ä»¥ä½¿ç”¨ä¸‹åˆ—æ ¹æ®è¿æ¥æ—¶çš„å®é™…æƒ…å†µè¿›è¡Œå±•å¼€çš„ç¬¦å·ï¼š%% è¡¨ç¤ºâ€™%â€™ã€%h è¡¨ç¤ºç”¨æˆ·çš„ä¸»ç›®å½•ã€%u è¡¨ç¤ºè¯¥ç”¨æˆ·çš„ç”¨æˆ·åã€‚ç»è¿‡æ‰©å±•ä¹‹åçš„å€¼å¿…é¡»è¦ä¹ˆæ˜¯ç»å¯¹è·¯å¾„ï¼Œè¦ä¹ˆæ˜¯ç›¸å¯¹äºç”¨æˆ·ä¸»ç›®å½•çš„ç›¸å¯¹è·¯å¾„ã€‚é»˜è®¤å€¼æ˜¯â€.ssh/authorized_keysâ€ã€‚ Bannerå°†è¿™ä¸ªæŒ‡ä»¤æŒ‡å®šçš„æ–‡ä»¶ä¸­çš„å†…å®¹åœ¨ç”¨æˆ·è¿›è¡Œè®¤è¯å‰æ˜¾ç¤ºç»™è¿œç¨‹ç”¨æˆ·ã€‚è¿™ä¸ªç‰¹æ€§ä»…èƒ½ç”¨äºSSH-2ï¼Œé»˜è®¤ä»€ä¹ˆå†…å®¹ä¹Ÿä¸æ˜¾ç¤ºã€‚â€noneâ€è¡¨ç¤ºç¦ç”¨è¿™ä¸ªç‰¹æ€§ã€‚ ChallengeResponseAuthenticationæ˜¯å¦å…è®¸è´¨ç–‘-åº”ç­”(challenge-response)è®¤è¯ã€‚é»˜è®¤å€¼æ˜¯â€yesâ€ã€‚æ‰€æœ‰ login.conf(5) ä¸­å…è®¸çš„è®¤è¯æ–¹å¼éƒ½è¢«æ”¯æŒã€‚ CiphersæŒ‡å®šSSH-2å…è®¸ä½¿ç”¨çš„åŠ å¯†ç®—æ³•ã€‚å¤šä¸ªç®—æ³•ä¹‹é—´ä½¿ç”¨é€—å·åˆ†éš”ã€‚å¯ä»¥ä½¿ç”¨çš„ç®—æ³•å¦‚ä¸‹ï¼šâ€œaes128-cbcâ€, â€œaes192-cbcâ€, â€œaes256-cbcâ€, â€œaes128-ctrâ€, â€œaes192-ctrâ€, â€œaes256-ctrâ€,â€œ3des-cbcâ€, â€œarcfour128â€, â€œarcfour256â€, â€œarcfourâ€, â€œblowfish-cbcâ€, â€œcast128-cbcâ€é»˜è®¤å€¼æ˜¯å¯ä»¥ä½¿ç”¨ä¸Šè¿°æ‰€æœ‰ç®—æ³•ã€‚ ClientAliveCountMaxsshd(8) åœ¨æœªæ”¶åˆ°ä»»ä½•å®¢æˆ·ç«¯å›åº”å‰æœ€å¤šå…è®¸å‘é€å¤šå°‘ä¸ªâ€aliveâ€æ¶ˆæ¯ã€‚é»˜è®¤å€¼æ˜¯ 3 ã€‚åˆ°è¾¾è¿™ä¸ªä¸Šé™åï¼Œsshd(8) å°†å¼ºåˆ¶æ–­å¼€è¿æ¥ã€å…³é—­ä¼šè¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œâ€aliveâ€æ¶ˆæ¯ä¸ TCPKeepAlive æœ‰å¾ˆå¤§å·®å¼‚ã€‚â€œaliveâ€æ¶ˆæ¯æ˜¯é€šè¿‡åŠ å¯†è¿æ¥å‘é€çš„ï¼Œå› æ­¤ä¸ä¼šè¢«æ¬ºéª—ï¼›è€Œ TCPKeepAlive å´æ˜¯å¯ä»¥è¢«æ¬ºéª—çš„ã€‚å¦‚æœ ClientAliveInterval è¢«è®¾ä¸º 15 å¹¶ä¸”å°† ClientAliveCountMax ä¿æŒä¸ºé»˜è®¤å€¼ï¼Œé‚£ä¹ˆæ— åº”ç­”çš„å®¢æˆ·ç«¯å¤§çº¦ä¼šåœ¨45ç§’åè¢«å¼ºåˆ¶æ–­å¼€ã€‚è¿™ä¸ªæŒ‡ä»¤ä»…å¯ä»¥ç”¨äºSSH-2åè®®ã€‚ ClientAliveIntervalè®¾ç½®ä¸€ä¸ªä»¥ç§’è®°çš„æ—¶é•¿ï¼Œå¦‚æœè¶…è¿‡è¿™ä¹ˆé•¿æ—¶é—´æ²¡æœ‰æ”¶åˆ°å®¢æˆ·ç«¯çš„ä»»ä½•æ•°æ®ï¼Œsshd(8) å°†é€šè¿‡å®‰å…¨é€šé“å‘å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªâ€aliveâ€æ¶ˆæ¯ï¼Œå¹¶ç­‰å€™åº”ç­”ã€‚é»˜è®¤å€¼ 0 è¡¨ç¤ºä¸å‘é€â€aliveâ€æ¶ˆæ¯ã€‚è¿™ä¸ªé€‰é¡¹ä»…å¯¹SSH-2æœ‰æ•ˆã€‚ Compressionæ˜¯å¦å¯¹é€šä¿¡æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œè¿˜æ˜¯å»¶è¿Ÿåˆ°è®¤è¯æˆåŠŸä¹‹åå†å¯¹é€šä¿¡æ•°æ®åŠ å¯†ã€‚å¯ç”¨å€¼ï¼šâ€yesâ€, â€œdelayedâ€(é»˜è®¤), â€œnoâ€ã€‚ DenyGroupsè¿™ä¸ªæŒ‡ä»¤åé¢è·Ÿç€ä¸€ä¸²ç”¨ç©ºæ ¼åˆ†éš”çš„ç»„ååˆ—è¡¨(å…¶ä¸­å¯ä»¥ä½¿ç”¨â€*â€å’Œâ€?â€é€šé…ç¬¦)ã€‚é»˜è®¤å…è®¸æ‰€æœ‰ç»„ç™»å½•ã€‚å¦‚æœä½¿ç”¨äº†è¿™ä¸ªæŒ‡ä»¤ï¼Œé‚£ä¹ˆè¿™äº›ç»„ä¸­çš„æˆå‘˜å°†è¢«æ‹’ç»ç™»å½•ã€‚è¿™é‡Œçš„â€ç»„â€æ˜¯æŒ‡â€ä¸»ç»„â€(primary group)ï¼Œä¹Ÿå°±æ˜¯/etc/passwdæ–‡ä»¶ä¸­æŒ‡å®šçš„ç»„ã€‚è¿™é‡Œåªå…è®¸ä½¿ç”¨ç»„çš„åå­—è€Œä¸å…è®¸ä½¿ç”¨GIDã€‚ç›¸å…³çš„ allow/deny æŒ‡ä»¤æŒ‰ç…§ä¸‹åˆ—é¡ºåºå¤„ç†ï¼šDenyUsers, AllowUsers, DenyGroups, AllowGroups DenyUsersè¿™ä¸ªæŒ‡ä»¤åé¢è·Ÿç€ä¸€ä¸²ç”¨ç©ºæ ¼åˆ†éš”çš„ç”¨æˆ·ååˆ—è¡¨(å…¶ä¸­å¯ä»¥ä½¿ç”¨â€*â€å’Œâ€?â€é€šé…ç¬¦)ã€‚é»˜è®¤å…è®¸æ‰€æœ‰ç”¨æˆ·ç™»å½•ã€‚å¦‚æœä½¿ç”¨äº†è¿™ä¸ªæŒ‡ä»¤ï¼Œé‚£ä¹ˆè¿™äº›ç”¨æˆ·å°†è¢«æ‹’ç»ç™»å½•ã€‚å¦‚æœæŒ‡å®šäº† USER@HOST æ¨¡å¼çš„ç”¨æˆ·ï¼Œé‚£ä¹ˆ USER å’Œ HOST å°†åŒæ—¶è¢«æ£€æŸ¥ã€‚è¿™é‡Œåªå…è®¸ä½¿ç”¨ç”¨æˆ·çš„åå­—è€Œä¸å…è®¸ä½¿ç”¨UIDã€‚ç›¸å…³çš„ allow/deny æŒ‡ä»¤æŒ‰ç…§ä¸‹åˆ—é¡ºåºå¤„ç†ï¼šDenyUsers, AllowUsers, DenyGroups, AllowGroups ForceCommandå¼ºåˆ¶æ‰§è¡Œè¿™é‡ŒæŒ‡å®šçš„å‘½ä»¤è€Œå¿½ç•¥å®¢æˆ·ç«¯æä¾›çš„ä»»ä½•å‘½ä»¤ã€‚è¿™ä¸ªå‘½ä»¤å°†ä½¿ç”¨ç”¨æˆ·çš„ç™»å½•shellæ‰§è¡Œ(shell -c)ã€‚è¿™å¯ä»¥åº”ç”¨äº shell ã€å‘½ä»¤ã€å­ç³»ç»Ÿçš„å®Œæˆï¼Œé€šå¸¸ç”¨äº Match å—ä¸­ã€‚è¿™ä¸ªå‘½ä»¤æœ€åˆæ˜¯åœ¨å®¢æˆ·ç«¯é€šè¿‡ SSH_ORIGINAL_COMMAND ç¯å¢ƒå˜é‡æ¥æ”¯æŒçš„ã€‚ GatewayPortsæ˜¯å¦å…è®¸è¿œç¨‹ä¸»æœºè¿æ¥æœ¬åœ°çš„è½¬å‘ç«¯å£ã€‚é»˜è®¤å€¼æ˜¯â€noâ€ã€‚sshd(8) é»˜è®¤å°†è¿œç¨‹ç«¯å£è½¬å‘ç»‘å®šåˆ°loopbackåœ°å€ã€‚è¿™æ ·å°†é˜»æ­¢å…¶å®ƒè¿œç¨‹ä¸»æœºè¿æ¥åˆ°è½¬å‘ç«¯å£ã€‚GatewayPorts æŒ‡ä»¤å¯ä»¥è®© sshd å°†è¿œç¨‹ç«¯å£è½¬å‘ç»‘å®šåˆ°éloopbackåœ°å€ï¼Œè¿™æ ·å°±å¯ä»¥å…è®¸è¿œç¨‹ä¸»æœºè¿æ¥äº†ã€‚â€œnoâ€è¡¨ç¤ºä»…å…è®¸æœ¬åœ°è¿æ¥ï¼Œâ€yesâ€è¡¨ç¤ºå¼ºåˆ¶å°†è¿œç¨‹ç«¯å£è½¬å‘ç»‘å®šåˆ°ç»Ÿé…åœ°å€(wildcard address)ï¼Œâ€œclientspecifiedâ€è¡¨ç¤ºå…è®¸å®¢æˆ·ç«¯é€‰æ‹©å°†è¿œç¨‹ç«¯å£è½¬å‘ç»‘å®šåˆ°å“ªä¸ªåœ°å€ã€‚ GSSAPIAuthenticationæ˜¯å¦å…è®¸ä½¿ç”¨åŸºäº GSSAPI çš„ç”¨æˆ·è®¤è¯ã€‚é»˜è®¤å€¼ä¸ºâ€noâ€ã€‚ä»…ç”¨äºSSH-2ã€‚ GSSAPICleanupCredentialsæ˜¯å¦åœ¨ç”¨æˆ·é€€å‡ºç™»å½•åè‡ªåŠ¨é”€æ¯ç”¨æˆ·å‡­è¯ç¼“å­˜ã€‚é»˜è®¤å€¼æ˜¯â€yesâ€ã€‚ä»…ç”¨äºSSH-2ã€‚ HostbasedAuthenticationè¿™ä¸ªæŒ‡ä»¤ä¸ RhostsRSAAuthentication ç±»ä¼¼ï¼Œä½†æ˜¯ä»…å¯ä»¥ç”¨äºSSH-2ã€‚æ¨èä½¿ç”¨é»˜è®¤å€¼â€noâ€ã€‚æ¨èä½¿ç”¨é»˜è®¤å€¼â€noâ€ç¦æ­¢è¿™ç§ä¸å®‰å…¨çš„è®¤è¯æ–¹å¼ã€‚ HostbasedUsesNameFromPacketOnlyåœ¨å¼€å¯ HostbasedAuthentication çš„æƒ…å†µä¸‹ï¼ŒæŒ‡å®šæœåŠ¡å™¨åœ¨ä½¿ç”¨ ~/.shosts ~/.rhosts /etc/hosts.equiv è¿›è¡Œè¿œç¨‹ä¸»æœºååŒ¹é…æ—¶ï¼Œæ˜¯å¦è¿›è¡Œåå‘åŸŸåæŸ¥è¯¢ã€‚â€œyesâ€è¡¨ç¤º sshd(8) ä¿¡ä»»å®¢æˆ·ç«¯æä¾›çš„ä¸»æœºåè€Œä¸è¿›è¡Œåå‘æŸ¥è¯¢ã€‚é»˜è®¤å€¼æ˜¯â€noâ€ã€‚ HostKeyä¸»æœºç§é’¥æ–‡ä»¶çš„ä½ç½®ã€‚å¦‚æœæƒé™ä¸å¯¹ï¼Œsshd(8) å¯èƒ½ä¼šæ‹’ç»å¯åŠ¨ã€‚SSH-1é»˜è®¤æ˜¯ /etc/ssh/ssh_host_key ã€‚SSH-2é»˜è®¤æ˜¯ /etc/ssh/ssh_host_rsa_key å’Œ /etc/ssh/ssh_host_dsa_key ã€‚ä¸€å°ä¸»æœºå¯ä»¥æ‹¥æœ‰å¤šä¸ªä¸åŒçš„ç§é’¥ã€‚â€rsa1â€ä»…ç”¨äºSSH-1ï¼Œâ€dsaâ€å’Œâ€rsaâ€ä»…ç”¨äºSSH-2ã€‚ IgnoreRhostsæ˜¯å¦åœ¨ RhostsRSAAuthentication æˆ– HostbasedAuthentication è¿‡ç¨‹ä¸­å¿½ç•¥ .rhosts å’Œ .shosts æ–‡ä»¶ã€‚ä¸è¿‡ /etc/hosts.equiv å’Œ /etc/shosts.equiv ä»å°†è¢«ä½¿ç”¨ã€‚æ¨èè®¾ä¸ºé»˜è®¤å€¼â€yesâ€ã€‚ IgnoreUserKnownHostsæ˜¯å¦åœ¨ RhostsRSAAuthentication æˆ– HostbasedAuthentication è¿‡ç¨‹ä¸­å¿½ç•¥ç”¨æˆ·çš„ ~/.ssh/known_hosts æ–‡ä»¶ã€‚é»˜è®¤å€¼æ˜¯â€noâ€ã€‚ä¸ºäº†æé«˜å®‰å…¨æ€§ï¼Œå¯ä»¥è®¾ä¸ºâ€yesâ€ã€‚ KerberosAuthenticationæ˜¯å¦è¦æ±‚ç”¨æˆ·ä¸º PasswordAuthentication æä¾›çš„å¯†ç å¿…é¡»é€šè¿‡ Kerberos KDC è®¤è¯ï¼Œä¹Ÿå°±æ˜¯æ˜¯å¦ä½¿ç”¨Kerberosè®¤è¯ã€‚è¦ä½¿ç”¨Kerberosè®¤è¯ï¼ŒæœåŠ¡å™¨éœ€è¦ä¸€ä¸ªå¯ä»¥æ ¡éªŒ KDC identity çš„ Kerberos servtab ã€‚é»˜è®¤å€¼æ˜¯â€noâ€ã€‚ KerberosGetAFSTokenå¦‚æœä½¿ç”¨äº† AFS å¹¶ä¸”è¯¥ç”¨æˆ·æœ‰ä¸€ä¸ª Kerberos 5 TGTï¼Œé‚£ä¹ˆå¼€å¯è¯¥æŒ‡ä»¤åï¼Œå°†ä¼šåœ¨è®¿é—®ç”¨æˆ·çš„å®¶ç›®å½•å‰å°è¯•è·å–ä¸€ä¸ª AFS token ã€‚é»˜è®¤ä¸ºâ€noâ€ã€‚ KerberosOrLocalPasswdå¦‚æœ Kerberos å¯†ç è®¤è¯å¤±è´¥ï¼Œé‚£ä¹ˆè¯¥å¯†ç è¿˜å°†è¦é€šè¿‡å…¶å®ƒçš„è®¤è¯æœºåˆ¶(æ¯”å¦‚ /etc/passwd)ã€‚é»˜è®¤å€¼ä¸ºâ€yesâ€ã€‚ KerberosTicketCleanupæ˜¯å¦åœ¨ç”¨æˆ·é€€å‡ºç™»å½•åè‡ªåŠ¨é”€æ¯ç”¨æˆ·çš„ ticket ã€‚é»˜è®¤å€¼æ˜¯â€yesâ€ã€‚ KeyRegenerationIntervalåœ¨SSH-1åè®®ä¸‹ï¼ŒçŸ­å‘½çš„æœåŠ¡å™¨å¯†é’¥å°†ä»¥æ­¤æŒ‡ä»¤è®¾ç½®çš„æ—¶é—´ä¸ºå‘¨æœŸ(ç§’)ï¼Œä¸æ–­é‡æ–°ç”Ÿæˆã€‚è¿™ä¸ªæœºåˆ¶å¯ä»¥å°½é‡å‡å°å¯†é’¥ä¸¢å¤±æˆ–è€…é»‘å®¢æ”»å‡»é€ æˆçš„æŸå¤±ã€‚è®¾ä¸º 0 è¡¨ç¤ºæ°¸ä¸é‡æ–°ç”Ÿæˆï¼Œé»˜è®¤ä¸º 3600(ç§’)ã€‚ ListenAddressæŒ‡å®š sshd(8) ç›‘å¬çš„ç½‘ç»œåœ°å€ï¼Œé»˜è®¤ç›‘å¬æ‰€æœ‰åœ°å€ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ ¼å¼ï¼š ListenAddresshost|IPv4_addr|IPv6_addrListenAddress host|IPv4_addr:portListenAddress [host|IPv6_addr]:port å¦‚æœæœªæŒ‡å®š port ï¼Œé‚£ä¹ˆå°†ä½¿ç”¨ Port æŒ‡ä»¤çš„å€¼ã€‚å¯ä»¥ä½¿ç”¨å¤šä¸ª ListenAddress æŒ‡ä»¤ç›‘å¬å¤šä¸ªåœ°å€ã€‚ LoginGraceTimeé™åˆ¶ç”¨æˆ·å¿…é¡»åœ¨æŒ‡å®šçš„æ—¶é™å†…è®¤è¯æˆåŠŸï¼Œ0 è¡¨ç¤ºæ— é™åˆ¶ã€‚é»˜è®¤å€¼æ˜¯ 120 ç§’ã€‚ LogLevelæŒ‡å®š sshd(8) çš„æ—¥å¿—ç­‰çº§(è¯¦ç»†ç¨‹åº¦)ã€‚å¯ç”¨å€¼å¦‚ä¸‹ï¼šQUIET, FATAL, ERROR, INFO(é»˜è®¤), VERBOSE, DEBUG, DEBUG1, DEBUG2, DEBUG3DEBUG ä¸ DEBUG1 ç­‰ä»·ï¼›DEBUG2 å’Œ DEBUG3 åˆ™åˆ†åˆ«æŒ‡å®šäº†æ›´è¯¦ç»†ã€æ›´ç½—å—¦çš„æ—¥å¿—è¾“å‡ºã€‚æ¯” DEBUG æ›´è¯¦ç»†çš„æ—¥å¿—å¯èƒ½ä¼šæ³„æ¼ç”¨æˆ·çš„æ•æ„Ÿä¿¡æ¯ï¼Œå› æ­¤åå¯¹ä½¿ç”¨ã€‚ MACsæŒ‡å®šå…è®¸åœ¨SSH-2ä¸­ä½¿ç”¨å“ªäº›æ¶ˆæ¯æ‘˜è¦ç®—æ³•æ¥è¿›è¡Œæ•°æ®æ ¡éªŒã€‚å¯ä»¥ä½¿ç”¨é€—å·åˆ†éš”çš„åˆ—è¡¨æ¥æŒ‡å®šå…è®¸ä½¿ç”¨å¤šä¸ªç®—æ³•ã€‚é»˜è®¤å€¼(åŒ…å«æ‰€æœ‰å¯ä»¥ä½¿ç”¨çš„ç®—æ³•)æ˜¯ï¼šhmac-md5,hmac-sha1,umac-64@openssh.com,hmac-ripemd160,hmac-sha1-96,hmac-md5-96 Matchå¼•å…¥ä¸€ä¸ªæ¡ä»¶å—ã€‚å—çš„ç»“å°¾æ ‡å¿—æ˜¯å¦ä¸€ä¸ª Match æŒ‡ä»¤æˆ–è€…æ–‡ä»¶ç»“å°¾ã€‚å¦‚æœ Match è¡Œä¸ŠæŒ‡å®šçš„æ¡ä»¶éƒ½æ»¡è¶³ï¼Œé‚£ä¹ˆéšåçš„æŒ‡ä»¤å°†è¦†ç›–å…¨å±€é…ç½®ä¸­çš„æŒ‡ä»¤ã€‚Match çš„å€¼æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªâ€æ¡ä»¶-æ¨¡å¼â€å¯¹ã€‚å¯ç”¨çš„â€æ¡ä»¶â€æ˜¯ï¼šUser, Group, Host, Address ã€‚åªæœ‰ä¸‹åˆ—æŒ‡ä»¤å¯ä»¥åœ¨ Match å—ä¸­ä½¿ç”¨ï¼šAllowTcpForwarding, Banner,ForceCommand, GatewayPorts, GSSApiAuthentication,KbdInteractiveAuthentication, KerberosAuthentication,PasswordAuthentication, PermitOpen, PermitRootLogin,RhostsRSAAuthentication, RSAAuthentication, X11DisplayOffset,X11Forwarding, X11UseLocalHost MaxAuthTriesæŒ‡å®šæ¯ä¸ªè¿æ¥æœ€å¤§å…è®¸çš„è®¤è¯æ¬¡æ•°ã€‚é»˜è®¤å€¼æ˜¯ 6 ã€‚å¦‚æœå¤±è´¥è®¤è¯çš„æ¬¡æ•°è¶…è¿‡è¿™ä¸ªæ•°å€¼çš„ä¸€åŠï¼Œè¿æ¥å°†è¢«å¼ºåˆ¶æ–­å¼€ï¼Œä¸”ä¼šç”Ÿæˆé¢å¤–çš„å¤±è´¥æ—¥å¿—æ¶ˆæ¯ã€‚ MaxStartupsæœ€å¤§å…è®¸ä¿æŒå¤šå°‘ä¸ªæœªè®¤è¯çš„è¿æ¥ã€‚é»˜è®¤å€¼æ˜¯ 10 ã€‚åˆ°è¾¾é™åˆ¶åï¼Œå°†ä¸å†æ¥å—æ–°è¿æ¥ï¼Œé™¤éå…ˆå‰çš„è¿æ¥è®¤è¯æˆåŠŸæˆ–è¶…å‡º LoginGraceTime çš„é™åˆ¶ã€‚ PasswordAuthenticationæ˜¯å¦å…è®¸ä½¿ç”¨åŸºäºå¯†ç çš„è®¤è¯ã€‚é»˜è®¤ä¸ºâ€yesâ€ã€‚ PermitEmptyPasswordsæ˜¯å¦å…è®¸å¯†ç ä¸ºç©ºçš„ç”¨æˆ·è¿œç¨‹ç™»å½•ã€‚é»˜è®¤ä¸ºâ€noâ€ã€‚ PermitOpenæŒ‡å®šTCPç«¯å£è½¬å‘å…è®¸çš„ç›®çš„åœ°ï¼Œå¯ä»¥ä½¿ç”¨ç©ºæ ¼åˆ†éš”å¤šä¸ªè½¬å‘ç›®æ ‡ã€‚é»˜è®¤å…è®¸æ‰€æœ‰è½¬å‘è¯·æ±‚ã€‚åˆæ³•çš„æŒ‡ä»¤æ ¼å¼å¦‚ä¸‹ï¼šPermitOpen host:portPermitOpen IPv4_addr:portPermitOpen [IPv6_addr]:portâ€œanyâ€å¯ä»¥ç”¨äºç§»é™¤æ‰€æœ‰é™åˆ¶å¹¶å…è®¸ä¸€åˆ‡è½¬å‘è¯·æ±‚ã€‚ PermitRootLoginæ˜¯å¦å…è®¸ root ç™»å½•ã€‚å¯ç”¨å€¼å¦‚ä¸‹ï¼šâ€œyesâ€(é»˜è®¤) è¡¨ç¤ºå…è®¸ã€‚â€noâ€è¡¨ç¤ºç¦æ­¢ã€‚â€œwithout-passwordâ€è¡¨ç¤ºç¦æ­¢ä½¿ç”¨å¯†ç è®¤è¯ç™»å½•ã€‚â€œforced-commands-onlyâ€è¡¨ç¤ºåªæœ‰åœ¨æŒ‡å®šäº† command é€‰é¡¹çš„æƒ…å†µä¸‹æ‰å…è®¸ä½¿ç”¨å…¬é’¥è®¤è¯ç™»å½•ã€‚åŒæ—¶å…¶å®ƒè®¤è¯æ–¹æ³•å…¨éƒ¨è¢«ç¦æ­¢ã€‚è¿™ä¸ªå€¼å¸¸ç”¨äºåšè¿œç¨‹å¤‡ä»½ä¹‹ç±»çš„äº‹æƒ…ã€‚ PermitTunnelæ˜¯å¦å…è®¸ tun(4) è®¾å¤‡è½¬å‘ã€‚å¯ç”¨å€¼å¦‚ä¸‹ï¼šâ€œyesâ€, â€œpoint-to-pointâ€(layer 3), â€œethernetâ€(layer 2), â€œnoâ€(é»˜è®¤)ã€‚â€œyesâ€åŒæ—¶è•´å«ç€â€point-to-pointâ€å’Œâ€ethernetâ€ã€‚ PermitUserEnvironmentæŒ‡å®šæ˜¯å¦å…è®¸ sshd(8) å¤„ç† ~/.ssh/environment ä»¥åŠ ~/.ssh/authorized_keys ä¸­çš„ environment= é€‰é¡¹ã€‚é»˜è®¤å€¼æ˜¯â€noâ€ã€‚å¦‚æœè®¾ä¸ºâ€yesâ€å¯èƒ½ä¼šå¯¼è‡´ç”¨æˆ·æœ‰æœºä¼šä½¿ç”¨æŸäº›æœºåˆ¶(æ¯”å¦‚ LD_PRELOAD)ç»•è¿‡è®¿é—®æ§åˆ¶ï¼Œé€ æˆå®‰å…¨æ¼æ´ã€‚ PidFileæŒ‡å®šåœ¨å“ªä¸ªæ–‡ä»¶ä¸­å­˜æ”¾SSHå®ˆæŠ¤è¿›ç¨‹çš„è¿›ç¨‹å·ï¼Œé»˜è®¤ä¸º /var/run/sshd.pid æ–‡ä»¶ã€‚ PortæŒ‡å®š sshd(8) å®ˆæŠ¤è¿›ç¨‹ç›‘å¬çš„ç«¯å£å·ï¼Œé»˜è®¤ä¸º 22 ã€‚å¯ä»¥ä½¿ç”¨å¤šæ¡æŒ‡ä»¤ç›‘å¬å¤šä¸ªç«¯å£ã€‚é»˜è®¤å°†åœ¨æœ¬æœºçš„æ‰€æœ‰ç½‘ç»œæ¥å£ä¸Šç›‘å¬ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ ListenAddress æŒ‡å®šåªåœ¨æŸä¸ªç‰¹å®šçš„æ¥å£ä¸Šç›‘å¬ã€‚ PrintLastLogæŒ‡å®š sshd(8) æ˜¯å¦åœ¨æ¯ä¸€æ¬¡äº¤äº’å¼ç™»å½•æ—¶æ‰“å°æœ€åä¸€ä½ç”¨æˆ·çš„ç™»å½•æ—¶é—´ã€‚é»˜è®¤å€¼æ˜¯â€yesâ€ã€‚ PrintMotdæŒ‡å®š sshd(8) æ˜¯å¦åœ¨æ¯ä¸€æ¬¡äº¤äº’å¼ç™»å½•æ—¶æ‰“å° /etc/motd æ–‡ä»¶çš„å†…å®¹ã€‚é»˜è®¤å€¼æ˜¯â€yesâ€ã€‚ ProtocolæŒ‡å®š sshd(8) æ”¯æŒçš„SSHåè®®çš„ç‰ˆæœ¬å·ã€‚â€˜1â€™å’Œâ€™2â€™è¡¨ç¤ºä»…ä»…æ”¯æŒSSH-1å’ŒSSH-2åè®®ã€‚â€2,1â€è¡¨ç¤ºåŒæ—¶æ”¯æŒSSH-1å’ŒSSH-2åè®®ã€‚ PubkeyAuthenticationæ˜¯å¦å…è®¸å…¬é’¥è®¤è¯ã€‚ä»…å¯ä»¥ç”¨äºSSH-2ã€‚é»˜è®¤å€¼ä¸ºâ€yesâ€ã€‚ RhostsRSAAuthenticationæ˜¯å¦ä½¿ç”¨å¼ºå¯ä¿¡ä¸»æœºè®¤è¯(é€šè¿‡æ£€æŸ¥è¿œç¨‹ä¸»æœºåå’Œå…³è”çš„ç”¨æˆ·åè¿›è¡Œè®¤è¯)ã€‚ä»…ç”¨äºSSH-1ã€‚è¿™æ˜¯é€šè¿‡åœ¨RSAè®¤è¯æˆåŠŸåå†æ£€æŸ¥ ~/.rhosts æˆ– /etc/hosts.equiv è¿›è¡Œè®¤è¯çš„ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œå»ºè®®ä½¿ç”¨é»˜è®¤å€¼â€noâ€ã€‚ RSAAuthenticationæ˜¯å¦å…è®¸ä½¿ç”¨çº¯ RSA å…¬é’¥è®¤è¯ã€‚ä»…ç”¨äºSSH-1ã€‚é»˜è®¤å€¼æ˜¯â€yesâ€ã€‚ ServerKeyBitsæŒ‡å®šä¸´æ—¶æœåŠ¡å™¨å¯†é’¥çš„é•¿åº¦ã€‚ä»…ç”¨äºSSH-1ã€‚é»˜è®¤å€¼æ˜¯ 768(ä½)ã€‚æœ€å°å€¼æ˜¯ 512 ã€‚ StrictModesæŒ‡å®šæ˜¯å¦è¦æ±‚ sshd(8) åœ¨æ¥å—è¿æ¥è¯·æ±‚å‰å¯¹ç”¨æˆ·ä¸»ç›®å½•å’Œç›¸å…³çš„é…ç½®æ–‡ä»¶è¿›è¡Œå®¿ä¸»å’Œæƒé™æ£€æŸ¥ã€‚å¼ºçƒˆå»ºè®®ä½¿ç”¨é»˜è®¤å€¼â€yesâ€æ¥é¢„é˜²å¯èƒ½å‡ºç°çš„ä½çº§é”™è¯¯ã€‚ Subsystemé…ç½®ä¸€ä¸ªå¤–éƒ¨å­ç³»ç»Ÿ(ä¾‹å¦‚ï¼Œä¸€ä¸ªæ–‡ä»¶ä¼ è¾“å®ˆæŠ¤è¿›ç¨‹)ã€‚ä»…ç”¨äºSSH-2åè®®ã€‚å€¼æ˜¯ä¸€ä¸ªå­ç³»ç»Ÿçš„åå­—å’Œå¯¹åº”çš„å‘½ä»¤è¡Œ(å«é€‰é¡¹å’Œå‚æ•°)ã€‚æ¯”å¦‚â€sft /bin/sftp-serverâ€ã€‚ SyslogFacilityæŒ‡å®š sshd(8) å°†æ—¥å¿—æ¶ˆæ¯é€šè¿‡å“ªä¸ªæ—¥å¿—å­ç³»ç»Ÿ(facility)å‘é€ã€‚æœ‰æ•ˆå€¼æ˜¯ï¼šDAEMON, USER, AUTH(é»˜è®¤), LOCAL0, LOCAL1, LOCAL2, LOCAL3, LOCAL4, LOCAL5, LOCAL6, LOCAL7 TCPKeepAliveæŒ‡å®šç³»ç»Ÿæ˜¯å¦å‘å®¢æˆ·ç«¯å‘é€ TCP keepalive æ¶ˆæ¯ã€‚é»˜è®¤å€¼æ˜¯â€yesâ€ã€‚è¿™ç§æ¶ˆæ¯å¯ä»¥æ£€æµ‹åˆ°æ­»è¿æ¥ã€è¿æ¥ä¸å½“å…³é—­ã€å®¢æˆ·ç«¯å´©æºƒç­‰å¼‚å¸¸ã€‚å¯ä»¥è®¾ä¸ºâ€noâ€å…³é—­è¿™ä¸ªç‰¹æ€§ã€‚ UseDNSæŒ‡å®š sshd(8) æ˜¯å¦åº”è¯¥å¯¹è¿œç¨‹ä¸»æœºåè¿›è¡Œåå‘è§£æï¼Œä»¥æ£€æŸ¥æ­¤ä¸»æœºåæ˜¯å¦ä¸å…¶IPåœ°å€çœŸå®å¯¹åº”ã€‚é»˜è®¤å€¼ä¸ºâ€yesâ€ã€‚ UseLoginæ˜¯å¦åœ¨äº¤äº’å¼ä¼šè¯çš„ç™»å½•è¿‡ç¨‹ä¸­ä½¿ç”¨ login(1) ã€‚é»˜è®¤å€¼æ˜¯â€noâ€ã€‚å¦‚æœå¼€å¯æ­¤æŒ‡ä»¤ï¼Œé‚£ä¹ˆ X11Forwarding å°†ä¼šè¢«ç¦æ­¢ï¼Œå› ä¸º login(1) ä¸çŸ¥é“å¦‚ä½•å¤„ç† xauth(1) cookies ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œlogin(1) æ˜¯ç¦æ­¢ç”¨äºè¿œç¨‹æ‰§è¡Œå‘½ä»¤çš„ã€‚å¦‚æœæŒ‡å®šäº† UsePrivilegeSeparation ï¼Œé‚£ä¹ˆå®ƒå°†åœ¨è®¤è¯å®Œæˆåè¢«ç¦ç”¨ã€‚ UsePrivilegeSeparationæ˜¯å¦è®© sshd(8) é€šè¿‡åˆ›å»ºéç‰¹æƒå­è¿›ç¨‹å¤„ç†æ¥å…¥è¯·æ±‚çš„æ–¹æ³•æ¥è¿›è¡Œæƒé™åˆ†ç¦»ã€‚é»˜è®¤å€¼æ˜¯â€yesâ€ã€‚è®¤è¯æˆåŠŸåï¼Œå°†ä»¥è¯¥è®¤è¯ç”¨æˆ·çš„èº«ä»½åˆ›å»ºå¦ä¸€ä¸ªå­è¿›ç¨‹ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢é€šè¿‡æœ‰ç¼ºé™·çš„å­è¿›ç¨‹æå‡æƒé™ï¼Œä»è€Œä½¿ç³»ç»Ÿæ›´åŠ å®‰å…¨ã€‚ X11DisplayOffsetæŒ‡å®š sshd(8) X11 è½¬å‘çš„ç¬¬ä¸€ä¸ªå¯ç”¨çš„æ˜¾ç¤ºåŒº(display)æ•°å­—ã€‚é»˜è®¤å€¼æ˜¯ 10 ã€‚è¿™ä¸ªå¯ä»¥ç”¨äºé˜²æ­¢ sshd å ç”¨äº†çœŸå®çš„ X11 æœåŠ¡å™¨æ˜¾ç¤ºåŒºï¼Œä»è€Œå‘ç”Ÿæ··æ·†ã€‚ X11Forwardingæ˜¯å¦å…è®¸è¿›è¡Œ X11 è½¬å‘ã€‚é»˜è®¤å€¼æ˜¯â€noâ€ï¼Œè®¾ä¸ºâ€yesâ€è¡¨ç¤ºå…è®¸ã€‚å¦‚æœå…è®¸X11è½¬å‘å¹¶ä¸”sshd(8)ä»£ç†çš„æ˜¾ç¤ºåŒºè¢«é…ç½®ä¸ºåœ¨å«æœ‰é€šé…ç¬¦çš„åœ°å€(X11UseLocalhost)ä¸Šç›‘å¬ã€‚é‚£ä¹ˆå°†å¯èƒ½æœ‰é¢å¤–çš„ä¿¡æ¯è¢«æ³„æ¼ã€‚ç”±äºä½¿ç”¨X11è½¬å‘çš„å¯èƒ½å¸¦æ¥çš„é£é™©ï¼Œæ­¤æŒ‡ä»¤é»˜è®¤å€¼ä¸ºâ€noâ€ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç¦æ­¢X11è½¬å‘å¹¶ä¸èƒ½ç¦æ­¢ç”¨æˆ·è½¬å‘X11é€šä¿¡ï¼Œå› ä¸ºç”¨æˆ·å¯ä»¥å®‰è£…ä»–ä»¬è‡ªå·±çš„è½¬å‘å™¨ã€‚å¦‚æœå¯ç”¨äº† UseLogin ï¼Œé‚£ä¹ˆX11è½¬å‘å°†è¢«è‡ªåŠ¨ç¦æ­¢ã€‚ X11UseLocalhostsshd(8) æ˜¯å¦åº”å½“å°†X11è½¬å‘æœåŠ¡å™¨ç»‘å®šåˆ°æœ¬åœ°loopbackåœ°å€ã€‚é»˜è®¤å€¼æ˜¯â€yesâ€ã€‚sshd é»˜è®¤å°†è½¬å‘æœåŠ¡å™¨ç»‘å®šåˆ°æœ¬åœ°loopbackåœ°å€å¹¶å°† DISPLAY ç¯å¢ƒå˜é‡çš„ä¸»æœºåéƒ¨åˆ†è®¾ä¸ºâ€localhostâ€ã€‚è¿™å¯ä»¥é˜²æ­¢è¿œç¨‹ä¸»æœºè¿æ¥åˆ° proxy display ã€‚ä¸è¿‡æŸäº›è€æ—§çš„X11å®¢æˆ·ç«¯ä¸èƒ½åœ¨æ­¤é…ç½®ä¸‹æ­£å¸¸å·¥ä½œã€‚ä¸ºäº†å…¼å®¹è¿™äº›è€æ—§çš„X11å®¢æˆ·ç«¯ï¼Œä½ å¯ä»¥è®¾ä¸ºâ€noâ€ã€‚ XAuthLocationæŒ‡å®š xauth(1) ç¨‹åºçš„ç»å¯¹è·¯å¾„ã€‚é»˜è®¤å€¼æ˜¯ /usr/X11R6/bin/xauth æ—¶é—´æ ¼å¼åœ¨ sshd(8) å‘½ä»¤è¡Œå‚æ•°å’Œé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨çš„æ—¶é—´å€¼å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ ¼å¼æŒ‡å®šï¼štime[qualifier] ã€‚å…¶ä¸­çš„ time æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œè€Œ qualifier å¯ä»¥æ˜¯ä¸‹åˆ—å•ä½ä¹‹ä¸€ï¼š&lt;æ— &gt; ç§’s | S ç§’m | M åˆ†é’Ÿh | H å°æ—¶d | D å¤©w | W æ˜ŸæœŸ å¯ä»¥é€šè¿‡æŒ‡å®šå¤šä¸ªæ•°å€¼æ¥ç´¯åŠ æ—¶é—´ï¼Œæ¯”å¦‚ï¼š1h30m 1 å°æ—¶ 30 åˆ†é’Ÿ (90 åˆ†é’Ÿ) æ–‡ä»¶/etc/ssh/sshd_configsshd(8) çš„ä¸»é…ç½®æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶çš„å®¿ä¸»åº”å½“æ˜¯rootï¼Œæƒé™æœ€å¤§å¯ä»¥æ˜¯â€644â€ã€‚ å‚è§sshd(8) ä½œè€…OpenSSH is a derivative of the original and free ssh 1.2.12 release byTatu Ylonen. Aaron Campbell, Bob Beck, Markus Friedl, Niels Provos, Theode Raadt and Dug Song removed many bugs, re-added newer features and cre-ated OpenSSH. Markus Friedl contributed the support for SSH protocolversions 1.5 and 2.0. Niels Provos and Markus Friedl contributed supportfor privilege separation. OpenBSD 4.2 January 1, 2008 9Vbirdç½‘ç»œç¯‡é‡Œçš„è¯´æ˜ï¼š1. å…³äº SSH Server çš„æ•´ä½“è®¾å®š,åŒ…å«ä½¿ç”¨çš„ port å•¦,ä»¥åŠä½¿ç”¨çš„å¯†ç æ¼”ç®—æ–¹å¼å…ˆç•™æ„ä¸€ä¸‹,åœ¨é¢„è®¾çš„æ–‡ä»¶å†…,åªè¦æ˜¯è¢«æ‰¹æ³¨çš„è®¾å®šå€¼(#),å³ä¸ºã€é»˜è®¤å€¼!ã€ Port 22SSH é¢„è®¾ä½¿ç”¨ 22 è¿™ä¸ª port,ä¹Ÿå¯ä»¥ä½¿ç”¨å¤šä¸ª port,å³é‡å¤ä½¿ç”¨ port è¿™ä¸ªè®¾å®šé¡¹ç›®! ## ä¾‹å¦‚æƒ³è¦å¼€æ”¾ sshd åœ¨ 22 ä¸ 443 ,åˆ™å¤šåŠ ä¸€è¡Œå†…å®¹ä¸º: #### Port 443 è¿™æ ·å°±å¥½äº†!ä¸è¿‡,ä¸å»ºè®®ä¿®æ”¹ port number rotocol 1,2é€‰æ‹©çš„ SSH åè®®ç‰ˆæœ¬,å¯ä»¥æ˜¯ 1 ä¹Ÿå¯ä»¥æ˜¯ 2 ,å¦‚æœè¦åŒæ—¶æ”¯æŒä¸¤è€…,å°±å¿…é¡»è¦ä½¿ç”¨ 2,1 è¿™ä¸ªåˆ†éš”äº†(Protocol 1,2)! ## ç›®å‰æˆ‘ä»¬ä¼šå»ºè®®æ‚¨,ç›´æ¥ä½¿ç”¨ Protocol 2 å³å¯! ListenAddress 0.0.0.0ç›‘å¬çš„ä¸»æœºé€‚é…å¡!ä¸¾ä¸ªä¾‹å­æ¥è¯´,å¦‚æœæ‚¨æœ‰ä¸¤ä¸ª IP,åˆ†åˆ«æ˜¯ 192.168.0.100 åŠ 192.168.2.20 ,é‚£ä¹ˆåªæƒ³è¦å¼€æ”¾ 192.168.0.100 æ—¶,å°±å¯ä»¥å†™å¦‚åŒä¸‹é¢çš„æ ·å¼: ListenAddress 192.168.0.100 åªç›‘å¬æ¥è‡ª 192.168.0.100 è¿™ä¸ª IP çš„ SSH è”æœºã€‚å¦‚æœä¸ä½¿ç”¨è®¾å®šçš„è¯,åˆ™é¢„è®¾æ‰€æœ‰æ¥å£å‡æ¥å— SSH PidFile /var/run/sshd.pidå¯ä»¥æ”¾ç½® SSHD è¿™ä¸ª PID çš„æ–‡ä»¶!å·¦åˆ—ä¸ºé»˜è®¤å€¼ LoginGraceTime 2må½“ä½¿ç”¨è€…è¿ä¸Š SSH server ä¹‹å,ä¼šå‡ºç°è¾“å…¥å¯†ç çš„ç”»é¢,åœ¨è¯¥ç”»é¢ä¸­,åœ¨å¤šä¹…æ—¶é—´å†…æ²¡æœ‰æˆåŠŸè¿ä¸Š SSH server ,å°±æ–­çº¿!è‹¥æ— å•ä½åˆ™é¢„è®¾æ—¶é—´ä¸ºç§’! Compression yesæ˜¯å¦å¯ä»¥ä½¿ç”¨å‹ç¼©æŒ‡ä»¤?å½“ç„¶å¯ä»¥ 2. è¯´æ˜ä¸»æœºçš„ Private Key æ”¾ç½®çš„æ¡£æ¡ˆ,é¢„è®¾ä½¿ç”¨ä¸‹é¢çš„æ¡£æ¡ˆå³å¯!HostKey /etc/ssh/ssh_host_key ## SSH version 1 ä½¿ç”¨çš„ç§é’¥HostKey /etc/ssh/ssh_host_rsa_key ## SSH version 2 ä½¿ç”¨çš„ RSA ç§é’¥HostKey /etc/ssh/ssh_host_dsa_key ## SSH version 2 ä½¿ç”¨çš„ DSA ç§é’¥è¿˜è®°å¾—æˆ‘ä»¬åœ¨ä¸»æœºçš„ SSH è”æœºæµç¨‹é‡Œé¢è°ˆåˆ°çš„,è¿™é‡Œå°±æ˜¯ Host Key 2.1 å…³äº version 1 çš„ä¸€äº›è®¾å®š!KeyRegenerationInterval 1hç”±å‰é¢è”æœºçš„è¯´æ˜å¯ä»¥çŸ¥é“, version 1 ä¼šä½¿ç”¨ server çš„ Public Key ,é‚£ä¹ˆå¦‚æœè¿™ä¸ª Public Key è¢«å·çš„è¯,å²‚ä¸å®Œè›‹?æ‰€ä»¥éœ€è¦æ¯éš”ä¸€æ®µæ—¶é—´æ¥é‡æ–°å»ºç«‹ä¸€æ¬¡!è¿™é‡Œçš„æ—¶é—´ä¸ºç§’!ä¸è¿‡æˆ‘ä»¬é€šå¸¸éƒ½ä»…ä½¿ç”¨ version 2 ,æ‰€ä»¥è¿™ä¸ªè®¾å®šå¯ä»¥è¢«å¿½ç•¥å–”! ServerKeyBits 768æ²¡é”™!è¿™ä¸ªå°±æ˜¯ Server key çš„é•¿åº¦!ç”¨é»˜è®¤å€¼å³å¯ã€‚ 3. å…³äºç™»å½•æ–‡ä»¶çš„è®¯æ¯æ•°æ®æ”¾ç½®ä¸ daemon çš„åç§°!SyslogFacility AUTHPRIVå½“æœ‰äººä½¿ç”¨ SSH ç™»å…¥ç³»ç»Ÿçš„æ—¶å€™,SSH ä¼šè®°å½•ä¿¡æ¯,è¿™ä¸ªä¿¡æ¯è¦è®°å½•åœ¨ä»€ä¹ˆ daemon nameåº•ä¸‹?é¢„è®¾æ˜¯ä»¥ AUTH æ¥è®¾å®šçš„,å³æ˜¯ /var/log/secure é‡Œé¢!å…¶å®ƒå¯ç”¨çš„ daemon name ä¸º:DAEMON,USER,AUTH,LOCAL0,LOCAL1,LOCAL2,LOCAL3,LOCAL4,LOCAL5, LogLevel INFOç™»å½•è®°å½•çš„ç­‰çº§!æ³¨æ„ç™»æœºä¿¡æ¯å¯å‚ç…§vbirdåŸºç¡€ç¯‡è¯¦è§£ã€‚ 4. å®‰å…¨è®¾å®šé¡¹ç›®!æé‡è¦!4.1 ç™»å…¥è®¾å®šéƒ¨åˆ†PermitRootLogin noæ˜¯å¦å…è®¸ root ç™»å…¥!é¢„è®¾æ˜¯å…è®¸çš„,ä½†æ˜¯å»ºè®®è®¾å®šæˆ no! UserLogin noåœ¨ SSH åº•ä¸‹æœ¬æ¥å°±ä¸æ¥å— login è¿™ä¸ªç¨‹åºçš„ç™»å…¥! StrictModes yeså½“ä½¿ç”¨è€…çš„ host key æ”¹å˜ä¹‹å,Server å°±ä¸æ¥å—è”æœº,å¯ä»¥æŠµæŒ¡éƒ¨åˆ†çš„æœ¨é©¬ç¨‹åº! RSAAuthentication yesæ˜¯å¦ä½¿ç”¨çº¯çš„ RSA è®¤è¯!?ä»…é’ˆå¯¹ version 1 ! PubkeyAuthentication yesæ˜¯å¦å…è®¸ Public Key ?å½“ç„¶å…è®¸å•¦!ä»…é’ˆå¯¹ version 2 AuthorizedKeysFile .ssh/authorized_keysä¸Šé¢è¿™ä¸ªåœ¨è®¾å®šè‹¥è¦ä½¿ç”¨ä¸éœ€è¦å¯†ç ç™»å…¥çš„è´¦å·æ—¶,é‚£ä¹ˆé‚£ä¸ªè´¦å·çš„å­˜æ”¾å¯†ç æ‰€åœ¨æ–‡ä»¶å! è¿™ä¸ªè®¾å®šå€¼å¾ˆé‡è¦å–”!æ–‡ä»¶åè®°ä¸€ä¸‹! 4.2 è®¤è¯éƒ¨åˆ†RhostsAuthentication noæœ¬æœºç³»ç»Ÿä¸ä½¿ç”¨ .rhosts,å› ä¸ºä»…ä½¿ç”¨ .rhosts å¤ªä¸å®‰å…¨äº†,æ‰€ä»¥è¿™é‡Œä¸€å®šè¦è®¾å®šä¸º no IgnoreRhosts yesæ˜¯å¦å–æ¶ˆä½¿ç”¨ ~/.ssh/.rhosts æ¥åšä¸ºè®¤è¯!å½“ç„¶æ˜¯! RhostsRSAAuthentication noè¿™ä¸ªé€‰é¡¹æ˜¯ä¸“é—¨ç»™ version 1 ç”¨çš„,ä½¿ç”¨ rhosts æ–‡ä»¶åœ¨ /etc/hosts.equiv é…åˆ RSA æ¼”ç®—æ–¹å¼æ¥è¿›è¡Œè®¤è¯!ä¸è¦ä½¿ç”¨å•Š! HostbasedAuthentication noè¿™ä¸ªé¡¹ç›®ä¸ä¸Šé¢çš„é¡¹ç›®ç±»ä¼¼,ä¸è¿‡æ˜¯ç»™ version 2 ä½¿ç”¨çš„! IgnoreUserKnownHosts noæ˜¯å¦å¿½ç•¥å®¶ç›®å½•å†…çš„ ~/.ssh/known_hosts è¿™ä¸ªæ–‡ä»¶æ‰€è®°å½•çš„ä¸»æœºå†…å®¹?å½“ç„¶ä¸è¦å¿½ç•¥,æ‰€ä»¥è¿™é‡Œå°±æ˜¯ no å•¦! PasswordAuthentication yeså¯†ç éªŒè¯å½“ç„¶æ˜¯éœ€è¦çš„!æ‰€ä»¥è¿™é‡Œå†™ yes å•°! PermitEmptyPasswords noè‹¥ä¸Šé¢é‚£ä¸€é¡¹å¦‚æœè®¾å®šä¸º yes çš„è¯,è¿™ä¸€é¡¹å°±æœ€å¥½è®¾å®šä¸º no è¿™ä¸ªé¡¹ç›®åœ¨æ˜¯å¦å…è®¸ä»¥ç©ºçš„å¯†ç ç™»å…¥!å½“ç„¶ä¸è®¸! ChallengeResponseAuthentication noå…è®¸ä»»ä½•çš„å¯†ç è®¤è¯!æ‰€ä»¥,ä»»ä½• login.conf è§„å®šçš„è®¤è¯æ–¹å¼,å‡å¯é€‚ç”¨!ä½†ç›®å‰æˆ‘ä»¬æ¯”è¾ƒå–œæ¬¢ä½¿ç”¨ PAM æ¨¡å—å¸®å¿™ç®¡ç†è®¤è¯,å› æ­¤è¿™ä¸ªé€‰é¡¹å¯ä»¥è®¾å®šä¸º no å–”! UsePAM yesåˆ©ç”¨ PAM ç®¡ç†ä½¿ç”¨è€…è®¤è¯æœ‰å¾ˆå¤šå¥½å¤„,å¯ä»¥è®°å½•ä¸ç®¡ç†ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å»ºè®®æ‚¨ä½¿ç”¨ UsePAM ä¸” ChallengeResponseAuthentication è®¾å®šä¸º no 4.3 ä¸ Kerberosæœ‰å…³çš„å‚æ•°è®¾å®š!å› ä¸ºæˆ‘ä»¬æ²¡æœ‰ Kerberos ä¸»æœº,æ‰€ä»¥åº•ä¸‹ä¸ç”¨è®¾å®š! #KerberosAuthentication no #KerberosOrLocalPasswd yes #KerberosTicketCleanup yes #KerberosTgtPassing no 4.4 åº•ä¸‹æ˜¯æœ‰å…³åœ¨ X-Window åº•ä¸‹ä½¿ç”¨çš„ç›¸å…³è®¾å®š!X11Forwarding yes #X11DisplayOffset 10 #X11UseLocalhost yes 4.5 ç™»å…¥åçš„é¡¹ç›®:PrintMotd noç™»å…¥åæ˜¯å¦æ˜¾ç¤ºå‡ºä¸€äº›ä¿¡æ¯å‘¢?ä¾‹å¦‚ä¸Šæ¬¡ç™»å…¥çš„æ—¶é—´ã€åœ°ç‚¹ç­‰ç­‰,é¢„è®¾æ˜¯ yes,äº¦å³æ˜¯æ‰“å°å‡º /etc/motd è¿™ä¸ªæ¡£æ¡ˆçš„å†…å®¹ã€‚ä½†æ˜¯,å¦‚æœä¸ºäº†å®‰å…¨,å¯ä»¥è€ƒè™‘æ”¹ä¸º no ! PrintLastLog yesæ˜¾ç¤ºä¸Šæ¬¡ç™»å…¥çš„ä¿¡æ¯!å¯ä»¥å•Š!é¢„è®¾ä¹Ÿæ˜¯ yes ! KeepAlive yesä¸€èˆ¬è€Œè¨€,å¦‚æœè®¾å®šè¿™é¡¹ç›®çš„è¯,é‚£ä¹ˆ SSH Server ä¼šä¼ é€ KeepAlive çš„è®¯æ¯ç»™Client ç«¯,ä»¥ç¡®ä¿ä¸¤è€…çš„è”æœºæ­£å¸¸!åœ¨è¿™ä¸ªæƒ…å†µä¸‹,ä»»ä½•ä¸€ç«¯æ­»æ‰å,SSH å¯ä»¥ç«‹åˆ»çŸ¥é“!è€Œä¸ä¼šæœ‰åƒµå°¸ç¨‹åºçš„å‘ç”Ÿ! UsePrivilegeSeparation yesä½¿ç”¨è€…çš„æƒé™è®¾å®šé¡¹ç›®!å°±è®¾å®šä¸º yes å§! MaxStartups 10åŒæ—¶å…è®¸å‡ ä¸ªå°šæœªç™»å…¥çš„è”æœºç”»é¢?å½“æˆ‘ä»¬è¿ä¸Š SSH ,ä½†æ˜¯å°šæœªè¾“å…¥å¯†ç æ—¶,è¿™ä¸ªæ—¶å€™å°±æ˜¯æˆ‘ä»¬æ‰€è°“çš„è”æœºç”»é¢å•¦!åœ¨è¿™ä¸ªè”æœºç”»é¢ä¸­,ä¸ºäº†ä¿æŠ¤ä¸»æœº,æ‰€ä»¥éœ€è¦è®¾å®šæœ€å¤§å€¼,é¢„è®¾æœ€å¤šåä¸ªè”æœºç”»é¢,è€Œå·²ç»å»ºç«‹è”æœºçš„ä¸è®¡ç®—åœ¨è¿™åä¸ªå½“ä¸­ 4.6 å…³äºä½¿ç”¨è€…æŠµæŒ¡çš„è®¾å®šé¡¹ç›®:DenyUsers *è®¾å®šå—æŠµæŒ¡çš„ä½¿ç”¨è€…åç§°,å¦‚æœæ˜¯å…¨éƒ¨çš„ä½¿ç”¨è€…,é‚£å°±æ˜¯å…¨éƒ¨æŒ¡å§!è‹¥æ˜¯éƒ¨åˆ†ä½¿ç”¨è€…,å¯ä»¥å°†è¯¥è´¦å·å¡«å…¥!ä¾‹å¦‚ä¸‹åˆ—! DenyUsers test DenyGroups testä¸ DenyUsers ç›¸åŒ!ä»…æŠµæŒ¡å‡ ä¸ªç¾¤ç»„è€Œå·²! 5. sshdå®‰å…¨é…ç½®(é˜²æ­¢æ”»å‡») æ”¹ç«¯å£å· Port 10232 æŒ‡å®šæ¯ä¸ªè¿æ¥æœ€å¤§å…è®¸çš„è®¤è¯æ¬¡æ•° MaxAuthTries 6","categories":[{"name":"Linux","slug":"Linux","permalink":"https://yuanzi222.com/categories/Linux/"}],"tags":[{"name":"SSH","slug":"SSH","permalink":"https://yuanzi222.com/tags/SSH/"}],"keywords":[{"name":"Linux","slug":"Linux","permalink":"https://yuanzi222.com/categories/Linux/"}]},{"title":"åç«¯Longç±»å‹è¿‡å¤§æ—¶è¿”å›å‰ç«¯jsä¼šä¸¢å¤±ç²¾åº¦é—®é¢˜çš„è§£å†³åŠæ³•","slug":"åç«¯Longç±»å‹è¿‡å¤§æ—¶è¿”å›å‰ç«¯jsä¼šä¸¢å¤±ç²¾åº¦é—®é¢˜çš„è§£å†³åŠæ³•","date":"2017-08-02T03:26:12.000Z","updated":"2020-01-09T08:25:37.715Z","comments":true,"path":"åç«¯Longç±»å‹è¿‡å¤§æ—¶è¿”å›å‰ç«¯jsä¼šä¸¢å¤±ç²¾åº¦é—®é¢˜çš„è§£å†³åŠæ³•.html","link":"","permalink":"https://yuanzi222.com/åç«¯Longç±»å‹è¿‡å¤§æ—¶è¿”å›å‰ç«¯jsä¼šä¸¢å¤±ç²¾åº¦é—®é¢˜çš„è§£å†³åŠæ³•.html","excerpt":"","text":"é—®é¢˜æè¿°åç«¯è¿”å›ç»™å‰ç«¯çš„idæ˜¯18341382392905728ï¼Œä½†å‰ç«¯jsæ˜¾ç¤ºçš„æ˜¯18341382392905730(é”™è¯¯çš„id)ã€‚ æ ¹æœ¬åŸå› æˆ‘ä»¬åç«¯ç”¨çš„é›ªèŠ±ç®—æ³•æ¥ç”Ÿæˆidï¼Œæ˜¯17ä½çš„è€Œjsçš„numberç±»å‹æœ‰ä¸ªæœ€å¤§å€¼ï¼ˆå®‰å…¨å€¼ï¼‰ã€‚å³2çš„53æ¬¡æ–¹ï¼Œä¸º9007199254740992ã€‚å¦‚æœè¶…è¿‡è¿™ä¸ªå€¼ï¼Œé‚£ä¹ˆjsä¼šå‡ºç°ä¸ç²¾ç¡®çš„é—®é¢˜ã€‚è¿™ä¸ªå€¼ä¸º16ä½ã€‚ è§£å†³æ–¹æ³•å°†åç«¯è¿”å›å‚æ•°ä¸ºLongç±»å‹çš„éƒ½è½¬ä¸ºå­—ç¬¦ä¸²å†è¿”å›ç»™å‰ç«¯ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}],"tags":[{"name":"Bug","slug":"Bug","permalink":"https://yuanzi222.com/tags/Bug/"}],"keywords":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}]},{"title":"å†™ç»™25å²çš„ä½ å’Œæˆ‘â€”â€”90åè‡ªç™½","slug":"å†™ç»™25å²çš„ä½ å’Œæˆ‘â€”â€”90åè‡ªç™½","date":"2017-07-26T03:09:12.000Z","updated":"2020-01-17T08:56:32.960Z","comments":true,"path":"å†™ç»™25å²çš„ä½ å’Œæˆ‘â€”â€”90åè‡ªç™½.html","link":"","permalink":"https://yuanzi222.com/å†™ç»™25å²çš„ä½ å’Œæˆ‘â€”â€”90åè‡ªç™½.html","excerpt":"","text":"20å¤šå²çš„å¹´è½»äººï¼Œ æœ‰æ²¡æœ‰äººæƒ³æƒ³ï¼Œ è‡ªå·±30å¤šå²ä¼šæ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ å†å›å¤´çœ‹ï¼Œè¿‡å»çš„å‡ å¹´è‡ªå·±æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ æˆ‘æ•¢æƒ³ï¼Œé‚£ä½ å‘¢ï¼Ÿ ã€Œä»Šå¤©æˆ‘ä»¬çš„èŠèŠtwentysomethingï¼Œä¹Ÿå°±æ˜¯20å¤šå²çš„å¹´è½»äººåº”è¯¥æ˜ç™½ä»€ä¹ˆã€ å­¦ä¼šç”¨ä¹ æƒ¯å’ŒçŸ¥è¯†æ­¦è£…è‡ªå·±æˆ‘ä»¬çš„ä¸€ç”Ÿéƒ½æ˜¯ç”±è®¸è®¸å¤šå¤šçš„å°ä¹ æƒ¯æ„æˆçš„ï¼Œä»å°æ—¶å€™ä¹ æƒ¯å’¬æŒ‡ç”²ï¼Œåƒé¥­æ—¶å€™ä¹ æƒ¯å…ˆæ´—æ‰‹åå°±é¤ï¼Œåˆ°é•¿å¤§æˆäººä¹ æƒ¯å°†å››å­£è¡£æœåˆ†ç±»å å¥½æ”¾ç½®ï¼Œä¹ æƒ¯è§åˆ°é™Œç”Ÿäººç»™ä¸€ä¸ªå–„æ„ä¸”çœŸè¯šçš„å¾®ç¬‘ã€‚å¥½çš„ä¹ æƒ¯å†³å®šäº†äººçš„ä¸€ç”Ÿï¼Œä»é¥®é£Ÿä½œæ¯ä¹ æƒ¯åˆ°é˜…è¯»å­¦ä¹ ä¹ æƒ¯ï¼Œè¿™äº›ä¹ æƒ¯åœ¨æ½œç§»é»˜åŒ–ä¸­é€ å°±äº†æˆ‘ä»¬è‡ªå·±ï¼ˆThe habits you formed shaped youself.ï¼‰ã€‚åœ¨è¿™é‡Œæˆ‘å°±ç›´æ¥å°†å‡ ä¸ªä¸ªäººè®¤ä¸ºä¸”åšæŒè·µè¡Œçš„å¥½ä¹ æƒ¯ï¼ˆåŸå› å°±ä¸åœ¨æ­¤èµ˜è¿°ï¼‰ï¼š åƒé¥­ä¸ƒåˆ†é¥±ã€‚ åšæŒæœ‰æ°§è¿åŠ¨ï¼Œæ¯”å¦‚æ…¢è·‘ï¼Œéª‘å•è½¦ï¼ŒåæœŸæˆ‘è‡ªå·±ä¹Ÿæ‰“ç®—å»å­¦å­¦æ¸¸æ³³ã€‚ å­¦ä¼šè®°å½•ï¼ˆè¦æœ‰æœ¬å­å’Œç¬”ï¼ŒåŠ¨æ‰‹å†™å­—ï¼Œç”µå­ç¬”è®°æ˜¯è¾…åŠ©ï¼‰ï¼Œè®°å½•ç”Ÿæ´»ä¸­ä¸€åˆ‡å¯è®°å½•çš„ä¸œè¥¿ï¼Œæ—¶é—´?å¼€é”€ï¼Œé‡‘é’±å¼€æ”¯ã€‚ åšæŒè¯»æ–‡ç« ï¼ˆä¸­æ–‡æˆ–è€…è‹±æ–‡ï¼‰ å®šæœŸå»æ¥è¿‘å¤§è‡ªç„¶ï¼Œå°†å¿ƒæ”¾ç©ºã€‚ å®šæœŸçœ‹ä¸€éƒ¨ç”µå½±ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºç¾å‰§ï¼Œè‹±å‰§ï¼Œæƒ³æƒ³ä½ è‡ªå·±çœ‹è¿‡å“ªäº›å›½å®¶çš„ç”µå½±å‘¢ï¼Ÿï¼‰ å®šæœŸå†™å­—ï¼Œå†™æ‰‹ç¨¿??ã€‚ å¼€å§‹è„±ç¦»æ‰‹æœºçš„æ§åˆ¶ï¼ˆæˆ‘æŒ‡çš„æ˜¯é‚£äº›è¢«æ‰‹æœºå¥´å½¹çš„äººï¼‰ã€‚ å®šæœŸæ¸…ç†ä¸ªäººç‰©å“ï¼Œæ•´ç†æˆ¿é—´ï¼ˆä¹Ÿå°±æ˜¯æ–­èˆç¦»ï¼‰ã€‚ å¤šå–ç™½å¼€æ°´ï¼ˆæˆ–è€…è¯´åªå–ï¼‰ï¼Œå¤šåƒæ·±è‰²è”¬èœï¼ˆä¸è¦ä¸€å‘³è¿½æ±‚å£æ„Ÿï¼‰ã€‚ å¼ºåˆ¶å‚¨è“„ï¼Œè®°è´¦ å­¦ä¼šåˆ—æ¸…å•ã€‚ ä¸å› è‡ªå·±çš„å­˜åœ¨è€Œå½±å“ä»–äººã€‚ ä¸‹é¢è¯´è¯´çŸ¥è¯†ï¼Œæˆ‘ä»¬ä»å°å°±è¢«çŒè¾“ä»¥ â€œçŸ¥è¯†å°±æ˜¯åŠ›é‡â€ è¿™æ ·çš„ç»“è®ºï¼Œå½“é•¿å¤§æˆäººä¾ç„¶èƒ½å¤Ÿç”¨çŸ¥è¯†æ­¦è£…è‡ªå·±çš„äººä¾¿ä¸å¤šäº†ï¼Œå¾ˆå¤šäººæ— æ³•åˆ†æ¸…ä¸Šå­¦å’Œå­¦ä¹ æ˜¯ä¸¤ä»¶äº‹æƒ…ã€‚ä¸€è¯´â€œä½ çœ‹ä¹¦å‘¢ï¼Ÿâ€ â€œä½ æ˜¯å­¦ç”Ÿå§ã€‚â€ ä¼¼ä¹åªæœ‰å­¦ç”Ÿ?æ‰å¤©ç»åœ°ä¹‰åº”è¯¥è¯»ä¹¦ï¼Œå·¥ä½œä¸Šç­äº†å°±è¯¥å¿™å·¥ä½œã€‚æˆ‘ä¸ªäººæ¥è§¦ç†è´¢æŠ•èµ„ï¼Œé¡¶å°–æŠ•èµ„äººéƒ½æ˜¯æµ·é‡é˜…è¯»çš„è·µè¡Œè€…ï¼Œæ³¨æ„æµ·é‡é˜…è¯»æ˜¯ç»“æœï¼Œä¸æ˜¯ç›®æ ‡ã€‚ä¹Ÿå³æ˜¯è¯´æŠ•èµ„éœ€è¦å…·å¤‡ç»¼åˆå­¦ç§‘çš„çŸ¥è¯†ï¼Œæ¯”å¦‚è‘—åæŠ•èµ„å®¶æŸ¥ç†èŠ’æ ¼ä¸ä»…ç ”ç©¶æŠ•èµ„ç†è®ºï¼Œè€Œä¸”å¹¿æ³›ä¸”æ·±å…¥å­¦ä¹ åŒ…æ‹¬å¾®è§‚ç»æµå­¦ã€å¿ƒç†å­¦ã€æ³•å¾‹ã€æ•°å­¦ã€ç”Ÿç‰©å­¦å’Œå·¥ç¨‹å­¦ç­‰å¤šé¢†åŸŸçŸ¥è¯†ï¼Œå°†é¢†åŸŸæ´è§åº”ç”¨åˆ°æŠ•èµ„é¢†åŸŸã€‚å°±æˆ‘ä»¬ä¸ªäººæ¥è¯´ï¼Œå…¶å®æŒæ¡æœ€å°‘å¿…è¦çŸ¥è¯†MRKï¼ˆMinimum required knowledgeï¼‰å³å¯ï¼Œæ¯”å¦‚æ•°å­¦ä¸­çš„ç»Ÿè®¡æ¦‚ç‡æ€æƒ³ï¼ŒåŸºæœ¬è‹±æ–‡é˜…è¯»èƒ½åŠ›ï¼Œé‡‘èå­¦ç»æµå­¦å¸¸è¯†æˆ–è€…è¯´ç±»ä¼¼çš„é€šè¯†çŸ¥è¯†ï¼Œå†å¦‚å¿ƒç†å­¦ï¼Œé€»è¾‘å­¦ã€‚ä¸€ä¸ªå—è¿‡è‰¯å¥½å¿ƒç†å­¦å’Œé€»è¾‘è®­ç»ƒçš„äººæƒ…å•†å’Œæ€ç»´èƒ½åŠ›è‡ªç„¶æ›´é«˜ã€‚ å› æ­¤å¦‚æœå°†çŸ¥è¯†æ°´å¹³æŒ‰ç™¾åˆ†æ•°æ¥è®¡ç®—ï¼Œå‡è®¾ä¸€ä¸ªäººè‹±æ–‡æ°´å¹³30%ï¼Œæ•°å­¦çŸ¥è¯†30%ï¼Œç¼–ç¨‹èƒ½åŠ›50%ï¼Œé‡‘èçŸ¥è¯†35%ï¼Œé€»è¾‘æ€ç»´25%ï¼Œå†™ä½œæŠ€èƒ½60%ï¼Œæ¼”è®²æŠ€èƒ½40%ï¼Œè¿™æ ·æŠ€èƒ½çš„å åŠ ï¼Œç»¼åˆä¸‹æ¥æ˜¯éå¸¸æœ‰ç«äº‰åŠ›çš„ã€‚æŠ•èµ„äººï¼ŒCEOåŸºæœ¬ä¸Šéƒ½æ˜¯å¤šæŠ€èƒ½ç»¼åˆä½“ã€‚ä¿—è¯è¯´ï¼šâ€œåƒé‡‘åœ¨æ‰‹ï¼Œä¸å¦‚ä¸€æŠ€å‚èº«â€ å°±æ˜¯è¿™ä¸ªé“ç†ã€‚è¡¥å……ä¸€å¥ï¼šå­¦ä¹ å¦‚ä½•å­¦ä¹ ä»¥åŠå­¦ä¹ å¦‚ä½•è¯»ä¹¦ä¹Ÿæ˜¯ä¸€é—¨å­¦é—®ã€‚ å¼€å§‹è®°å½•ï¼Œæ„ŸçŸ¥æ—¶é—´å†å²ä¸Šï¼Œç°å®ä¸­ä¼Ÿå¤§çš„äººç‰©ï¼Œæˆ–è€…è¯´å‰å®³çš„ç‰›äººéƒ½æ˜¯å¯¹æ—¶é—´æä¸ºæ•æ„Ÿæˆ–è€…æƒœæ—¶çš„äººã€‚è‡³å°‘åœ¨æˆ‘å¿ƒä¸­ï¼Œæ¯”å¦‚ç¨»ç››å’Œå¤«ã€æœ¬æ°æ˜å¯Œå…°å…‹æ—ã€æŸ³æ¯”æ­‡å¤«éƒ½æ˜¯å¯¹æ—¶é—´å¯¹æŒæ§èƒ½åŠ›è¾ƒå¼ºçš„äººã€‚å…¶å®æŒæ§æ—¶é—´è¿™ä¸ªè¯´æ³•ä¸å¤ªåˆé€‚ï¼Œæˆ‘ä»¬åº”å½“å’Œæ—¶é—´åšæœ‹å‹ï¼Œè€Œä¸æ˜¯æ§åˆ¶å®ƒã€‚å¾ˆå¤šäººçŸ¥é“è®°è´¦ï¼Œä½†æ˜¯é²œæœ‰äººçŸ¥é“å»è®°å½•æ—¶é—´çš„å¼€æ”¯ï¼Œå®ƒæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿå…¶ä¸€è®©ä½ çŸ¥é“è‡ªå·±åšä»€ä¹ˆäº‹æƒ…è¦éœ€è¦å¤šä¹…ï¼Œå…¶äºŒå¢åŠ è‡ªå·±å¯¹æ—¶é—´å¯¹æ•æ„Ÿåº¦ï¼Œæœ€åè¿˜å¯ä»¥ç”¨æ¥åæ€å“ªäº›æ—¶é—´ä¸è¯¥èŠ±ï¼Œå“ªäº›äº‹æƒ…ä¸Šåº”è¯¥å¤šèŠ±äº›æ—¶é—´ã€‚æˆ‘ä»¬éƒ½æ˜¯åœ¨æ—¶é—´è¿™ä¸ªç»´åº¦ä¸‹ç”Ÿå­˜çš„ï¼Œå½“ä½ æ‹¥æœ‰è¿™ä¸ªç»´åº¦å»åšäº‹çš„æ—¶å€™å°±ä¼šå‘ç°æ—¶é—´çš„ç¾ä¸½ï¼Œæˆ‘ä»¬é€ƒç¦»ä¸è¦å®‡å®™æ—¶é—´çš„å¦‚æ¥ç¥æŒã€‚ä»»ä½•äº‹æƒ…è¢«ç»™äºˆæ—¶é—´è¿™ä¸ªå› ç´ éƒ½ä¼šå‘ç”Ÿé‡å˜åˆ°è´¨å˜çš„è¿‡ç¨‹ï¼Œæ¯”å¦‚çš®è‚¤çš„è¡°è€ï¼ŒæŠ•èµ„çš„å›æŠ¥ï¼ˆå¤åˆ©æ•ˆåº”ï¼‰ï¼Œä¸€åº§å†å²å¤åŸè¢«æ—¶é—´æ‰€æ´—ç¤¼åçš„æ¨¡æ ·ã€‚ å› æ­¤ä»ä»Šå¤©èµ·ï¼Œæ‰¾ä¸€ä¸ªç¬”è®°æœ¬ï¼Œå¼€å§‹è®°å½•è‡ªå·±çš„æ—¶é—´å¼€æ”¯ï¼Œå¦åˆ™ä½ ä¼šæˆä¸ºä¸€ä¸ªå¤±æ§çš„äººï¼Œä¸€æ—¦æ—¶é—´å¤±æ§ï¼Œåé¢çš„è¯æˆ‘å°±ä¸è®²äº†ã€‚ åšä¸€ä¸ªå­¦ç”Ÿï¼Œä¸€å¹´æ‹œä¸€å¸ˆè¿™ä¸€ç‚¹å…¶å®ä¹Ÿæ˜¯æˆ‘è‡ªå·±çš„ä¸€ä¸ªå¯ä»¥è¯´æ˜¯ä¸€ä¸ªä¹ æƒ¯ä¹Ÿå¥½åŸåˆ™ä¹Ÿå¥½ã€‚é‚£å°±æ˜¯åšä¸€ä¸ªåˆæ ¼çš„å­¦ç”Ÿï¼Œä»€ä¹ˆæ˜¯åˆæ ¼çš„å­¦ç”Ÿï¼Ÿåœ¨è€å¸ˆé è°±çš„æƒ…å†µä¸‹ï¼Œä¸å› è€å¸ˆä¸ªäººå› ç´ è€Œå½±å“è‡ªå·±æ¥å—çŸ¥è¯†ã€‚æˆ‘è‡ªå·±å·®ä¸å¤šä¸€å¹´ä¼š â€œæ‹œâ€ ä¸€ä¸ªè€å¸ˆï¼Œå…¶å®ä¸æ˜¯çœŸçš„å»æ‹œï¼Œè€Œæ˜¯æ¯å¤©å¢åŠ ä¸€ä¸ªå¯ä»¥å‘å…¶å­¦ä¹ çš„äººï¼Œä¸€ä¸ªæ¦œæ ·ï¼Œä¸€ä¸ªè¡Œä¸šé¢†è¢–ï¼Œä¸€ä¸ªç¤¾ä¼šåæµï¼Œå¾€ä¿—äº†è®²å°±æ˜¯å‰å®³ç‰›Xçš„äººï¼Œæ¯”å¦‚æŸ¥ç†èŠ’æ ¼ã€æå¼€å¤ã€æç¬‘æ¥ã€ç‹çŸ³ã€å¾å°å¹³ã€ç‹å¼ºã€ä¿æ•æ´ªã€å´æ™“æ³¢ã€å´å†›ï¼ˆæ’åºæ²¡æœ‰å…ˆåï¼‰ï¼Œä¸ªäººè®¤ä¸ºæ€»è¦æœ‰ä¸€ä¸ªäººç”Ÿå¯¼å¸ˆå­˜åœ¨ä½ çš„çµé­‚æ·±å¤„ï¼Œå¿…è¦æ—¶å¯ä»¥å‘ä»– â€œæ±‚åŠ©â€â€”â€”è‡ªé—®è‡ªç­”ï¼Œåæ€è‡ªæˆ‘ã€‚æˆ‘å¸¸å¸¸çœ‹è¿™äº›äººçš„å¾®åšï¼Œçœ‹ä»–ä»¬çš„ç”Ÿæ´»ï¼Œä»–ä»¬çš„å…³æ³¨ç‚¹ï¼Œæ¯•ç«Ÿè‡ªå·±è§è¯†æœ‰é™ï¼Œæœ‰è¿™äº›è€å¸ˆåœ¨è‡ªå·±å¿ƒä¸­æ„Ÿè§‰éå¸¸è¸å®ï¼Œè€Œä¸”è‡ªå·±ä¹Ÿæ˜¯æœ‰æœºä¼šè§åˆ°è¿™äº›è€å¸ˆã€‚å³ä¾¿ä¸æ˜¯äººç”Ÿå¯¼å¸ˆï¼Œå¯¹äºè¡Œä¸šä¸­çš„æ„è§é¢†è¢–ä¹Ÿåº”å½“ç»™äºˆå…³æ³¨ï¼Œæ—¶åˆ»å…³æ³¨è¡Œä¸šåŠ¨æ€ã€‚ä½ è‡ªå·±å¯ä»¥å¯¹è‡ªå·±éª„å‚²çš„è¯´ä¸€å£°ï¼š â€œæˆ‘æ˜¯XXXçš„å­¦ç”Ÿã€‚â€ æ´»ç€è¦æœ‰è‡ªé©±åŠ›ï¼Œåšè‡ªç‡ƒäººè¯´åˆ°è‡ªé©±åŠ›ï¼Œå…¶å®ç±»ä¼¼ç¨»ç››å’Œå¤«è®²ï¼šã€Œæˆä¸ºè‡ªç‡ƒå‹çš„äººï¼Œå¸¦ç€çˆ±å»å·¥ä½œï¼ã€ ç‰©è´¨æœ‰â€œå¯ç‡ƒå‹â€ã€â€œä¸ç‡ƒå‹â€å’Œâ€œè‡ªç‡ƒå‹â€ä¸‰ç§ã€‚åŒæ ·ï¼Œäººä¹Ÿå¯ä»¥åˆ†ä¸ºä¸‰ç§ï¼š ç¬¬ä¸€ç§æ˜¯ç‚¹ç«å°±ç€çš„â€œå¯ç‡ƒå‹â€çš„äººï¼› ç¬¬äºŒç§æ˜¯ç‚¹ç«ä¹Ÿçƒ§ä¸èµ·æ¥çš„â€œä¸ç‡ƒå‹â€çš„äººï¼› ç¬¬ä¸‰ç§æ˜¯è‡ªå·±å°±èƒ½ç†Šç†Šç‡ƒçƒ§çš„â€œè‡ªç‡ƒå‹â€çš„äººã€‚ æƒ³è¦æˆå°±æŸé¡¹äº‹ä¸šï¼Œå°±å¿…é¡»æˆä¸ºâ€œè‡ªç‡ƒå‹â€çš„äººï¼Œåœ¨çƒ­çˆ±è‡ªå·±å·¥ä½œçš„åŒæ—¶ï¼Œå¿…é¡»æŒæœ‰æ˜ç¡®çš„ç›®æ ‡ã€‚ åœ¨ä¸€ä¸ªå­¦æ ¡æˆ–è€…å…¬å¸ä¸­ï¼Œæˆ–è€…è¯´ç”Ÿæ´»ä¸­ï¼Œè¦åšä¸€ä¸ªæœ‰è‡ªé©±åŠ›çš„äººï¼Œå°±åƒå››é©±èµ›è½¦???ä¸€æ ·ï¼Œä¸æ˜¯é å¤–åœ¨å‹åŠ›è¦æ±‚æ¥åšäº‹ï¼Œåšä¸€ä¸ªç§¯æä¸»åŠ¨ï¼ˆproactiveï¼‰çš„äººï¼Œä¸»åŠ¨æ€§äººæ ¼ã€‚æœ‰è‡ªé©±åŠ›ä¸”ç§¯æä¸»åŠ¨ä¼šè®©ä½ å‘ç°æ–°çš„ä¸œè¥¿ï¼Œè®©é¢†å¯¼åŒäº‹å–œæ¬¢ï¼Œå’Œçˆ±äººå…³ç³»ä¹Ÿä¼šå˜å¾—èæ´½ã€‚ å…³æ³¨çœ¼ç›çœ‹ä¸åˆ°çš„ä¸œè¥¿æ°¸è¿œè¦æ¸…æ¥šæˆ‘ä»¬çš„è®¤çŸ¥æœ‰é™éœ€è¦ä¸æ–­å‡çº§ï¼Œæƒ³æƒ³ç”Ÿæ´»ä¸­å“ªäº›æ˜¯çœ‹å¾—è§çš„ä¸œè¥¿ï¼Œå“ªäº›æ˜¯çœ‹ä¸è§çš„ï¼Ÿï¼ˆä¸€ä»¶äº‹æƒ…èƒŒåæ·±å±‚çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿä½ å¯¹é‡‘é’±å¯¹è®¤è¯†å¦‚ä½•ï¼Ÿå®è§‚ç»æµå‘¢ï¼Ÿç¤¾ä¼šç°è±¡å‘¢ï¼Ÿï¼‰é€šå¸¸æ¥è®²ï¼Œäººå¯¹çœ‹ä¸è§æˆ–è€…æœªèƒ½é¢„è§çš„ä¸œè¥¿è®¤è¯†ä¸è¶³ï¼Œæ²¡æœ‰æ¦‚å¿µã€‚æ¯”å¦‚æ—¶é—´ï¼Œæ¯”å¦‚å¾®ä¿¡é’±åŒ…å’Œæ”¯ä»˜å®ä½™é¢ä¸­çš„èººç€çš„æ•°å­—ï¼Œæ¯”å¦‚äººçš„æƒ…å•†ï¼Œä½†æ˜¯çœ‹åˆ°çš„ä¸œè¥¿å‘¢ï¼Ÿä¸‹é¢æ˜¯è±†ç“£ç½‘å‹ã€Œæ²‰é»˜æ˜¯Daisyã€å†™çš„å¯¹ã€Šç²¾è¿›ã€‹è¿™æœ¬ä¹¦çš„è¯„è®ºï¼š ä½œè€…é’ˆå¯¹äº‹ä»¶å€¼ä¸å€¼å¾—åšï¼Œæå‡ºäº†ä¸¤ä¸ªç»´åº¦çš„è¯„ä»·æ ‡å‡†ï¼š ã€Œæ”¶ç›Šå€¼ã€æ˜¯æŒ‡è¯¥äº‹ä»¶å¸¦æ¥çš„æ”¶ç›Šå¤§å°ï¼ˆè®¤çŸ¥ã€æƒ…æ„Ÿã€ç‰©è´¨ã€èº«ä½“æ–¹é¢çš„æ”¶ç›Šçš†å¯è®¡å…¥ï¼‰ï¼› ã€ŒåŠè¡°æœŸã€æ˜¯æŒ‡è¯¥æ”¶ç›Šéšæ—¶é—´è¡°å‡çš„é€Ÿåº¦ï¼ŒåŠè¡°æœŸé•¿çš„äº‹ä»¶ï¼Œå½±å“ä¼šæŒç»­åœ°è¾ƒä¹…è¾ƒé•¿ã€‚ åœ¨è¿™ä¸¤ä¸ªç»´åº¦çš„äº¤å‰æƒ…å†µä¸‹ï¼Œæ—¥å¸¸äº‹æƒ…éƒ½å¯åˆ†ä¸ºå››ä¸ªç±»ï¼š ? é«˜æ”¶ç›Šå€¼ã€é•¿åŠè¡°æœŸäº‹ä»¶ï¼šå¦‚æ‰¾åˆ°çœŸçˆ± ? é«˜æ”¶ç›Šå€¼ã€çŸ­åŠè¡°æœŸäº‹ä»¶ï¼šå¦‚æ·˜å®ä¸€ä»¶æ—¶é«¦çš„è¡£æœ ? ä½æ”¶ç›Šå€¼ã€é•¿åŠè¡°æœŸäº‹ä»¶ï¼šå¦‚é˜…è¯»ä¸€æœ¬ç»å…¸å°è¯´ ? ä½æ”¶ç›Šå€¼ã€çŸ­åŠè¡°æœŸäº‹ä»¶ï¼šå¦‚æ¼«æ— ç›®çš„åœ°åˆ·æœ‹å‹åœˆ ä»”ç»†ä¸€æƒ³ï¼Œå¹³æ—¶åšå¾—æœ€å¤šçš„ï¼Œä¾¿æ˜¯ã€Œé«˜æ”¶ç›Šå€¼ã€çŸ­åŠè¡°æœŸäº‹ä»¶ã€ï¼Œå…¶æ¬¡æ˜¯ã€Œä½æ”¶ç›Šå€¼ã€çŸ­åŠè¡°æœŸäº‹ä»¶ã€ï¼Œè€Œå¦ä¸¤ç±»é•¿åŠè¡°æœŸäº‹ä»¶å´åšå¾—å¾ˆå°‘ã€‚ä½œè€…å»ºè®®å°½é‡å°‘åšã€ŒçŸ­åŠè¡°æœŸã€çš„äº‹æƒ…ï¼ŒåŸå› æ˜¯çŸ­åŠè¡°æœŸäº‹ä»¶å¤§å¤šæ— å…³ç´§è¦ï¼Œè¿›è¡Œè¿‡ç¨‹ä¸­çºµç„¶çˆ½å¿«ï¼Œä½†å®Œæˆä¹‹åçœ¨çœ¼å°±å¿˜äº†ï¼›åè§‚é•¿åŠè¡°æœŸäº‹ä»¶ï¼Œæ¯”å¦‚é˜…è¯»ç»å…¸ï¼Œæ•ˆç›Šå¯ä»¥ç´¯è®¡å’Œå åŠ ï¼Œå³ä½¿æ”¶ç›Šä½ï¼Œé•¿æ­¤ä»¥å¾€ä¹Ÿèƒ½æ…¢æ…¢ç§¯ç´¯ï¼Œæœ‰åŠ©äºæˆé•¿ã€‚ åŠè¡°æœŸè¿™ä¸ªç†å¿µæ¶‰åŠåŒ–å­¦ï¼Œåœ¨è¿™é‡Œç”¨æ¥åˆ¤æ–­äº‹æƒ…ï¼Œè®©äººè€³ç›®ä¸€æ–°ã€‚ä»ä¸€ä¸ªå…¨æ–°çš„è§’åº¦ï¼Œçœ‹é—®é¢˜é©¬ä¸Šä¸ä¸€æ ·äº†ï¼Œä»¿ä½›ä»åŸæ¥äºŒç»´çš„è§’åº¦æ‹“å®½åˆ°ä¸‰ç»´ï¼Œä¸ªä¸­åŒºåˆ«é©¬ä¸Šçœ‹çš„æ¸…æ¥šã€‚äººç”Ÿçš„ç›®çš„å¦‚æœæ˜¯ä¸æ–­ç²¾è¿›ï¼Œé‚£å¤šåšã€Œé•¿åŠè¡°æœŸã€çš„äº‹æƒ…ï¼Œæ‰æ˜¯å¸®åŠ©è‡ªå·±æé«˜çš„ä¸äºŒä¹‹é“ã€‚ æœ‰å¥è¯å«ï¼šã€Œæ—¥æ‹±ä¸€å’æ— æœ‰å°½,åŠŸä¸å”æç»ˆå…¥æµ· ã€ï¼Œçœ‹ä¸åˆ°çš„äº‹æƒ…å¯èƒ½æ˜¯æœ‰ä»·å€¼çš„äº‹æƒ…ï¼Œçœ‹ä¸åˆ°çš„äº‹æƒ…ä¹Ÿå¯èƒ½æ˜¯æˆ‘ä»¬å°šæœªèƒ½å¤Ÿç†è§£çš„äº‹æƒ…ï¼Œè¿™ä¸ªä¸–ç•ŒçœŸå®çš„æ ·å­æ˜¯ä»€ä¹ˆï¼Ÿå½“æˆ‘ä»¬å¤šè¯»å†å²ï¼Œä¸æ–­æ›´æ–°è‡ªå·±çš„çŸ¥è¯†å’Œç»éªŒçš„æ—¶å€™æ‰æ›´å®¹æ˜“çœ‹æ¸…ä¸–ç•Œæœ¬æ¥çš„æ ·å­ã€‚ ç›´é¢ææƒ§ï¼Œåˆ«è¢«è‡ªå·±å“å€’æœ€è¿‘çœ‹ã€Šåä¸‰é‚€ã€‹ç¬¬ä¸‰å­£ï¼Œè®¸çŸ¥è¿œå¯¹è¯ç‹çŸ³ï¼Œå…¶ä¸­ç‹çŸ³è¯´åˆ°ï¼š å­¤ç‹¬æ„Ÿå‘¢ï¼Œç¬¬ä¸€ç‚¹å®é™…ä¸Šå°±æ˜¯ä½ å¯¹æ­»äº¡çš„ä¸€ä¸ªææƒ§å’Œè§„é¿ã€‚ç¬¬äºŒç‚¹ï¼Œé‚£å°±æ˜¯åŸæ¥æ˜¯å¾ˆå¤šäººå¯¹ä½ éƒ½ä¸äº†è§£ã€‚ä½†æ›´å¤šçš„æ¥è®²ï¼Œæ˜¯ä½ å¯¹è¿™ä¸ªç¤¾ä¼šçš„ä¸äº†è§£ã€‚è€Œè¿™ç§ä¸äº†è§£ï¼Œé€ æˆä¸€ç§å­¤ç‹¬æ„Ÿã€‚å¦‚æœä½ æ„¿æ„å»æ‹¥æŠ±è¿™ä¸ªä¸–ç•Œï¼Œè¿™ä¸ªä¸–ç•Œæ˜¯æ¥å—ä½ çš„ã€‚å¸•æ–¯å¡è¯´ï¼šå‡è®¾ä½ ç›¸ä¿¡ä¸Šå¸å­˜åœ¨,å¹¶æŒ‰ç…§åŸºç£æ•™çš„æ–¹å¼ç”Ÿæ´»,é‚£ä¹ˆ,å¦‚æœä¸Šå¸å­˜åœ¨,ä½ å°†å¾—åˆ°æ— å°½çš„ç¦ç¥‰ï¼›å¦‚æœä¸Šå¸ä¸å­˜åœ¨,å…¶å®ä½ ä¹Ÿå¤±å»ä¸äº†ä»€ä¹ˆã€‚ä½†æ˜¯å‡è®¾ä½ ä¸ç›¸ä¿¡ä¸Šå¸å­˜åœ¨,ä¸”ä¸æŒ‰åŸºç£æ•™çš„æ–¹å¼ç”Ÿæ´»,å¦‚æœä¸Šå¸ç¡®å®ä¸å­˜åœ¨,ä½ ä¹Ÿä¸ä¼šå¤±å»ä»€ä¹ˆï¼›ä½†å¦‚æœä¸Šå¸ç¡®å®å­˜åœ¨,ä½ å°†ä¼šå—åˆ°æ— å°½çš„æƒ©ç½šã€‚æ‰€ä»¥ä½ ä¼šå‘ç°çœŸæ­£çš„è¾ƒåŠ²ï¼Œä¸æ˜¯åˆ«äººï¼Œä¸æ˜¯å¤–é¢ï¼Œå°±æ˜¯ä½ è‡ªå·±ã€‚ ä¹Ÿå°±æ˜¯è¯´ç”Ÿæ´»ä¸­å¾ˆå¤šé—®é¢˜ã€å›°éš¾ã€æŒ‘æˆ˜å¤§å¤šæ•°éƒ½æ˜¯å› ä¸ºè‡ªå·±è¢«è‡ªå·±å“å€’äº†ï¼Œæˆ‘è¯´çš„æ˜¯å¤§å¤šæ•°ï¼Œæ¯”å¦‚ä½ è¦è€ƒé›…æ€æˆ–è€…CFAï¼ˆç¾å›½ç‰¹è®¸é‡‘èåˆ†æå¸ˆï¼‰ï¼Œç½‘ä¸Šä¸€æœï¼Œä¸€å¬è¯´å¥½ä¸ç®€å•ï¼Œå¥½éš¾ï¼Œäºæ˜¯åé¢å°±æ˜¯è‡ªè¯é¢„è¨€ï¼ˆself-fulfilling prophecyï¼‰çš„è¿‡ç¨‹ï¼Œä½ è¿˜æ²¡å»åšï¼Œä½ å°±å·²ç»å¿«è¦å¤±è´¥äº†ã€‚æ‰€ä»¥ä¸è¦è¢«è‡ªå·±æ‰€å“å€’ï¼Œç›¸ä¿¡è‡ªå·±ï¼å½“ç„¶ä½ å¯ä»¥é€‰æ‹©ä¸ç›¸ä¿¡ï¼Œè¦çŸ¥é“ç°åœ¨æåº¦ä¹è§‚çš„äººéƒ½å¾ˆå°‘ï¼Œæ›´åˆ«è¯´è‰¯æ€§ä¹è§‚çš„äººäº†ã€‚ å°†è‡ªå·±äº§å“åŒ–ï¼Œå…¬å¸åŒ–Navalï¼ŒAngelListçš„CEOï¼ŒåŒæ—¶ä¹Ÿæ˜¯Twitterçš„å¤©ä½¿æŠ•èµ„äººåœ¨æ–‡ç« How to Get Rich (without getting lucky) by Naval Ravikant å¦‚ä½•ï¼ˆä¸é è¿æ°”ï¼‰å˜å¾—å¯Œæœ‰ ä¸­å†™é“ï¼šProductize Yourself. å°†è‡ªå·±äº§å“åŒ–ã€‚ å½“ä½ å°†è‡ªå·±å½“åšä¸€ä¸ªäº§å“ï¼Œçœ‹ä½œä¸€å®¶å…¬å¸ï¼Œä½ è‡ªå·±çš„è§†è§’å’Œè§†é‡å°±ä¸ä¸€æ ·äº†ï¼Œä½ ä¼šè€ƒè™‘å¦‚ä½•å»ºç«‹è‡ªå·±äººç”Ÿçš„ â€œå¸‚åœºéƒ¨â€â€”â€”æé«˜æƒ…å•†ï¼Œå­¦ä¼šæ²Ÿé€šã€â€œè®¾è®¡éƒ¨â€â€”â€”è‰¯å¥½çš„ä¸ªäººå½¢è±¡ã€â€œæŠ€æœ¯éƒ¨â€â€”â€”ä¸ªäººæŠ€èƒ½çš„ç§¯ç´¯è®­ç»ƒã€‚å…·ä½“åˆ°ä¸€ä¸ªäº§å“å°±æ›´ä¸å¿…è¯´äº†ï¼Œä½ å’Œäººäº¤å¾€æ˜¯ä¸æ˜¯è¦è€ƒè™‘ â€œç”¨æˆ·ä½“éªŒâ€ ï¼Ÿ æ˜¯ä¸æ˜¯è¦è€ƒè™‘ â€œæ²Ÿé€šæˆæœ¬â€ ï¼Ÿ å­¦ä¼šå¦‚ä½•è¥é”€è‡ªå·±ï¼Œåœ¨æœ‰èƒ½åŠ›çš„å‰æä¸‹å­¦ä¼šæ›å…‰è‡ªå·±ï¼Œè®©åˆ«äººçœ‹åˆ°è‡ªå·±çš„èƒ½åŠ›ï¼Œåœ¨èŒåœºä¸Šä¹Ÿä¼šæ˜¾ç°å‡ºè‡ªå·±çš„ä»·å€¼ã€‚ä½ æ˜¯ä½ è‡ªå·±å…¬å¸çš„è€æ¿ï¼Œä½ æ˜¯ CEO ä¹Ÿæ˜¯ CFOï¼ŒåŒæ—¶æ˜¯ CTO ä¹Ÿæ˜¯ COOã€‚è¯·å­¦ä¼šå¦‚ä½•ç»è¥è‡ªå·±ã€‚ äººè¦æœ‰è‡ªå·±çš„ç¬ƒä¿¡ä½ è¦æœ‰è‡ªå·±çš„ç¬ƒè¡Œï¼ˆI do believeï¼‰çš„ä¸œè¥¿ï¼Œäººè¦æœ‰ä¿¡å¿µå’Œä¿¡ä»°ï¼Œæ¯”å¦‚ä½ ç¬ƒè¡ŒAppleã€Amazonã€Alibabaè¿™äº›å…¬å¸çš„ä»·å€¼ä¸€å®šä¼šä¸æ–­åŠ å¤§ï¼Œé•¿æœŸæŒæœ‰è¿™äº›å…¬å¸çš„è‚¡ç¥¨ï¼›æ¯”å¦‚ä½ ç¬ƒè¡Œè‡ªå·±æ—¥ç§¯æœˆæ¥å­¦ä¹ ä¸€é—¨å¤–è¯­æ€»æœ‰ä¸€å¤©å¯ä»¥å’Œè€å¤–è‡ªç„¶äº¤æµï¼Œå‡ºå›½éšä¾¿ç©ï¼›æ¯”å¦‚ä½ ç¬ƒè¡Œè‡ªå·±çš„æ—¶é—´æ˜¯å€¼é’±çš„ï¼Œåº”å½“å°†æ—¶é—´èŠ±åœ¨èƒ½å¤ŸæŒç»­äº§ç”Ÿä»·å€¼çš„åœ°æ–¹ï¼Œæ¯”å¦‚å­¦ä¹ ä¸€é¡¹æŠ€èƒ½ï¼Œæ¯”å¦‚å’Œçˆ±äººä¸€èµ·åº¦è¿‡ä¸€æ®µç¾å¥½çš„æ—¶å…‰ã€‚è®¸çŸ¥è¿œè¯´ï¼šâ€œ æ¯ä¸ªäººéƒ½æ˜¯å¸¦ç€æˆè§æ¥çœ‹å¾…ä¸–ç•Œçš„ï¼Œå¦‚æœä½ ä¸å¸¦ç€æˆè§ï¼Œé‚£ä¹ˆä½ å¯¹è¿™ä¸ªä¸–ç•Œæ ¹æœ¬å°±æ²¡æœ‰çœ‹å¾…æ–¹å¼ã€‚â€œ é‚£ä½ å‘¢ï¼Ÿæœ‰è‡ªå·±çš„æˆè§å—ï¼Ÿæˆ–è€…æœ‰è‡ªå·±æ‰€ç¬ƒè¡Œçš„ä¸œè¥¿å—ï¼Ÿä½ å½“ç„¶è¿˜å¯ä»¥ç¬ƒè¡Œä¸Šå¸çš„å­˜åœ¨ï¼Œè‡³å°‘ä¸€è¾ˆå­ä½ è¦æœ‰ç¬ƒè¡Œçš„ä¸œè¥¿æ‰è¡Œï¼Œè¿™æ˜¯ä½ çš„ä»·å€¼è§‚ï¼Œæ˜¯ä½ ä¹‹æ‰€ä»¥ä¸ºä½ çš„ä¸œè¥¿ã€‚ å­¦ä¼šæ€»ç»“æ–¹æ³•è®ºå’ŒåŸåˆ™æˆåŠŸçš„äººæ€»æœ‰è‡ªå·±çš„æ–¹æ³•è®ºå’ŒåŸåˆ™ï¼Œæ¯”å¦‚å»å¹´å¼€å§‹åœ¨å›½å†…ä¸Šå¸‚çš„ [ç¾] ç‘Â·è¾¾åˆ©æ¬§ å†™çš„ã€ŠåŸåˆ™ã€‹ã€‚ ä¸‹é¢æˆ‘å°†ä¹¦ä¸­ä¸€äº›é‡è¦åŸåˆ™åˆ—å‡ºæ¥ï¼š äººç”ŸåŸåˆ™ç¬¬ä¸€éƒ¨åˆ†ï¼šæ‹¥æŠ±ç°å®ï¼Œå–„å¾…ç°å®ã€‚ä¾‹å¦‚ä¸è¦éšè—è‡ªå·±çš„è§‚ç‚¹ã€å–„äºæ¥å—ä»–äººçš„æ„è§ã€‚å…¶ä¸­æœ€é‡è¦çš„ä¸€æ¡åŸåˆ™æ˜¯æˆ‘ä»¬å¯¹å¾…é”™è¯¯çš„æ€åº¦ï¼šç—›è‹¦+åæ€=è¿›æ­¥ã€‚ äººç”ŸåŸåˆ™ç¬¬äºŒéƒ¨åˆ†ï¼šé€šè¿‡äº”æ­¥è¾¾åˆ°ä½ æƒ³è¦çš„ç›®æ ‡ï¼šè®¾å®šç›®æ ‡ï¼Œè¯†åˆ«é—®é¢˜ï¼Œè¯Šæ–­é—®é¢˜ï¼Œè®¾è®¡è§£å†³æ–¹æ³•ï¼Œæ‰§è¡Œè§£å†³æ–¹æ¡ˆã€‚è¿™å‡ æ­¥å¬èµ·æ¥å¾ˆç®€å•ï¼Œä½†å¤§å¤šæ•°äººä¸ä¸€å®šåšå¾—åˆ°ï¼Œä¸»è¦æ˜¯æœ‰ä¸¤ä¸ªåŸå› ï¼šç¬¬ä¸€ï¼Œäººç±»çš„å¤©æ€§æ˜¯è‡ªè´Ÿçš„ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›è‡ªå·±çš„èƒ½åŠ›å¾—åˆ°ä»–äººçš„è®¤å¯ã€‚ç¬¬äºŒï¼Œæ¯ä¸ªäººéƒ½æœ‰ç›²ç‚¹ã€‚ äººç”ŸåŸåˆ™ç¬¬ä¸‰éƒ¨åˆ†ï¼šæåº¦å¼€æ”¾ã€‚æ­£æ˜¯å› ä¸ºæˆ‘ä»¬æœ‰å„ç§å„æ ·çš„å±€é™æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¼€æ”¾åœ°å¬å–ä»–äººçš„æ„è§ï¼Œå°¤å…¶æ˜¯åå¯¹çš„æ„è§ï¼Œè€Œä¸”æœ€å¥½æ˜¯ä½ èº«è¾¹çš„é«˜æ‰‹æå‡ºçš„åå¯¹æ„è§ã€‚ äººç”ŸåŸåˆ™ç¬¬å››éƒ¨åˆ†ï¼šè¦æ˜ç™½æ¯ä¸ªäººéƒ½æ˜¯ä¸åŒçš„ã€‚æ¯”å¦‚ï¼Œæœ‰çš„å‘˜å·¥ä¿¡èµ–åº¦é«˜ï¼Œæœ‰çš„å‘˜å·¥åˆ›æ–°èƒ½åŠ›å¼ºï¼Œæœ‰çš„å‘˜å·¥æ‰§è¡Œèƒ½åŠ›å¼ºï¼Œæ¯ä¸ªå‘˜å·¥éƒ½è¢«æ‰“åˆ†ä¹‹åï¼ŒåŒäº‹å’Œé¢†å¯¼å°±çŸ¥é“è¿™ä¸ªå‘˜å·¥çš„ä¼˜ç‚¹å’Œç¼ºç‚¹åœ¨å“ªé‡Œï¼Œå³ä¾¿åŒäº‹ä¹‹é—´ç¬¬ä¸€æ¬¡å·¥ä½œï¼Œå¤§å®¶ä¹Ÿèƒ½åšå‡ºæ¯”è¾ƒå‡†ç¡®çš„å·¥ä½œé¢„æœŸã€‚ äººç”ŸåŸåˆ™ç¬¬äº”éƒ¨åˆ†ï¼šè¿›è¡Œæœ‰æ•ˆå†³ç­–ã€‚æœ‰ä¸€ä¸ªå†³ç­–å·¥å…·å«åšâ€œå¯ä¿¡åº¦åŠ æƒå†³ç­–æ³•â€ï¼Œå¥‰è¡Œâ€œä¼˜ç§€æƒ³æ³•è‡³ä¸Šâ€ï¼Œè€Œä¸æ˜¯â€œæƒåŠ›è‡³ä¸Šâ€ï¼Œè®©æœ€ä¼˜ç§€çš„æƒ³æ³•è„±é¢–è€Œå‡ºï¼Œç¬¬ä¸€æ­¥æ˜¯æ‰€æœ‰äººæŠŠæƒ³æ³•æ‹¿å‡ºæ¥ç»™å¤§å®¶çœ‹ï¼Œç¬¬äºŒæ­¥æ˜¯å¤§å®¶äº’ç›¸æ‰¹åˆ¤æå‡ºä¸åŒæ„è§ï¼Œå……åˆ†è€ƒè™‘åˆ°æ¯ä¸ªäººä¸åŒçš„èƒŒæ™¯ï¼Œç„¶åå¯¹ä¸åŒä¸“é•¿çš„äººæå‡ºçš„æ„è§èµ‹äºˆä¸åŒæƒé‡ï¼Œæœ€ååŠ æƒè®¡ç®—è¿›è¡Œå†³ç­–ã€‚ æ³¨æ„åŠ›å’Œæ—¶é—´æœ€å€¼é’±20å¤šå²å¹´è½»çš„ä½ å¯èƒ½å£è¢‹é‡Œæ˜¯æ‰æ‰çš„ï¼Œä½†æ˜¯å¤§è„‘ä¸å¯ä»¥ç©·ã€‚å¯¹ç°åœ¨çš„ä½ æ¥è¯´é’±ä¸æ˜¯æœ€æœ€é‡è¦çš„ï¼Œæœ‰ä¸¤ä¸ªæ›´åŠ é‡è¦çš„æ˜¯æ³¨æ„åŠ›å’Œæ—¶é—´ï¼Œè¶Šå®¹æ˜“è¢«äººå¿½è§†çš„ä¸œè¥¿å¯èƒ½è¶Šæœ‰ä»·å€¼ã€‚å¹´è½»çš„ä½ æµªè´¹é’±æ˜¯å°äº‹ï¼Œä½†æ˜¯å¦‚æœä½ è‚†æ„æµªè´¹æ—¶é—´å¹¶ä¸”æ¶ˆç£¨è‡ªå·±çš„æ³¨æ„åŠ›ï¼Œåæœè¯·å……åˆ†å‘æŒ¥è‡ªå·±çš„æƒ³è±¡ã€‚å¦‚æœä½ è¿˜åœ¨è¢«æŸæ¡ã€æŸéŸ³ã€æŸå®ã€æŸåšå ç”¨å¤ªå¤šçš„æ—¶é—´ï¼Œæ˜¯å¦æ„¿æ„åœä¸‹æ¥æ€è€ƒ??ä¸€ä¸‹å‘¢ï¼Ÿå¦‚æœä½ å…»æˆäº†æ¶ˆè€—æ³¨æ„åŠ›å’Œæ—¶é—´çš„ä¹ æƒ¯ï¼Œåæœè‡ªè¡Œè„‘è¡¥ï¼Œä½ å¿…ç„¶ä¼šè¶Šæ¥è¶Šç©·ã€‚è¿™ä¹Ÿå°±æ˜¯æˆ‘è‡ªå·±å¸¸ç»™å‘¨å›´äººè®²çš„ä¸€å¥è¯ï¼šDistraction and impatience will eat or kill you. ï¼ˆæ³¨æ„åŠ›ä¸é›†ä¸­å¹¶ä¸”ç¼ºä¹è€å¿ƒä¼šåå™¬ä½ è‡ªå·±ã€‚ï¼‰ åäººæ€§æ“ä½œï¼Œå¿Œè‡ªæ¬ºæ¬ºäººäººæ€§æ˜¯æœ‰å¾ˆå¤šå¼±ç‚¹çš„ï¼ˆä½ æ˜¯ä¸æ˜¯çŒœåˆ°æˆ‘ä¼šæ¨èä½ ã€Šäººæ€§çš„å¼±ç‚¹ã€‹ï¼‰ï¼Œæ¯”å¦‚äººå¾ˆå¤šæƒ…å†µä¸‹ä¼šè‡ªå·±å¯¹è‡ªå·±è¯´è°ï¼Œæ¯”å¦‚å¯¹è‡ªå·±è¯´ï¼ŒæŸæŸäº‹æƒ…æˆ‘å›å¤´æœ‰æ—¶é—´å†åšï¼Œå…¶å®å›å¤´å°±å¿˜äº†ï¼Œå¾ˆå¤šäººå®¹æ˜“é«˜ä¼°è‡ªå·±çš„æ•ˆç‡ä½†ä¹ŸåŒæ—¶å®¹æ˜“ä½ä¼°è‡ªå·±çš„æ½œèƒ½ã€‚ä»€ä¹ˆæ˜¯åäººæ€§æ“ä½œï¼Ÿè¿™æ˜¯æˆ‘è‡ªå·±æœæ’°çš„ä¸€ä¸ªè¯ï¼Œæ˜¯è®²ï¼šäººæ€§æœ¬æ¥å°±æ˜¯æ‡’æƒ°çš„ï¼Œæƒ³æƒ³ä¸ƒå®—ç½ªï¼šæš´é£Ÿã€è´ªå©ªã€æ‡’æƒ°ã€æ„¤æ€’ã€éª„å‚²ã€æ·«æ¬²ã€å«‰å¦’ã€‚åœ¨æŠ•èµ„é¢†åŸŸï¼Œå·´è²ç‰¹æœ‰å¥è‘—åçš„è¯ï¼Œå«åšï¼šâ€œåˆ«äººè´ªå©ªæ—¶ææƒ§,åˆ«äººææƒ§æ—¶è´ªå©ªâ€ï¼Œé‚£ä¹ˆå¤šäººè¿½æ¶¨æ€è·Œï¼Œwhyï¼Ÿå› ä¸ºå—äººæ€§æœ¬èƒ½æ‰€æ”¯é…ï¼Œè€Œä¸æ˜¯å¤§è„‘æ§åˆ¶è‡ªå·±çš„å†³å®šã€‚è¿™å°±æ˜¯è¯´æŠ•èµ„ç»ˆç©¶æ˜¯ä¸€åœºåšå¼ˆï¼Œéœ€è¦ä½ æ‡‚äººæ€§ï¼Œæ‡‚å¿ƒç†ã€‚å¹¿è€Œè°ˆä¹‹ï¼Œå¦‚ä½•åäººæ€§æ“ä½œï¼Ÿå¾ˆç®€å•ï¼Œå¤§å¤šæ•°äººæ— æ³•è‡ªå¾‹ä½ å°±è‡ªå¾‹ï¼Œå¤§å¤šæ•°äººæ— æ³•åšæŒæ¯å¤©é”»ç‚¼ä½ å°±é”»ç‚¼ï¼Œåªè¦å°†æ—¶é—´è¿™ä¸€å˜é‡åŠ å…¥å…¶ä¸­ï¼Œå‡ä»¥æ—¶æ—¥ï¼Œç›¸ä¿¡ä½ ä¸€å®šä¼šæœ‰æ‰€æ”¶è·ï¼ åœˆå­ï¼Œå’Œè°åœ¨ä¸€èµ·å‘¼å¸è‘—åçš„å•†ä¸šå“²å­¦å®¶å‰å§†ç½—æ©è¯´ï¼Œâ€œä¸ä½ ç›¸å¤„æ—¶é—´æœ€é•¿çš„5ä¸ªäººä»£è¡¨è€…ä½ çš„æ°´å¹³ã€‚â€ï¼ˆYou are the average of the five people you spend the most time with.ï¼‰ ä¸­å›½ä¹Ÿæœ‰å¥å¤è¯ï¼Œâ€œè¿‘æœ±è€…èµ¤â€ã€‚ ä½ èº«è¾¹çš„è¿™5ä¸ªäººæ˜¯è°ï¼Ÿè°ç»™ä½ æœ€å¤šçš„åŠ¨åŠ›å’Œå¯å‘ï¼Ÿå¾ˆå¤šç½‘ç»œä¸Šçš„å•†ä¸šé¸¡æ±¤å°†å…¶ç§°ä¹‹ä¸ºâ€œäº”äººå¹³å‡å€¼ï¼ˆAverage of Fiveï¼‰â€ç†è®ºï¼Œå¼ºè°ƒäººä»¬å¿…é¡»ç»å¸¸å®¡è§†è‡ªå·±çš„äººé™…å…³ç³»ï¼Œä½ ç°é˜¶æ®µèŠ±æœ€å¤šæ—¶é—´ç›¸å¤„çš„5ä¸ªäººå¹³å‡ä¸‹æ¥å°±æ˜¯å½“ä¸‹çš„ä½ ã€‚è¿™äº”ä¸ªäººå¯èƒ½æ˜¯ä½ çš„ä¼´ä¾£ã€æœ‹å‹ã€åŒäº‹æˆ–ä½ ç”Ÿæ´»ä¸­çš„ç²¾ç¥å¯¼å¸ˆï¼Œä»–ä»¬çš„æ€æƒ³ã€ä»·å€¼è§‚ä¼šå¯¹ä½ çš„ä¸ªæ€§å’Œè§‚å¿µäº§ç”Ÿé‡å¤§å½±å“ï¼Œå¼€æ‹“ä½ çš„çœ¼ç•Œï¼Œæ¿€åŠ±ä½ è¿½é€æ¢¦æƒ³ä¸­çš„è‡ªå·±ã€‚ä»–ä»¬å…¶å®åœ¨å½±å“ä½ çš„å†³å®šåœ¨ç”Ÿæ´»ä¸­åšä»»ä½•æ¯”è¾ƒæœ‰æŒ‘æˆ˜çš„å†³å®šæ—¶ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šå®¹æ˜“é€€ç¼©æˆ–è¿·å¤±ï¼Œå¦‚æœä½ æœ€è¿‘æœ‰ä¸€ä¸ªæ—…è¡Œçš„è®¡åˆ’ï¼Œä½†æ˜¯è¿Ÿè¿Ÿå› ä¸ºå„ç§åŸå› æ— æ³•åŠ¨èº«ï¼Œå¦‚æœä½ å‘¨å›´çš„æœ‹å‹ä¹Ÿçƒ­çˆ±æ—…æ¸¸ï¼Œé‚£ä¹ˆä»–ä»¬ä¼šå»ºè®®ä½ ç«‹å³åŠ¨èº«ï¼Œå¦‚æœä»–ä»¬ç‰¹åˆ«å®…ï¼Œé‚£ä¹ˆç»™ä½ çš„å»ºè®®ä¹Ÿè®¸å°±æ˜¯éå¸¸æ¶ˆæçš„ã€‚ä½†ä½ å¯ä»¥å…ˆåšçš„ï¼Œå…¶å®åªæ˜¯æ”¹å˜å‘¨é­ç¯å¢ƒã€‚æ”¹å˜ç¯å¢ƒï¼Œè·³å‡ºèˆ’é€‚åœˆï¼è¿™ä¸ªè¿‡ç¨‹ä¸­æœ€å…³é”®çš„ï¼Œä¸æ˜¯ç¯å¢ƒï¼Œä¸æ˜¯ä½ å‘¨å›´è¿™äº›ä¼˜ç§€çš„äººï¼Œè€Œæ˜¯è‡ªå·±èƒ½å¦æŒç»­åœ°å–å¾—è¿›æ­¥ï¼Œè·Ÿä¸Šä¼˜ç§€çš„äººçš„è„šæ­¥ã€‚ä¸ç„¶ï¼Œä¹Ÿå°±ä¸ä¼šæœ‰äººä¸€å¼€å§‹çš„æ—¶å€™ä¼˜ç§€ä¸Šè¿›ï¼Œåˆ°åæ¥å´å˜å¾—å¹³åº¸å •è½ã€‚ æ‰€ä»¥ä½ åœ¨ä»€ä¹ˆæ ·çš„åœˆå­ï¼Œæœ€ç»ˆå†³å®šäº†ä½ èµ°åˆ°å“ªé‡Œã€‚å½“ç„¶ä½ å¯ä»¥åŒæ—¶åœ¨å¤šä¸ªä¼˜è´¨åœˆä¸­ã€‚ åˆç¾¤ä½†æ˜¯ä¸è¦åˆç¾Šç¾¤ä¸Šé¢ä¸€æ¡æåˆ°åœˆå­çš„é‡è¦æ€§ï¼Œå†è¡¥å……ä¸€ç‚¹ï¼šäººç±»æ˜¯ç¾¤å±…åŠ¨ç‰©ï¼Œåˆ°å¦‚ä»Šæˆ‘ä»¬ä¹Ÿè„±ç¦»ä¸äº†ç¤¾äº¤å±æ€§ã€‚å½“æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„å°±æ˜¯ç°åœ¨äººä»¬æ™®éå¼ºè°ƒäººè¦åˆç¾¤ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘å‘å‘Šè¯‰å¤§å®¶åˆç¾¤å¯ä»¥ä½†æ˜¯ä¸è¦åˆç¾Šç¾¤ï¼Œç¾Šç¾¤ä»€ä¹ˆç‰¹å¾ï¼Ÿä¸€çªèœ‚åœ°è¡ŒåŠ¨ï¼Œè¦è·‘éƒ½è·‘ã€‚ï¼ˆå¤§å®¶çœ‹çœ‹ç½‘ç»œä¸Šçš„å¾ˆå¤šè¯„è®ºå¾ˆå¤šè¡Œä¸ºå°±çŸ¥é“äº†ï¼Œæ— è„‘è·Ÿé£ï¼‰è¿™é‡Œå…¶å®æåˆ°çš„æ˜¯è®­ç»ƒè‡ªå·±ç‹¬ç«‹æ€è€ƒçš„èƒ½åŠ›ï¼Œå½±å“åŠ›çš„æœ¬è´¨æ˜¯åˆ¤æ–­åŠ›å’Œæ€è€ƒåŠ›ï¼Œæƒ³æƒ³å¤§å’–ä¹‹æ‰€ä»¥ä¸ºå¤§å’–ï¼Œæ˜¯ä¸æ˜¯å› ä¸ºä»–ä»¬æœ‰è‡ªå·±ç‹¬åˆ°çš„è§è§£ï¼Ÿå°¤å…¶æ˜¯æŠ•èµ„ï¼Œæ›´æ˜¯è¦æœ‰è‡ªå·±ç‹¬ç«‹æ€è€ƒçš„èƒ½åŠ›ï¼Œè€Œä¸æ˜¯å¬æ¶ˆæ¯ï¼Œå°±åƒç¾Šä¸€æ ·ã€‚","categories":[{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://yuanzi222.com/categories/è¯»ä¹¦ç¬”è®°/"}],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yuanzi222.com/tags/éšç¬”/"}],"keywords":[{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://yuanzi222.com/categories/è¯»ä¹¦ç¬”è®°/"}]},{"title":"SpringCloudæ³¨è§£","slug":"SpringCloudæ³¨è§£","date":"2017-07-25T03:26:12.000Z","updated":"2020-01-09T06:55:50.904Z","comments":true,"path":"SpringCloudæ³¨è§£.html","link":"","permalink":"https://yuanzi222.com/SpringCloudæ³¨è§£.html","excerpt":"","text":"1. @SpringBootApplication:æ ¸å¿ƒæ³¨è§£@Configuration,@EnableAutoConfiguration,@ComponentScanã€‚ç”±äºè¿™äº›æ³¨è§£ä¸€èˆ¬éƒ½æ˜¯ä¸€èµ·ä½¿ç”¨ï¼Œspring bootæä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„æ³¨è§£@SpringBootApplicationã€‚ @SpringBootApplication = (é»˜è®¤å±æ€§)@Configuration + @EnableAutoConfiguration + @ComponentScanã€‚ åˆ†å¼€è§£é‡Š@Configuration,@EnableAutoConfiguration,@ComponentScanã€‚ @Configurationï¼šæåˆ°@Configurationå°±è¦æåˆ°ä»–çš„æ­æ¡£@Beanã€‚ä½¿ç”¨è¿™ä¸¤ä¸ªæ³¨è§£å°±å¯ä»¥åˆ›å»ºä¸€ä¸ªç®€å•çš„springé…ç½®ç±»ï¼Œå¯ä»¥ç”¨æ¥æ›¿ä»£ç›¸åº”çš„xmlé…ç½®æ–‡ä»¶ã€‚ &lt;beans> &lt;bean id = \"car\" class=\"com.test.Car\"> &lt;property name=\"wheel\" ref = \"wheel\">&lt;/property> &lt;/bean> &lt;bean id = \"wheel\" class=\"com.test.Wheel\">&lt;/bean> &lt;/beans> ç›¸å½“äºï¼š @Configuration public class Conf { @Bean public Car car() { Car car = new Car(); car.setWheel(wheel()); return car; } @Bean public Wheel wheel() { return new Wheel(); } } @Configurationçš„æ³¨è§£ç±»æ ‡è¯†è¿™ä¸ªç±»å¯ä»¥ä½¿ç”¨Spring IoCå®¹å™¨ä½œä¸ºbeanå®šä¹‰çš„æ¥æºã€‚@Beanæ³¨è§£å‘Šè¯‰Springï¼Œä¸€ä¸ªå¸¦æœ‰@Beançš„æ³¨è§£æ–¹æ³•å°†è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡åº”è¯¥è¢«æ³¨å†Œä¸ºåœ¨Springåº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡ä¸­çš„beanã€‚ @EnableAutoConfigurationï¼šèƒ½å¤Ÿè‡ªåŠ¨é…ç½®springçš„ä¸Šä¸‹æ–‡ï¼Œè¯•å›¾çŒœæµ‹å’Œé…ç½®ä½ æƒ³è¦çš„beanç±»ï¼Œé€šå¸¸ä¼šè‡ªåŠ¨æ ¹æ®ä½ çš„ç±»è·¯å¾„å’Œä½ çš„beanå®šä¹‰è‡ªåŠ¨é…ç½®ã€‚ @ComponentScanï¼šä¼šè‡ªåŠ¨æ‰«ææŒ‡å®šåŒ…ä¸‹çš„å…¨éƒ¨æ ‡æœ‰@Componentçš„ç±»ï¼Œå¹¶æ³¨å†Œæˆbeanï¼Œå½“ç„¶åŒ…æ‹¬@Componentä¸‹çš„å­æ³¨è§£@Service,@Repository,@Controllerã€‚ 2. @EnableDiscoveryClient:æ³¨å†Œä¸­å¿ƒæ³¨è§£ @EnableEurekaClient: è¯¥æ³¨è§£è¡¨æ˜åº”ç”¨æ—¢ä½œä¸ºeurekaå®ä¾‹åˆä¸ºeureka client å¯ä»¥å‘ç°æ³¨å†Œçš„æœåŠ¡ @EnableEurekaServer: è¯¥æ³¨è§£è¡¨æ˜åº”ç”¨ä¸ºeurekaæœåŠ¡ï¼Œæœ‰å¯ä»¥è”åˆå¤šä¸ªæœåŠ¡ä½œä¸ºé›†ç¾¤ï¼Œå¯¹å¤–æä¾›æœåŠ¡æ³¨å†Œä»¥åŠå‘ç°åŠŸèƒ½ SpringCLoudä¸­çš„â€œDiscovery Serviceâ€æœ‰å¤šç§å®ç°ï¼Œæ¯”å¦‚ï¼šeureka, consul, zookeeperã€‚ @EnableDiscoveryClientæ³¨è§£æ˜¯åŸºäºspring-cloud-commonsä¾èµ–ï¼Œå¹¶ä¸”åœ¨classpathä¸­å®ç°ï¼› @EnableEurekaClientæ³¨è§£æ˜¯åŸºäºspring-cloud-netflixä¾èµ–ï¼Œåªèƒ½ä¸ºeurekaä½œç”¨ï¼› å¦‚æœä½ çš„classpathä¸­æ·»åŠ äº†eurekaï¼Œåˆ™å®ƒä»¬çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚ é€šè¿‡@EnableEurekaClientè¿™ä¸ªç®€å•çš„æ³¨è§£ï¼Œåœ¨spring cloudåº”ç”¨å¯åŠ¨çš„æ—¶å€™ï¼Œå°±å¯ä»¥æŠŠEurekaDiscoveryClientæ³¨å…¥ï¼Œç»§è€Œä½¿ç”¨NetFlixæä¾›çš„Eureka clientã€‚ Eurekaæ˜¯Netflixå¼€æºçš„ä¸€æ¬¾æä¾›æœåŠ¡æ³¨å†Œå’Œå‘ç°çš„äº§å“ã€‚ Why Eureka?é‚£ä¹ˆä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä½¿ç”¨äº†Eurekaå‘¢ï¼Ÿæˆ‘å¤§è‡´æ€»ç»“äº†ä¸€ä¸‹ï¼Œæœ‰ä»¥ä¸‹å‡ æ–¹é¢çš„åŸå› ï¼š å®ƒæä¾›äº†å®Œæ•´çš„Service Registryå’ŒService Discoveryå®ç° é¦–å…ˆæ˜¯æä¾›äº†å®Œæ•´çš„å®ç°ï¼Œå¹¶ä¸”ä¹Ÿç»å—ä½äº†Netflixè‡ªå·±çš„ç”Ÿäº§ç¯å¢ƒè€ƒéªŒï¼Œç›¸å¯¹ä½¿ç”¨èµ·æ¥ä¼šæ¯”è¾ƒçœå¿ƒã€‚ å’ŒSpring Cloudæ— ç¼é›†æˆ æˆ‘ä»¬çš„é¡¹ç›®æœ¬èº«å°±ä½¿ç”¨äº†Spring Cloudå’ŒSpring Bootï¼ŒåŒæ—¶Spring Cloudè¿˜æœ‰ä¸€å¥—éå¸¸å®Œå–„çš„å¼€æºä»£ç æ¥æ•´åˆEurekaï¼Œæ‰€ä»¥ä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚ å¦å¤–ï¼ŒEurekaè¿˜æ”¯æŒåœ¨æˆ‘ä»¬åº”ç”¨è‡ªèº«çš„å®¹å™¨ä¸­å¯åŠ¨ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬çš„åº”ç”¨å¯åŠ¨å®Œä¹‹åï¼Œæ—¢å……å½“äº†Eurekaçš„è§’è‰²ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœåŠ¡çš„æä¾›è€…ã€‚è¿™æ ·å°±æå¤§åœ°æé«˜äº†æœåŠ¡çš„å¯ç”¨æ€§ã€‚ è¿™ä¸€ç‚¹æ˜¯æˆ‘ä»¬é€‰æ‹©Eurekaè€Œä¸æ˜¯zkã€etcdç­‰çš„ä¸»è¦åŸå› ï¼Œä¸ºäº†æé«˜é…ç½®ä¸­å¿ƒçš„å¯ç”¨æ€§å’Œé™ä½éƒ¨ç½²å¤æ‚åº¦ï¼Œæˆ‘ä»¬éœ€è¦å°½å¯èƒ½åœ°å‡å°‘å¤–éƒ¨ä¾èµ–ã€‚ Open Source æœ€åä¸€ç‚¹æ˜¯å¼€æºï¼Œç”±äºä»£ç æ˜¯å¼€æºçš„ï¼Œæ‰€ä»¥éå¸¸ä¾¿äºæˆ‘ä»¬äº†è§£å®ƒçš„å®ç°åŸç†å’Œæ’æŸ¥é—®é¢˜ã€‚ 3. å…¶ä»–æ³¨è§£ @EnableFeignClients:æœåŠ¡è¿œç¨‹è°ƒç”¨æ³¨è§£ Feignæ˜¯ä¸€ä¸ªå£°æ˜å¼çš„WebServiceå®¢æˆ·ç«¯ã€‚ä½¿ç”¨Feignèƒ½è®©ç¼–å†™WebServiceå®¢æˆ·ç«¯æ›´åŠ ç®€å•ï¼Œå®ƒçš„ä½¿ç”¨æ–¹æ³•æ˜¯å®šä¹‰ä¸€ä¸ªæ¥å£ï¼Œç„¶ååœ¨æ¥å£ä¸Šæ·»åŠ æ³¨è§£ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒJAX-RSæ ‡å‡†çš„æ³¨è§£ã€‚Feignä¹Ÿæ”¯æŒå¯æ’æ‹”å¼çš„ç¼–ç å™¨å’Œè§£ç å™¨ã€‚SpringCloudå¯¹Feignè¿›è¡Œäº†å°è£…ï¼Œä½¿å…¶æ”¯æŒSpringMVCæ ‡å‡†æ³¨è§£å’ŒHttpMessageConvertersã€‚Feignå¯ä»¥ä¸Eurekaå’ŒRibbonç»„åˆä½¿ç”¨ä»¥æ”¯æŒè´Ÿè½½å‡è¡¡ã€‚ @EnableCircuitBreaker:å¼€å¯æ–­è·¯å™¨åŠŸèƒ½æ³¨è§£ @EnableHystrix:è¡¨ç¤ºå¯ç”¨æ–­è·¯å™¨ï¼Œæ–­è·¯å™¨ä¾èµ–äºæœåŠ¡æ³¨å†Œå’Œå‘ç°ã€‚ @SpringCloudApplicationæ³¨è§£ï¼Œä¹‹å‰æ²¡æœ‰æè¿‡ï¼Œé€šè¿‡æºç æˆ‘ä»¬çœ‹åˆ°ï¼Œå®ƒæ•´åˆäº†@SpringBootApplicationã€@EnableDiscoveryClientã€@EnableCircuitBreakerï¼Œä¸»è¦ç›®çš„è¿˜æ˜¯ç®€åŒ–é…ç½®ã€‚è¿™å‡ ä¸ªæ³¨è§£çš„å…·ä½“ä½œç”¨è¿™é‡Œå°±ä¸åšè¯¦ç»†ä»‹ç»äº†ï¼Œä¹‹å‰çš„æ–‡ç« å·²ç»éƒ½ä»‹ç»è¿‡ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}],"tags":[{"name":"SpringCloud","slug":"SpringCloud","permalink":"https://yuanzi222.com/tags/SpringCloud/"}],"keywords":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}]},{"title":"CMDä¸€é”®è·å–æ‰€æœ‰è¿æ¥è¿‡çš„WIFIå¯†ç ","slug":"CMDä¸€é”®è·å–æ‰€æœ‰è¿æ¥è¿‡çš„WIFIå¯†ç ","date":"2017-07-21T03:26:12.000Z","updated":"2020-01-09T08:22:14.366Z","comments":true,"path":"CMDä¸€é”®è·å–æ‰€æœ‰è¿æ¥è¿‡çš„WIFIå¯†ç .html","link":"","permalink":"https://yuanzi222.com/CMDä¸€é”®è·å–æ‰€æœ‰è¿æ¥è¿‡çš„WIFIå¯†ç .html","excerpt":"","text":"ä»¥ç®¡ç†å‘˜æƒé™è¿è¡ŒCMD è¾“å…¥å‘½ä»¤: for /f \"skip=9 tokens=1,2 delims=:\" %i in ('netsh wlan show profiles') do @echo %j | findstr -i -v echo | netsh wlan show profiles %j key=clear ç„¶åCMDå°±åˆ—å‡ºå¾ˆå¤šè¡Œ,ä½ ä»¥å‰è¿æ¥è¿‡çš„wifiä¿¡æ¯ã€åŠ å¯†æ–¹å¼ã€åŒ…æ‹¬å¯†ç ","categories":[{"name":"Windows","slug":"Windows","permalink":"https://yuanzi222.com/categories/Windows/"}],"tags":[{"name":"Wifi","slug":"Wifi","permalink":"https://yuanzi222.com/tags/Wifi/"}],"keywords":[{"name":"Windows","slug":"Windows","permalink":"https://yuanzi222.com/categories/Windows/"}]},{"title":"Win10æŠ¤çœ¼è‰²èƒŒæ™¯è®¾ç½®","slug":"Win10æŠ¤çœ¼è‰²èƒŒæ™¯è®¾ç½®","date":"2017-07-21T03:26:12.000Z","updated":"2020-01-09T06:56:18.363Z","comments":true,"path":"Win10æŠ¤çœ¼è‰²èƒŒæ™¯è®¾ç½®.html","link":"","permalink":"https://yuanzi222.com/Win10æŠ¤çœ¼è‰²èƒŒæ™¯è®¾ç½®.html","excerpt":"","text":"å°†ä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ°æ–‡æœ¬æ–‡æ¡£å¹¶ä¿å­˜ä¸º.batæ–‡ä»¶è¿è¡Œå³å¯: reg add \"HKCU\\Control Panel\\Colors\" /v Window /t REG_SZ /d \"202 234 206\" /f","categories":[{"name":"Windows","slug":"Windows","permalink":"https://yuanzi222.com/categories/Windows/"}],"tags":[{"name":"Win10","slug":"Win10","permalink":"https://yuanzi222.com/tags/Win10/"}],"keywords":[{"name":"Windows","slug":"Windows","permalink":"https://yuanzi222.com/categories/Windows/"}]},{"title":"ç–¯ç‹‚çš„ç¨‹åºå‘˜","slug":"ç–¯ç‹‚çš„ç¨‹åºå‘˜","date":"2017-05-21T03:26:12.000Z","updated":"2020-01-15T08:06:09.237Z","comments":true,"path":"ç–¯ç‹‚çš„ç¨‹åºå‘˜.html","link":"","permalink":"https://yuanzi222.com/ç–¯ç‹‚çš„ç¨‹åºå‘˜.html","excerpt":"","text":"è¦ä¹ˆåšç¬¬ä¸€ä¸ªï¼Œè¦ä¹ˆåšæœ€å¥½çš„ä¸€ä¸ªã€‚ ä»€ä¹ˆæ˜¯é¸¡è‚‹è¯¾ï¼Ÿå°±æ˜¯æ¯ä¸ªäººéƒ½åœ¨è‡ªå·±è¯¾è¡¨çš„è¿™é—¨è¯¾æ—è¾¹æ ‡æ³¨ä¸€ä¸ªâ€œå¯æ—·â€æˆ–è€…â€œé€‰ä¿®â€ã€‚ ä»€ä¹ˆç¨‹åºä¼˜åŒ–å•Šï¼Œéƒ½æŠµä¸ä¸Šæœ‰é’±ï¼Œæœ‰é’±å°±æ˜¯æœ€å¥½çš„ä¼˜åŒ–ã€‚è¯´ä»€ä¹ˆâ€œæ•ˆç‡å°±æ˜¯é‡‘é’±â€ï¼Œå…¶å®â€œé‡‘é’±å°±æ˜¯æ•ˆç‡â€ã€‚ ä¸­å›½äººå’Œå¤–å›½äººå¾ˆå¤§ä¸åŒå°±åœ¨äºå¤–å›½äººæ€»æƒ³çƒ­è¡·äºç¬¬ä¸€æ—¶é—´æŠŠè‡ªå·±çš„æ–°å‘ç°å…¬å¸ƒå‡ºæ¥ä»¥æ­¤å‘å¹¿å¤§äººæ°‘ç¾¤ä¼—å±•ç¤ºè‡ªå·±çš„æ°´å¹³ã€‚ä¸­å›½äººå¾€å¾€å–œæ¬¢æŠŠè‡ªå·±çš„æ–°å‘ç°é˜´åœ¨å¿ƒé‡Œï¼Œè‡ªå·±å·å·å„æ–­äº«ç”¨ã€‚å”¯æè¢«ç¬¬äºŒä¸ªäººçŸ¥é“ã€‚å…¬å¸ƒå‡ºå»ï¼Œç›¸å…³éƒ¨é—¨è‚¯å®šé©¬ä¸Šè§£å†³ã€‚ æ‰€è°“å¥½çš„ç—…æ¯’å°±æ˜¯è¦ï¼šâ€œæŒç»­æ—¶é—´ç‰¹åˆ«é•¿ï¼Œæ³¢åŠèŒƒå›´ç‰¹åˆ«å¹¿ï¼Œç ´ååŠ›ç‰¹åˆ«å¤§ã€‚â€ èƒ½è¿›åˆ«äººç³»ç»Ÿå·ä¸œè¥¿ï¼Œé‚£å°±æ˜¯å°å·ï¼›èƒ½è¿›åˆ«äººç³»ç»Ÿåˆä¸å·ä¸œè¥¿ï¼Œé‚£å°±æ˜¯é»‘å®¢ã€‚ å½“ä½ ä¸æ˜¯é»‘å®¢çš„æ—¶å€™ï¼Œæ€»è¯´ï¼šâ€œæˆ‘æ˜¯ä¸ªé»‘å®¢â€ã€‚å½“ä½ çœŸæ­£æˆä¸ºé»‘å®¢çš„æ—¶å€™ï¼Œä½ å¾€å¾€ä¼šè¯´ï¼šâ€œæˆ‘ä¸æ˜¯é»‘å®¢â€ ç¨‹åºå‘˜æ˜¯å€¼å¾—å°Šæ•¬çš„ï¼Œç¨‹åºå‘˜çš„åŒæ‰‹æ˜¯é­”æœ¯å¸ˆçš„åŒæ‰‹ï¼Œä»–ä»¬æŠŠæ¯ç‡¥æ— å‘³çš„ä»£ç å˜æˆäº†ä¸°å¯Œå¤šå½©çš„è½¯ä»¶â€¦â€¦ ä¸€ä¸ªäººé™é™çš„ååœ¨ç”µè„‘å‰å†™å¤§å–çš„æ„Ÿè§‰ï¼Œé‚£æ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼Ÿé‚£å°±æ˜¯æ­¦æ—é«˜æ‰‹é—­å…³ä¿®ç‚¼çš„æ„Ÿè§‰ã€‚ ä¸€æœ¬å¥½ä¹¦ï¼Œå°±åƒé«˜çº§æ­¦åŠŸç§˜ç±ä¸€æ ·ï¼Œå“ªæ€•åªä»é‡Œé¢é¢†æ‚Ÿä¸ªä¸€æ‹›åŠå¼ï¼ŒåŠŸåŠ›æå‡èµ·æ¥éƒ½æ˜¯æƒŠäººçš„ï¼Œçœ‰è¶…é£å­¦çš„é‚£åŠç”Ÿä¸ç†Ÿçš„ä¹é˜´çœŸç»å°±æ˜¯è¯æ˜ã€‚ æ‰€ä»¥ç»ƒæ­¦åŠŸå’Œå†™ç¨‹åºä¸€æ ·ï¼Œä¸åœ¨ä¹ä½ ä¿®ç‚¼äº†å‡ åå¹´è¿˜æ˜¯å‡ ç™¾å¹´ï¼Œä¹Ÿä¸åœ¨ä¹ä½ å°‘æ—æ­¦å½“å¨¥çœ‰æ‹œäº†å¤šå°‘é—¨æ´¾ï¼Œå…³é”®æ˜¯ä½ æœ‰æ²¡æœ‰æŠŠä¸€é—¨æ­¦è‰ºç‚¼åˆ°å‡ºç¥å…¥åŒ–çš„å¢ƒç•Œã€‚å­¦æ­¦è‰ºï¼Œæœ€å¿Œè®³æ€»æƒ³ç€å»è¿½æ±‚å¤§è€Œå…¨ï¼Œä½ è¦æ˜ç™½ï¼Œå…¶å®åªéœ€è¦â€œæ‰“ç‹—æ£æ³•â€è¿™ä¹ˆä¸€æ‹›ï¼Œå°±è¶³å¤Ÿä½ æŒèˆµä¸å¸®ï¼Œå—ç”¨ç»ˆç”Ÿã€‚ -å¤©ä¸‹æ­¦åŠŸå‡ºå°‘æ—ï¼Œå¤©ä¸‹è¯­è¨€å‡ºæ±‡ç¼– æå‡åŠŸåŠ›å¤§ä½æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€æ˜¯è‡ªå·±ä¸æ–­å†™ä»£ç ï¼Œä¸æ–­å®Œå–„ï¼Œä¸æ–­æŠŠè‡ªå·±çš„ä»£ç å†™å¥½ï¼ŒäºŒæ˜¯çœ‹ç‰›äººçš„ä»£ç ã€‚ç‰›äººçš„ä»£ç å®åœ¨å¤ªé«˜æ·±äº†ï¼Œä¸€å¥çœ‹ä¼¼å¹³å‡¡çš„è¯­å¥ï¼Œä¹Ÿè®¸èƒŒåéƒ½è•´å«ç€æƒŠå¤©åœ°æ³£é¬¼ç¥çš„æ™ºæ…§ã€‚ç°åœ¨ä½ çœ‹ä¸å‡ºä»€ä¹ˆç«¯å€ªï¼Œç­‰åå¹´å…«å¹´ä¹‹åï¼Œä½ çŒ›ç„¶é†’æ‚Ÿï¼šå•Šï¼ŒåŸæ¥å¤§ç‰›çš„ä»£ç ç«Ÿæ˜¯å¦‚æ­¤åšå¤§ç²¾æ·±ï¼ å¯¹ç”·äººæ¥è¯´é’±ä»€ä¹ˆéƒ½ä¸æ˜¯ï¼Œä½†æ˜¯ä½ æ²¡é’±ï¼Œä½ å°±å¤±å»äº†è®©å¥¹äº†è§£ä½ çš„æœºä¼šã€‚å¯¹å¥³äººæ¥è¯´æ¼‚äº®ä»€ä¹ˆéƒ½ä¸æ˜¯ï¼Œä½†æ˜¯ä½ ä¸æ¼‚äº®ï¼Œä½ å°±å¤±å»äº†è®©ä»–äº†è§£ä½ çš„æœºä¼šã€‚ äººä¸æ€•è¢«è¯†ç ´ä¹Ÿä¸æ€•ä¸¢è„¸ï¼Œæ€•å°±æ€•è¢«å½“åœºè¯†ç ´å’Œå½“ä¼—ä¸¢è„¸ã€‚ã€‚ åŠ›çš„ä½œç”¨æ˜¯ç›¸äº’çš„ï¼Œä½ æ‰“åˆ«äººæœ‰å¤šç–¼ï¼Œè‡ªå·±çš„æ‰‹å°±æœ‰å¤šç–¼ã€‚ä¸å…¶å¤§å®¶éƒ½ç–¼ï¼Œè¿˜ä¸å¦‚æœ€å¼€å§‹å°±ä¸è¦ä¸‹æ‰‹æ‰“ã€‚ æ¯ä¸ªäººéƒ½æœŸç›¼ç€ä¾¿å®œèƒ½å…‰é¡¾åˆ°è‡ªå·±ï¼Œå°±ç®—æ²¡æœ‰æ­£å„¿å…«ç»åœ°æƒ³ï¼Œå¤šå¤šå°‘å°‘ä¹Ÿå·å·çš„æƒ³è¿‡ï¼Œä½†æ˜¯æœ‰å¤©ä¾¿å®œçœŸçš„æ¥äº†ï¼Œå¯è¦å°å¿ƒäº†ã€‚ å†™ç¨‹åºå¹¶ä¸æ˜¯ä¸€è¾ˆå­éƒ½åªæ˜¯å†™ä»£ç ã€‚ITè¿™ä¸€è¡Œæ˜¯ç›¸å½“å¹¿åšçš„ï¼Œä¸ç®¡ä½ æ˜¯ç”·çš„è¿˜æ˜¯å¥³çš„ï¼Œä¸ç®¡ä½ æŠ€æœ¯æ˜¯åˆçº§ã€ä¸­çº§è¿˜æ˜¯é«˜çº§ï¼Œä½ éƒ½èƒ½åœ¨è¿™è¡Œä¸­æ‰¾åˆ°ä½ è‡ªå·±åˆé€‚çš„ä½ç½®ã€‚å¦‚æœä½ çœŸçš„ç”¨å¿ƒäº†ï¼Œå®ƒå¸¦ç»™ä½ çš„ä¼šæ˜¯ä¸€ç”Ÿçš„å›æŠ¥ã€‚ ç”·äººçš„å·¥èµ„ï¼Œå’Œå¥³äººçš„å¹´é¾„å·®ä¸å¤šã€‚æ²¡é’±çš„æ—¶å€™ï¼Œæœ€å¿Œè®³åˆ«äººè¿½é—®è‡ªå·±çš„å·¥èµ„å¾…é‡ã€‚å¯ç”·äººçš„å·¥èµ„ï¼Œåˆå’Œå¥³äººçš„å¹´é¾„ä¸ä¸€æ ·ã€‚å¥³äººè¦æ˜¯å¹´è½»ï¼Œåˆ«äººé—®å¥¹å¹´é¾„ï¼Œå¥¹è‡ªç„¶æ•¢å¤§æ–¹åœ°å›ç­”ã€‚ç”·äººçš„å·¥èµ„å‘¢ï¼Ÿè¦æ˜¯é«˜äº†ï¼Œè¿˜æ˜¯æ€•åˆ«äººè¿½é—®ã€‚ â€œç–¯ç‹‚çš„ç¨‹åºå‘˜â€ç»å¯¹ä¸æ˜¯é ç‹‚å¦„å’Œæ‹¼å‘½çš„ç¨‹åºå‘˜ï¼Œè€Œæ˜¯èƒ½å¤Ÿè„šè¸å®åœ°ã€æŒç»­åŠªåŠ›çš„ç¨‹åºå‘˜ã€‚ä¸€ä¸ªç¨‹åºå‘˜çœŸæ­£åšåˆ°äº†è¿™ä¸¤ç‚¹ï¼ŒæŠ€æœ¯ä¸Šå»ä¹‹åï¼Œå”¯ä¸€èƒ½å¤Ÿé™åˆ¶ä»–çš„åªæœ‰æƒ³åƒåŠ›ï¼Œåˆ°é‚£ä¸ªæ—¶å€™ï¼Œæ‰ç®—â€œç–¯ç‹‚çš„ç¨‹åºå‘˜â€ï¼Œè¿™ç§ç¨‹åºå‘˜å•Šï¼Œæ‰èƒ½ä»¤ç«äº‰å¯¹æ‰‹æ— æ¯”ææƒ§ã€‚ æŠ€æœ¯å…¶å®è¿˜æ˜¯æˆ‘ä»¬æœ€éœ€è¦çš„ä¸œè¥¿ï¼Œä»¥å‰æˆ‘ä»¬æ²¡æœ‰è¿‡ç¡¬çš„æŠ€æœ¯ï¼Œæ‰€ä»¥ç–¯ç‹‚åœ°è¿½æ±‚å®ƒã€‚ç°åœ¨å‘¢ï¼Ÿæœ‰äº†ä¸€ç‚¹æŠ€æœ¯ï¼Œä¾¿è§‰å¾—æŠ€æœ¯ä¸é‚£ä¹ˆé‡è¦ã€‚å¦‚æœè¿™æ ·æ”¾ä»»ä¸‹å»ï¼Œç­‰åˆ°æˆ‘ä»¬å¤±å»æŠ€æœ¯çš„é‚£ä¸€å¤©ï¼Œä¸€å®šä¼šåæ‚”è«åŠçš„ï¼","categories":[{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://yuanzi222.com/categories/è¯»ä¹¦ç¬”è®°/"}],"tags":[{"name":"éšç¬”","slug":"éšç¬”","permalink":"https://yuanzi222.com/tags/éšç¬”/"}],"keywords":[{"name":"è¯»ä¹¦ç¬”è®°","slug":"è¯»ä¹¦ç¬”è®°","permalink":"https://yuanzi222.com/categories/è¯»ä¹¦ç¬”è®°/"}]},{"title":"Javaå°†Officeæ–‡ä»¶è½¬æ¢ä¸ºPDFæ–‡ä»¶çš„ä¸‰ç§æ–¹æ³•","slug":"Javaå°†Officeæ–‡ä»¶è½¬æ¢ä¸ºPDFæ–‡ä»¶çš„ä¸‰ç§æ–¹æ³•","date":"2016-10-15T03:49:13.000Z","updated":"2020-01-15T07:48:39.167Z","comments":true,"path":"Javaå°†Officeæ–‡ä»¶è½¬æ¢ä¸ºPDFæ–‡ä»¶çš„ä¸‰ç§æ–¹æ³•.html","link":"","permalink":"https://yuanzi222.com/Javaå°†Officeæ–‡ä»¶è½¬æ¢ä¸ºPDFæ–‡ä»¶çš„ä¸‰ç§æ–¹æ³•.html","excerpt":"","text":"æ–¹æ³•1.poiè¯»å–doc + itextç”Ÿæˆpdf ï¼ˆå®ç°æœ€æ–¹ä¾¿ï¼Œæ•ˆæœæœ€å·®ï¼Œè·¨å¹³å°ï¼‰æ–¹æ³•2.jodconverter + openOffice ï¼ˆä¸€èˆ¬æ ¼å¼å®ç°æ•ˆæœè¿˜è¡Œï¼Œå¤æ‚æ ¼å¼å®¹æ˜“æœ‰é”™ä½ï¼Œè·¨å¹³å°ï¼‰æ–¹æ³•3.jacob + msOfficeWord + SaveAsPDFandXPS ï¼ˆå®Œç¾ä¿æŒåŸdocæ ¼å¼ï¼Œæ•ˆç‡æœ€æ…¢ï¼Œåªèƒ½åœ¨windowsç¯å¢ƒä¸‹è¿›è¡Œï¼‰ ç”±äºæ–¹æ³•1æ•ˆæœæ¯”è¾ƒå·®ï¼Œæœ¬æ–‡åªä»‹ç»åä¸¤ç§æ–¹æ³• æ–¹æ³•2ï¼šä½¿ç”¨jodconverteræ¥è°ƒç”¨openOfficeçš„æœåŠ¡æ¥è½¬æ¢ï¼ŒopenOfficeæœ‰ä¸ªå„ä¸ªå¹³å°çš„ç‰ˆæœ¬ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•è·Ÿæ–¹æ³•1ä¸€æ ·éƒ½æ˜¯è·¨å¹³å°çš„ã€‚ jodconverterçš„ä¸‹è½½åœ°å€ï¼šhttp://www.artofsolving.com/opensource/jodconverter pomæ–‡ä»¶æ·»åŠ ä¾èµ–ï¼š &lt;dependency> &lt;groupId>org.artofsolving.jodconverter&lt;/groupId> &lt;artifactId>jodconverter-core&lt;/artifactId> &lt;version>3.0-beta-4-jahia2&lt;/version> &lt;/dependency> å®‰è£…openOfficeï¼Œä¸‹è½½åœ°å€ï¼šhttp://www.openoffice.org/download/index.htmlå®‰è£…å®Œåè¦å¯åŠ¨openOfficeçš„æœåŠ¡ application.propertiesé…ç½®æ–‡ä»¶ #openOfficeå®‰è£…ç›®å½• office.home=E:\\\\Program Files (x86)\\\\OpenOffice\\\\OpenOffice 4 ä»£ç  import java.io.File; import java.io.UnsupportedEncodingException; import java.util.ResourceBundle; import org.artofsolving.jodconverter.OfficeDocumentConverter; import org.artofsolving.jodconverter.office.DefaultOfficeManagerConfiguration; import org.artofsolving.jodconverter.office.OfficeManager; /** * @Description:jodconverter + openOffice * ï¼ˆä¸€èˆ¬æ ¼å¼å®ç°æ•ˆæœè¿˜è¡Œï¼Œå¤æ‚æ ¼å¼å®¹æ˜“æœ‰é”™ä½ï¼Œè·¨å¹³å°ï¼‰ * å¿…é¡»å®‰è£…openOffice * @author xueyya * @date:2016å¹´3æœˆ16æ—¥ ä¸Šåˆ9:26:57 */ public class JodConverter { /** * @Description:æ ¹æ®æ–‡ä»¶ç±»å‹è½¬æ¢ä¸ºpdf * @author xueyya * @date:2016å¹´3æœˆ16æ—¥ ä¸Šåˆ9:16:47 * @param inputFile * @param pdfFile void * @throws UnsupportedEncodingException */ public static void convert2PDF(File inputFile, File pdfFile) { OfficeManager officeManager = null; try { long start = System.currentTimeMillis(); DefaultOfficeManagerConfiguration config = new DefaultOfficeManagerConfiguration(); ResourceBundle resource = ResourceBundle.getBundle(\"application\"); String officeHome = resource.getString(\"office.home\"); officeHome = new String(officeHome.getBytes(\"ISO-8859-1\"), \"utf-8\"); config.setOfficeHome(officeHome); officeManager = config.buildOfficeManager(); officeManager.start(); OfficeDocumentConverter converter = new OfficeDocumentConverter(officeManager); System.out.println(\"è½¬æ¢æ–‡æ¡£åˆ°PDF...\" + pdfFile.getPath()); converter.convert(inputFile, pdfFile); long end = System.currentTimeMillis(); System.out.println(\"è½¬æ¢å®Œæˆ..ç”¨æ—¶ï¼š\" + (end - start) + \"ms.\"); } catch (Exception e) { System.out.println(e.getMessage()); } finally { if (officeManager != null) { officeManager.stop(); } } } } æ–¹æ³•3ï¼šæ•ˆæœæœ€å¥½çš„ä¸€ç§æ–¹æ³•ï¼Œä½†æ˜¯éœ€è¦windowç¯å¢ƒï¼Œè€Œä¸”é€Ÿåº¦æ˜¯æœ€æ…¢çš„ï¼Œéœ€è¦å®‰è£…msofficeWordä»¥åŠSaveAsPDFandXPS.exe(wordçš„ä¸€ä¸ªæ’ä»¶ï¼Œç”¨æ¥æŠŠwordè½¬åŒ–ä¸ºpdf) Officeç‰ˆæœ¬ä¸ºoffice2007åŠä»¥ä¸Šï¼Œå› ä¸ºSaveAsPDFandXPSæ˜¯å¾®è½¯ä¸ºoffice2007åŠä»¥ä¸Šç‰ˆæœ¬å¼€å‘çš„æ’ä»¶SaveAsPDFandXPSä¸‹è½½åœ°å€ï¼šhttp://www.microsoft.com/zh-cn/download/details.aspx?id=7 æœ‰Microsoft Officeè½¯ä»¶çš„å¯ä»¥ä¸å®‰è£…SaveAsPDFandXPSï¼ŒOfficeè½¯ä»¶ä¼šè‡ªå¸¦æ’ä»¶ jacob åŒ…ä¸‹è½½åœ°å€ï¼šhttp://sourceforge.net/projects/jacob-project/æ³¨æ„ ï¼šæŠŠä¸‹è½½çš„JARé‡Œé¢çš„jacob.dllæ‹·è´è‡³%JAVA_HOME%\\jre\\binç›®å½•ï¼ˆä¸æ”¾ä¼šæŠ¥é”™ï¼šjava.lang.NoClassDefFoundError: Could not initialize class com.jacob.com.Dispatchï¼‰ pomæ–‡ä»¶æ·»åŠ ä¾èµ–ï¼š &lt;dependency> &lt;groupId>net.sf.jacob-project&lt;/groupId> &lt;artifactId>jacob&lt;/artifactId> &lt;version>1.18&lt;/version> &lt;/dependency> ä»£ç  import java.io.File; import com.jacob.activeX.ActiveXComponent; import com.jacob.com.ComThread; import com.jacob.com.Dispatch; import com.jacob.com.Variant; /** * @Description:jacob + msOfficeWord + SaveAsPDFandXPS * ï¼ˆå®Œç¾ä¿æŒåŸdocæ ¼å¼ï¼Œæ•ˆç‡æœ€æ…¢ï¼Œåªèƒ½åœ¨windowsç¯å¢ƒä¸‹è¿›è¡Œï¼‰ * è€Œä¸”é€Ÿåº¦æ˜¯æœ€æ…¢çš„éœ€è¦å®‰è£…msofficeWordä»¥åŠSaveAsPDFandXPS.exe * (wordçš„ä¸€ä¸ªæ’ä»¶ï¼Œç”¨æ¥æŠŠwordè½¬åŒ–ä¸ºpdf) * æœ‰Officeè½¯ä»¶ä¹Ÿè¡Œ,è‡ªå¸¦ä¸Šé¢æ’ä»¶ * æŠŠä¸‹è½½çš„JARé‡Œé¢çš„jacob.dllæ‹·è´è‡³%JAVA_HOME%\\jre\\binç›®å½• * @author xueyya * @date:2016å¹´3æœˆ15æ—¥ ä¸‹åˆ3:35:08 */ public class Jacob { /** è½¬PDFæ ¼å¼å€¼ */ static final int WORD_FORMAT_PDF = 17; static final int EXCEL_FORMAT_PDF = 0; static final int PPT_FORMAT_PDF = 32; /** * @Description:æ ¹æ®æ–‡ä»¶ç±»å‹è½¬æ¢ä¸ºpdf * @author xueyya * @date:2016å¹´3æœˆ16æ—¥ ä¸Šåˆ9:16:47 * @param inputFile * @param pdfFile void */ public static void convert2PDF(String inputFile, String pdfFile) { String suffix = getFileSufix(inputFile); if (suffix.equals(\"doc\") || suffix.equals(\"docx\") || suffix.equals(\"txt\")) { word2PDF(inputFile, pdfFile); } else if (suffix.equals(\"xls\") || suffix.equals(\"xlsx\")) { excel2PDF(inputFile, pdfFile); } else if (suffix.equals(\"ppt\") || suffix.equals(\"pptx\")) { ppt2PDF(inputFile, pdfFile); } else { System.out.println(\"æ–‡ä»¶æ ¼å¼ä¸æ”¯æŒè½¬æ¢!\"); } } /** * @Description:wordè½¬pdf * @author xueyya * @date:2016å¹´3æœˆ15æ—¥ ä¸‹åˆ4:07:49 * @param inputFile void * @param pdfFile */ private static void word2PDF(String inputFile, String pdfFile) { System.out.println(\"å¯åŠ¨Word...\"); long start = System.currentTimeMillis(); ActiveXComponent app = null; Dispatch doc = null; try { // åˆ›å»ºä¸€ä¸ªwordå¯¹è±¡ app = new ActiveXComponent(\"Word.Application\"); // ä¸å¯è§æ‰“å¼€word app.setProperty(\"Visible\", new Variant(false)); // è·å–æ–‡æŒ¡å±æ€§ Dispatch docs = app.getProperty(\"Documents\").toDispatch(); // è°ƒç”¨Documentså¯¹è±¡ä¸­Openæ–¹æ³•æ‰“å¼€æ–‡æ¡£ï¼Œå¹¶è¿”å›æ‰“å¼€çš„æ–‡æ¡£å¯¹è±¡Document doc = Dispatch.call(docs, \"Open\", inputFile).toDispatch(); System.out.println(\"æ‰“å¼€æ–‡æ¡£...\" + inputFile); System.out.println(\"è½¬æ¢æ–‡æ¡£åˆ°PDF...\" + pdfFile); File tofile = new File(pdfFile); if(tofile.exists()) { tofile.delete(); } // wordä¿å­˜ä¸ºpdfæ ¼å¼å®ï¼Œå€¼ä¸º17 Dispatch.call(doc, \"SaveAs\", pdfFile, WORD_FORMAT_PDF); long end = System.currentTimeMillis(); System.out.println(\"è½¬æ¢å®Œæˆ..ç”¨æ—¶ï¼š\" + (end - start) + \"ms.\"); } catch (Exception e) { System.out.println(\"========Error:æ–‡æ¡£è½¬æ¢å¤±è´¥ï¼š\" + e.getMessage()); } finally { Dispatch.call(doc, \"Close\", false); System.out.println(\"å…³é—­æ–‡æ¡£\"); if (app != null) app.invoke(\"Quit\", new Variant[] {}); } //å¦‚æœæ²¡æœ‰è¿™å¥è¯,winword.exeè¿›ç¨‹å°†ä¸ä¼šå…³é—­ ComThread.Release(); } /** * @Description:excelè½¬pdf * @author xueyya * @date:2016å¹´3æœˆ15æ—¥ ä¸‹åˆ4:07:49 * @param inputFile void * @param pdfFile */ private static void excel2PDF(String inputFile, String pdfFile) { System.out.println(\"å¯åŠ¨Excel...\"); long start = System.currentTimeMillis(); ActiveXComponent app = null; Dispatch excel = null; try { // åˆ›å»ºä¸€ä¸ªexcelå¯¹è±¡ app = new ActiveXComponent(\"Excel.Application\"); // ä¸å¯è§æ‰“å¼€excel app.setProperty(\"Visible\", new Variant(false)); // è·å–æ–‡æŒ¡å±æ€§ Dispatch excels = app.getProperty(\"Workbooks\").toDispatch(); // è°ƒç”¨Documentså¯¹è±¡ä¸­Openæ–¹æ³•æ‰“å¼€æ–‡æ¡£ï¼Œå¹¶è¿”å›æ‰“å¼€çš„æ–‡æ¡£å¯¹è±¡Document excel = Dispatch.call(excels, \"Open\", inputFile).toDispatch(); System.out.println(\"æ‰“å¼€æ–‡æ¡£...\" + inputFile); System.out.println(\"è½¬æ¢æ–‡æ¡£åˆ°PDF...\" + pdfFile); File tofile = new File(pdfFile); if(tofile.exists()) { tofile.delete(); } // Excelä¸èƒ½è°ƒç”¨SaveAsæ–¹æ³• Dispatch.call(excel, \"ExportAsFixedFormat\", EXCEL_FORMAT_PDF, pdfFile); long end = System.currentTimeMillis(); System.out.println(\"è½¬æ¢å®Œæˆ..ç”¨æ—¶ï¼š\" + (end - start) + \"ms.\"); } catch (Exception e) { System.out.println(\"========Error:æ–‡æ¡£è½¬æ¢å¤±è´¥ï¼š\" + e.getMessage()); } finally { Dispatch.call(excel, \"Close\", false); System.out.println(\"å…³é—­æ–‡æ¡£\"); if (app != null) app.invoke(\"Quit\", new Variant[] {}); } //å¦‚æœæ²¡æœ‰è¿™å¥è¯,winword.exeè¿›ç¨‹å°†ä¸ä¼šå…³é—­ ComThread.Release(); } /** * @Description:pptè½¬pdf * @author xueyya * @date:2016å¹´3æœˆ15æ—¥ ä¸‹åˆ4:07:49 * @param inputFile void * @param pdfFile */ private static void ppt2PDF(String inputFile, String pdfFile) { System.out.println(\"å¯åŠ¨PPT...\"); long start = System.currentTimeMillis(); ActiveXComponent app = null; Dispatch ppt = null; try { // åˆ›å»ºä¸€ä¸ªpptå¯¹è±¡ app = new ActiveXComponent(\"PowerPoint.Application\"); // ä¸å¯è§æ‰“å¼€ï¼ˆPPTè½¬æ¢ä¸è¿è¡Œéšè—ï¼Œæ‰€ä»¥è¿™é‡Œè¦æ³¨é‡Šæ‰ï¼‰ // app.setProperty(\"Visible\", new Variant(false)); // è·å–æ–‡æŒ¡å±æ€§ Dispatch ppts = app.getProperty(\"Presentations\").toDispatch(); // è°ƒç”¨Documentså¯¹è±¡ä¸­Openæ–¹æ³•æ‰“å¼€æ–‡æ¡£ï¼Œå¹¶è¿”å›æ‰“å¼€çš„æ–‡æ¡£å¯¹è±¡Document ppt = Dispatch.call(ppts, \"Open\", inputFile, true, true, false).toDispatch(); System.out.println(\"æ‰“å¼€æ–‡æ¡£...\" + inputFile); System.out.println(\"è½¬æ¢æ–‡æ¡£åˆ°PDF...\" + pdfFile); File tofile = new File(pdfFile); if(tofile.exists()) { tofile.delete(); } Dispatch.call(ppt, \"SaveAs\", pdfFile, PPT_FORMAT_PDF); long end = System.currentTimeMillis(); System.out.println(\"è½¬æ¢å®Œæˆ..ç”¨æ—¶ï¼š\" + (end - start) + \"ms.\"); } catch (Exception e) { System.out.println(\"========Error:æ–‡æ¡£è½¬æ¢å¤±è´¥ï¼š\" + e.getMessage()); } finally { Dispatch.call(ppt, \"Close\"); System.out.println(\"å…³é—­æ–‡æ¡£\"); if (app != null) app.invoke(\"Quit\", new Variant[] {}); } //å¦‚æœæ²¡æœ‰è¿™å¥è¯,winword.exeè¿›ç¨‹å°†ä¸ä¼šå…³é—­ ComThread.Release(); } /** * @Description:è·å–æ–‡ä»¶åç¼€ * @author xueyya * @date:2016å¹´3æœˆ16æ—¥ ä¸Šåˆ9:01:53 * @param fileName * @return String */ private static String getFileSufix(String fileName) { int splitIndex = fileName.lastIndexOf(\".\"); return fileName.substring(splitIndex + 1); } }","categories":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}],"tags":[{"name":"Officeè½¬PDF","slug":"Officeè½¬PDF","permalink":"https://yuanzi222.com/tags/Officeè½¬PDF/"}],"keywords":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}]},{"title":"Markdownä»£ç å—æ”¯æŒçš„è¯­è¨€","slug":"Markdownä»£ç å—æ”¯æŒçš„è¯­è¨€","date":"2016-09-25T08:35:12.000Z","updated":"2020-01-09T09:34:23.385Z","comments":true,"path":"Markdownä»£ç å—æ”¯æŒçš„è¯­è¨€.html","link":"","permalink":"https://yuanzi222.com/Markdownä»£ç å—æ”¯æŒçš„è¯­è¨€.html","excerpt":"","text":"æ”¯æŒé«˜äº®æ˜¾ç¤ºçš„è¯­è¨€æ”¯æŒçš„è¯­è¨€ï¼š1c, abnf, accesslog, actionscript, ada, apache, applescript, arduino, armasm, asciidoc, aspectj, autohotkey, autoit, avrasm, awk, axapta, bash, basic, bnf, brainfuck, cal, capnproto, ceylon, clean, clojure, clojure-repl, cmake, coffeescript, coq, cos, cpp, crmsh, crystal, cs, csp, css, d, dart, delphi, diff, django, dns, dockerfile, dos, dsconfig, dts, dust, ebnf, elixir, elm, erb, erlang, erlang-repl, excel, fix, flix, fortran, fsharp, gams, gauss, gcode, gherkin, glsl, go, golo, gradle, groovy, haml, handlebars, haskell, haxe, hsp, htmlbars, http, hy, inform7, ini, irpf90, java, javascript, json, julia, kotlin, lasso, ldif, leaf, less, lisp, livecodeserver, livescript, llvm, lsl, lua, makefile, markdown, mathematica, matlab, maxima, mel, mercury, mipsasm, mizar, mojolicious, monkey, moonscript, n1ql, nginx, nimrod, nix, nsis, objectivec, ocaml, openscad, oxygene, parser3, perl, pf, php, pony, powershell, processing, profile, prolog, protobuf, puppet, purebasic, python, q, qml, r, rib, roboconf, rsl, ruby, ruleslanguage, rust, scala, scheme, scilab, scss, smali, smalltalk, sml, sqf, sql, stan, stata, step21, stylus, subunit, swift, taggerscript, tap, tcl, tex, thrift, tp, twig, typescript, vala, vbnet, vbscript, vbscript-html, verilog, vhdl, vim, x86asm, xl, xml, xquery, yaml, zephir åç§° å…³é”®å­— è°ƒç”¨çš„js è¯´æ˜ AppleScript applescript shBrushAppleScript.js ActionScript 3.0 actionscript3 , as3 shBrushAS3.js Shell bash , shell shBrushBash.js ColdFusion coldfusion , cf shBrushColdFusion.js C cpp , c shBrushCpp.js C# c# , c-sharp , csharp shBrushCSharp.js CSS css shBrushCss.js Delphi delphi , pascal , pas shBrushDelphi.js diff&amp;patch diff patch shBrushDiff.js ç”¨ä»£ç ç‰ˆæœ¬åº“æ—¶,é‡åˆ°ä»£ç å†²çª,å…¶è¯­æ³•å°±æ˜¯è¿™ä¸ª. Erlang erl , erlang shBrushErlang.js Groovy groovy shBrushGroovy.js Java java shBrushJava.js JavaFX jfx , javafx shBrushJavaFX.js JavaScript js , jscript , javascript shBrushJScript.js Perl perl , pl , Perl shBrushPerl.js PHP php shBrushPhp.js text text , plain shBrushPlain.js å°±æ˜¯æ™®é€šæ–‡æœ¬. Python py , python shBrushPython.js Ruby ruby , rails , ror , rb shBrushRuby.js SASS&amp;SCSS sass , scss shBrushSass.js Scala scala shBrushScala.js SQL sql shBrushSql.js Visual Basic vb , vbnet shBrushVb.js XML xml , xhtml , xslt , html shBrushXml.js Objective C objc , obj-c shBrushObjectiveC.js F# f# f-sharp , fsharp shBrushFSharp.js xpp , dynamics-xpp shBrushDynamics.js R r , s , splus shBrushR.js matlab matlab shBrushMatlab.js swift swift shBrushSwift.js GO go , golang shBrushGo.js ç”¨æ³• ```javaä»£ç å—```","categories":[{"name":"Markdown","slug":"Markdown","permalink":"https://yuanzi222.com/categories/Markdown/"}],"tags":[{"name":"Markdown","slug":"Markdown","permalink":"https://yuanzi222.com/tags/Markdown/"}],"keywords":[{"name":"Markdown","slug":"Markdown","permalink":"https://yuanzi222.com/categories/Markdown/"}]},{"title":"EclipseæŠ¤çœ¼èƒŒæ™¯è®¾ç½®","slug":"EclipseæŠ¤çœ¼èƒŒæ™¯è®¾ç½®","date":"2016-07-21T03:26:12.000Z","updated":"2020-01-02T03:28:22.323Z","comments":true,"path":"EclipseæŠ¤çœ¼èƒŒæ™¯è®¾ç½®.html","link":"","permalink":"https://yuanzi222.com/EclipseæŠ¤çœ¼èƒŒæ™¯è®¾ç½®.html","excerpt":"","text":"Windows -&gt; Preference -&gt; General -&gt; Editors -&gt; Test Editorså³ä¸‹è§’Appearance color optionsï¼Œé€‰ä¸­background colorï¼Œå‹¾æ‰System Defaultï¼Œç‚¹å‡»â€™colorâ€™é¢œè‰²å—ï¼Œè®¾ç½®ä¸ºï¼šè‰²è°ƒï¼š85ã€‚é¥±å’Œåº¦ï¼š123ã€‚äº®åº¦ï¼š205 å³å¯ï¼Œæ®è¯´é•¿æ—¶é—´ä½¿ç”¨å¯ä»¥ç¼“è§£çœ¼ç–²åŠ³å“¦ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}],"tags":[{"name":"Eclipse","slug":"Eclipse","permalink":"https://yuanzi222.com/tags/Eclipse/"}],"keywords":[{"name":"Java","slug":"Java","permalink":"https://yuanzi222.com/categories/Java/"}]},{"title":"ä½¿ç”¨Hexo+Githubä¸€æ­¥æ­¥æ­å»ºå±äºè‡ªå·±çš„åšå®¢","slug":"ä½¿ç”¨Hexo+Githubä¸€æ­¥æ­¥æ­å»ºå±äºè‡ªå·±çš„åšå®¢","date":"2016-07-21T03:26:12.000Z","updated":"2020-01-09T07:55:22.817Z","comments":true,"path":"ä½¿ç”¨Hexo+Githubä¸€æ­¥æ­¥æ­å»ºå±äºè‡ªå·±çš„åšå®¢.html","link":"","permalink":"https://yuanzi222.com/ä½¿ç”¨Hexo+Githubä¸€æ­¥æ­¥æ­å»ºå±äºè‡ªå·±çš„åšå®¢.html","excerpt":"","text":"1. å®‰è£…Node.jså’Œé…ç½®å¥½Node.jsç¯å¢ƒæ‰“å¼€cmdå‘½ä»¤è¡Œ: node -v 2. å®‰è£…Gitå’Œé…ç½®å¥½Gitç¯å¢ƒ3. Githubè´¦æˆ·æ³¨å†Œå’Œæ–°å»ºé¡¹ç›®é¡¹ç›®å¿…é¡»è¦éµå®ˆæ ¼å¼ï¼šè´¦æˆ·å.github.ioï¼Œä¸ç„¶æ¥ä¸‹æ¥ä¼šæœ‰å¾ˆå¤šéº»çƒ¦ã€‚å¹¶ä¸”éœ€è¦å‹¾é€‰Initialize this repository with a README 4. å®‰è£…Hexocd E:\\develop\\hexo è¾“å…¥npm install hexo-cli -gï¼Œå¼€å§‹å®‰è£…Hexo è¾“å…¥hexo -vï¼Œæ£€æŸ¥hexoæ˜¯å¦å®‰è£…æˆåŠŸ è¾“å…¥hexo initï¼Œåˆå§‹åŒ–è¯¥æ–‡ä»¶å¤¹ è¾“å…¥npm installï¼Œå®‰è£…æ‰€éœ€è¦çš„ç»„ä»¶ è¾“å…¥hexo gï¼Œé¦–æ¬¡ä½“éªŒHexo è¾“å…¥hexo sï¼Œå¼€å¯æœåŠ¡å™¨ï¼Œè®¿é—®è¯¥ç½‘å€ï¼Œæ­£å¼ä½“éªŒHexo é—®é¢˜ï¼šå‡å¦‚é¡µé¢ä¸€ç›´æ— æ³•è·³è½¬ï¼Œé‚£ä¹ˆå¯èƒ½ç«¯å£è¢«å ç”¨äº†ã€‚æ­¤æ—¶æˆ‘ä»¬ctrl+cåœæ­¢æœåŠ¡å™¨ï¼Œæ¥ç€è¾“å…¥â€œhexo server -p ç«¯å£å·â€æ¥æ”¹å˜ç«¯å£å· 5. Hexoé…ç½®Gitæ‰“å¼€åšå®¢ç›®å½•ä¸‹é¢çš„é…ç½®æ–‡ä»¶_config.yml deploy: type: git repo: git@github.com:yuanzi222/yuanzi222.github.io.git branch: master message: 6. ç”Ÿæˆé™æ€æ–‡ä»¶å¹¶ä¸”éƒ¨ç½²åˆ°æœåŠ¡å™¨hexo g -d 7. å¸¸ç”¨hexoå‘½ä»¤hexo new \"postName\" #æ–°å»ºæ–‡ç«  hexo new page \"pageName\" #æ–°å»ºé¡µé¢ hexo generate #ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½• hexo server #å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œ'ctrl + c'å…³é—­serverï¼‰ hexo deploy #éƒ¨ç½²åˆ°GitHub hexo help # æŸ¥çœ‹å¸®åŠ© hexo version #æŸ¥çœ‹Hexoçš„ç‰ˆæœ¬ ç¼©å†™ï¼š hexo n == hexo new hexo g == hexo generate hexo s == hexo server hexo d == hexo deploy ç»„åˆå‘½ä»¤ï¼š hexo s -g #ç”Ÿæˆå¹¶æœ¬åœ°é¢„è§ˆ hexo d -g #ç”Ÿæˆå¹¶ä¸Šä¼  hexo g &amp;&amp; gulp #å‹ç¼©ç”Ÿæˆ å®‰è£…nextä¸»é¢˜: git clone https://github.com/theme-next/hexo-theme-next themes/next æ³¨æ„: CNAMEæ–‡ä»¶åœ¨ä¸‹æ¬¡ hexo deployçš„æ—¶å€™å°±æ¶ˆå¤±äº†ï¼Œéœ€è¦é‡æ–°åˆ›å»ºï¼Œè¿™æ ·å°±å¾ˆç¹ç æ–¹æ³•ä¸€ï¼šæ¯æ¬¡ hexo d ä¹‹åï¼Œå°±å» GitHub ä»“åº“æ ¹ç›®å½•æ–°å»º CNAMEæ–‡ä»¶ æ–¹æ³•äºŒï¼šåœ¨ hexo g ä¹‹åï¼Œ hexo d ä¹‹å‰ï¼ŒæŠŠCNAMEæ–‡ä»¶å¤åˆ¶åˆ° â€œ\\public\\â€ ç›®å½•ä¸‹é¢ï¼Œé‡Œé¢å†™å…¥ä½ è¦ç»‘å®šçš„åŸŸåã€‚ æ–¹æ³•ä¸‰ï¼ˆæ¨èï¼‰ï¼šå°†éœ€è¦ä¸Šä¼ è‡³githubçš„å†…å®¹æ”¾åœ¨sourceæ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚CNAMEã€favicon.icoã€imagesç­‰ï¼Œè¿™æ ·åœ¨ hexo d ä¹‹åå°±ä¸ä¼šè¢«åˆ é™¤äº†ã€‚ æ–¹æ³•å››ï¼šé€šè¿‡å®‰è£…æ’ä»¶å®ç°æ°¸ä¹…ä¿ç•™ npm install hexo-generator-cname --save ä¹‹ååœ¨_config.ymlä¸­æ·»åŠ ä¸€æ¡ Plugins: hexo-generator-cname éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå¦‚æœæ˜¯åœ¨githubä¸Šå»ºç«‹çš„CNAMEæ–‡ä»¶ï¼Œéœ€è¦å…ˆcloneåˆ°æœ¬åœ°ï¼Œç„¶åå®‰è£…æ’ä»¶ï¼Œåœ¨deployä¸Šå»å³å¯ã€‚CNAMEåªå…è®¸ä¸€ä¸ªåŸŸååœ°å€ã€‚ 8. æ·»åŠ åˆ†ç±»æ¨¡å— æ–°å»ºä¸€ä¸ªåˆ†ç±»é¡µé¢ hexo new page categories ä½ ä¼šå‘ç°ä½ çš„sourceæ–‡ä»¶å¤¹ä¸‹æœ‰äº†categorcies/index.mdï¼Œæ‰“å¼€index.mdä¿®æ”¹ä¸º: --- title: categories date: 2018-07-27 10:57:39 type: \"categories\" comments: false --- æ‰“å¼€ ä¸»é¢˜é…ç½®æ–‡ä»¶æ‰¾åˆ°menuï¼Œå°†categorcieså–æ¶ˆæ³¨é‡Š æŠŠæ–‡ç« å½’å…¥åˆ†ç±»åªéœ€åœ¨æ–‡ç« çš„é¡¶éƒ¨æ ‡é¢˜ä¸‹æ–¹æ·»åŠ categorieså­—æ®µï¼Œå³å¯è‡ªåŠ¨åˆ›å»ºåˆ†ç±»åå¹¶åŠ å…¥å¯¹åº”çš„åˆ†ç±»ä¸­ ä¸¾ä¸ªæ —å­ï¼š title: åˆ†ç±»æµ‹è¯•æ–‡ç« æ ‡é¢˜ categories: åˆ†ç±»å 9. æ·»åŠ æ ‡ç­¾æ¨¡å— æ–°å»ºä¸€ä¸ªæ ‡ç­¾é¡µé¢: hexo new page tags ä½ ä¼šå‘ç°ä½ çš„sourceæ–‡ä»¶å¤¹ä¸‹æœ‰äº†tags/index.mdï¼Œæ‰“å¼€index.mdä¿®æ”¹ä¸º: --- title: tags date: 2018-07-27 10:59:57 type: \"tags\" comments: false --- æ‰“å¼€ ä¸»é¢˜é…ç½®æ–‡ä»¶ æ‰¾åˆ°menuï¼Œå°†tagså–æ¶ˆæ³¨é‡Š æŠŠæ–‡ç« æ·»åŠ æ ‡ç­¾åªéœ€åœ¨æ–‡ç« çš„é¡¶éƒ¨æ ‡é¢˜ä¸‹æ–¹æ·»åŠ tagså­—æ®µï¼Œå³å¯è‡ªåŠ¨åˆ›å»ºæ ‡ç­¾åå¹¶å½’å…¥å¯¹åº”çš„æ ‡ç­¾ä¸­ ä¸¾ä¸ªæ —å­ï¼š title: æ ‡ç­¾æµ‹è¯•æ–‡ç« æ ‡é¢˜ tags: - æ ‡ç­¾1 - æ ‡ç­¾2 ... 10. æ·»åŠ å…³äºæ¨¡å— æ–°å»ºä¸€ä¸ªå…³äºé¡µé¢: hexo new page about ä½ ä¼šå‘ç°ä½ çš„sourceæ–‡ä»¶å¤¹ä¸‹æœ‰äº†about/index.mdï¼Œæ‰“å¼€index.mdæ–‡ä»¶å³å¯ç¼–è¾‘å…³äºä½ çš„ä¿¡æ¯ï¼Œå¯ä»¥éšä¾¿ç¼–è¾‘ã€‚ æ‰“å¼€ ä¸»é¢˜é…ç½®æ–‡ä»¶ æ‰¾åˆ°menuï¼Œå°†aboutå–æ¶ˆæ³¨é‡Š 11. å¤´åƒè®¾ç½® æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶æ‰¾åˆ°Sidebar Avatarå­—æ®µ # Sidebar Avatar avatar: url: /images/header.jpg è¿™æ˜¯å¤´åƒçš„è·¯å¾„ï¼Œåªéœ€æŠŠä½ çš„å¤´åƒå‘½åä¸ºheader.jpgï¼ˆéšä¾¿å‘½åï¼‰æ”¾å…¥themes/next/source/imagesä¸­ï¼Œå°†avatarçš„è·¯å¾„åæ”¹æˆä½ çš„å¤´åƒåå°±OKå•¦ï¼ å®ç°å¤´åƒæ—‹è½¬æ‰“å¼€\\themes\\next\\source\\css_common\\components\\sidebar\\sidebar-author.stylï¼Œåœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š .site-author-image { display: block; margin: 0 auto; padding: $site-author-image-padding; max-width: $site-author-image-width; height: $site-author-image-height; border: $site-author-image-border-width solid $site-author-image-border-color; /* å¤´åƒåœ†å½¢ */ border-radius: 80px; -webkit-border-radius: 80px; -moz-border-radius: 80px; box-shadow: inset 0 -1px 0 #333sf; /* è®¾ç½®å¾ªç¯åŠ¨ç”» [animation: (play)åŠ¨ç”»åç§° (2s)åŠ¨ç”»æ’­æ”¾æ—¶é•¿å•ä½ç§’æˆ–å¾®ç§’ (ase-out)åŠ¨ç”»æ’­æ”¾çš„é€Ÿåº¦æ›²çº¿ä¸ºä»¥ä½é€Ÿç»“æŸ (1s)ç­‰å¾…1ç§’ç„¶åå¼€å§‹åŠ¨ç”» (1)åŠ¨ç”»æ’­æ”¾æ¬¡æ•°(infiniteä¸ºå¾ªç¯æ’­æ”¾) ]*/ /* é¼ æ ‡ç»è¿‡å¤´åƒæ—‹è½¬360åº¦ */ -webkit-transition: -webkit-transform 1.0s ease-out; -moz-transition: -moz-transform 1.0s ease-out; transition: transform 1.0s ease-out; } img:hover { /* é¼ æ ‡ç»è¿‡åœæ­¢å¤´åƒæ—‹è½¬ -webkit-animation-play-state:paused; animation-play-state:paused;*/ /* é¼ æ ‡ç»è¿‡å¤´åƒæ—‹è½¬360åº¦ */ -webkit-transform: rotateZ(360deg); -moz-transform: rotateZ(360deg); transform: rotateZ(360deg); } /* Z è½´æ—‹è½¬åŠ¨ç”» */ @-webkit-keyframes play { 0% { -webkit-transform: rotateZ(0deg); } 100% { -webkit-transform: rotateZ(-360deg); } } @-moz-keyframes play { 0% { -moz-transform: rotateZ(0deg); } 100% { -moz-transform: rotateZ(-360deg); } } @keyframes play { 0% { transform: rotateZ(0deg); } 100% { transform: rotateZ(-360deg); } } 12. è®¾ç½®RSS å…ˆå®‰è£… hexo-generator-feed æ’ä»¶ npm install hexo-generator-feed --save æ‰“å¼€ç«™ç‚¹é…ç½®æ–‡ä»¶æ‰¾åˆ°Extensionsåœ¨ä¸‹é¢æ·»åŠ  # RSSè®¢é˜… feed: type: atom path: atom.xml limit: 20 hub: content: content_limit: 140 content_limit_delim: ' ' æ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶æ‰¾åˆ°rssï¼Œè®¾ç½®ä¸º rss: /atom.xml 13. åœ¨ç½‘ç«™åº•éƒ¨åŠ ä¸Šè®¿é—®é‡ æ·»åŠ æ˜¯å¦å¼€å¯ç»Ÿè®¡åŠŸèƒ½çš„é…ç½® æ‰¾åˆ°nextä¸»é¢˜çš„é…ç½®æ–‡ä»¶themes/next/_config.yml footer: # ------------------------------------------------------------- # visitors count counter: true ä¿®æ”¹nextä¸»é¢˜çš„æ¨¡æ¿æ–‡ä»¶theme/next/layout/_partials/footer.swig,æˆ‘ä»¬åœ¨åˆé€‚çš„ä½ç½®åŠ å…¥ï¼š &lt;!-- åœ¨ç½‘ç«™åº•éƒ¨åŠ ä¸Šè®¿é—®é‡å’Œå­—æ•° --> {% if theme.footer.counter %} &lt;script async src=\"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js\">&lt;/script> &lt;span class=\"site-pv\" title=\"æ€»è®¿é—®é‡\"> &lt;i class=\"fa fa-eye\">&lt;/i> &lt;span class=\"busuanzi-value\" id=\"busuanzi_container_site_pv\">æ€»è®¿é—®é‡ï¼š&lt;span id=\"busuanzi_value_site_pv\">&lt;/span>æ¬¡&lt;/span> &lt;/span> &lt;span class=\"post-meta-divider\">|&lt;/span> &lt;span class=\"site-uv-md\" title=\"æ€»è®¿å®¢\"> &lt;i class=\"fa fa-user\">&lt;/i> &lt;span class=\"busuanzi-value\" id=\"busuanzi_container_site_uv\">æ€»è®¿å®¢ï¼š&lt;span id=\"busuanzi_value_site_uv\">&lt;/span>äºº&lt;/span> &lt;/span> &lt;span class=\"post-meta-divider\">|&lt;/span> {% endif %} ä¸è’œå­æœ‰ä¸¤ç§ç»Ÿè®¡æ–¹æ³•ï¼š pvçš„æ–¹å¼ï¼Œå•ä¸ªç”¨æˆ·è¿ç»­ç‚¹å‡»nç¯‡æ–‡ç« ï¼Œè®°å½•næ¬¡è®¿é—®é‡ &lt;span id=\"busuanzi_container_site_pv\"> æ€»è®¿é—®é‡ï¼š &lt;span id=\"busuanzi_value_site_pv\">&lt;/span> æ¬¡ &lt;/span> uvçš„æ–¹å¼ï¼Œå•ä¸ªç”¨æˆ·è¿ç»­ç‚¹å‡»nç¯‡æ–‡ç« ï¼Œåªè®°å½•1æ¬¡è®¿å®¢æ•° &lt;span id=\"busuanzi_container_site_uv\"> æ€»è®¿å®¢ï¼š &lt;span id=\"busuanzi_value_site_uv\">&lt;/span> äºº &lt;/span> 14. æ·»åŠ çƒ­åº¦ã€æœ¬æ–‡å­—æ•°å’Œé˜…è¯»æ—¶é•¿ /themes/next/layout/_macro/post.swig: &lt;span class=\"busuanzi-value\" id=\"busuanzi_value_page_pv\" >&lt;/span> &lt;span>â„ƒ&lt;/span> 2 ./themes/next/languages/zh-CN.yml post: views: çƒ­åº¦ å®‰è£…æ’ä»¶: npm install hexo-symbols-count-time --save åœ¨å…¨å±€é…ç½®æ–‡ä»¶ä¸­æ·»åŠ : symbols_count_time: symbols: true time: true 15. ç½‘ç«™åº•éƒ¨å­—æ•°ç»Ÿè®¡1.å®‰è£…æ’ä»¶: npm install hexo-wordcount --save 2.åœ¨/themes/next/layout/_partials/footer.swigæ–‡ä»¶å°¾éƒ¨åŠ ä¸Šï¼š &lt;div class=\"theme-info\"> &lt;i class=\"fa fa-pencil\">&lt;/i> &lt;span class=\"post-count\">åšå®¢å…¨ç«™å…±{{ totalcount(site) }}å­—&lt;/span> &lt;/div> 3.æ–‡ç« å­—æ•°ç»Ÿè®¡:åœ¨ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½®å¦‚ä¸‹ï¼š # Post wordcount display settings # Dependencies: https://github.com/willin/hexo-wordcount post_wordcount: item_text: true wordcount: true min2read: true 16. æ·»åŠ é¡¶éƒ¨åŠ è½½æ¡ åœ¨/themes/next/layout/_partials/head.swigä¸­æ·»åŠ ä»£ç : &lt;script src=\"//cdn.bootcss.com/pace/1.0.2/pace.min.js\">&lt;/script> &lt;link href=\"//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css\" rel=\"stylesheet\"> ä½†æ˜¯ï¼Œé»˜è®¤çš„æ˜¯ç²‰è‰²çš„ï¼Œè¦æ”¹å˜é¢œè‰²å¯ä»¥åœ¨/themes/next/layout/_partials/head.swigæ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼ˆæ¥åœ¨åˆšæ‰linkçš„åé¢ï¼‰ &lt;style> .pace .pace-progress { background: #1E92FB; /*è¿›åº¦æ¡é¢œè‰²*/ height: 3px; } .pace .pace-progress-inner { box-shadow: 0 0 10px #1E92FB, 0 0 5px #1E92FB; /*é˜´å½±é¢œè‰²*/ } .pace .pace-activity { border-top-color: #1E92FB; /*ä¸Šè¾¹æ¡†é¢œè‰²*/ border-left-color: #1E92FB; /*å·¦è¾¹æ¡†é¢œè‰²*/ } &lt;/style> ç°åœ¨å‡çº§æœ€æ–°ç‰ˆçš„nextä¸»é¢˜ï¼Œå‡çº§ååªéœ€ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶(_config.yml)å°†pace: falseæ”¹ä¸ºpace: trueå°±è¡Œäº†ï¼Œä½ è¿˜å¯ä»¥æ¢ä¸åŒæ ·å¼çš„åŠ è½½æ¡ï¼Œ pace: true pace_theme: pace-theme-minimal å°†æ¨¡å—å®‰è£…åˆ°themes/next/source/lib/paceç›®å½•ï¼š git clone https://github.com/theme-next/theme-next-pace themes/next/source/lib/pace 17. åœ¨å³ä¸Šè§’æˆ–è€…å·¦ä¸Šè§’å®ç°fork me on githubåœ¨http://tholman.com/github-corners/æŒ‘é€‰è‡ªå·±å–œæ¬¢çš„æ ·å¼ï¼Œå¹¶å¤åˆ¶ä»£ç ç„¶åç²˜è´´åˆšæ‰å¤åˆ¶çš„ä»£ç åˆ°themes/next/layout/_layout.swigæ–‡ä»¶ä¸­(æ”¾åœ¨çš„ä¸‹é¢)ï¼Œå¹¶æŠŠhrefæ”¹ä¸ºä½ çš„githubåœ°å€ 18. åšæ–‡å‹ç¼© å®‰è£…æ’ä»¶: npm install gulp -g npm install gulp-minify-css gulp-uglify gulp-htmlmin gulp-htmlclean gulp --save åœ¨æ ¹ç›®å½•æ–°å»ºgulpfile.js ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š var gulp = require('gulp'); var minifycss = require('gulp-minify-css'); var uglify = require('gulp-uglify'); var htmlmin = require('gulp-htmlmin'); var htmlclean = require('gulp-htmlclean'); // å‹ç¼© public ç›®å½• css gulp.task('minify-css', function() { return gulp.src('./public/**/*.css') .pipe(minifycss()) .pipe(gulp.dest('./public')); }); // å‹ç¼© public ç›®å½• html gulp.task('minify-html', function() { return gulp.src('./public/**/*.html') .pipe(htmlclean()) .pipe(htmlmin({ removeComments: true, minifyJS: true, minifyCSS: true, minifyURLs: true, })) .pipe(gulp.dest('./public')) }); // å‹ç¼© public/js ç›®å½• js gulp.task('minify-js', function() { return gulp.src('./public/**/*.js') .pipe(uglify()) .pipe(gulp.dest('./public')); }); // æ‰§è¡Œ gulp å‘½ä»¤æ—¶æ‰§è¡Œçš„ä»»åŠ¡ gulp.task('default', [ 'minify-html','minify-css','minify-js' ]); ç”Ÿæˆåšæ–‡æ˜¯æ‰§è¡Œ hexo g &amp;&amp; gulp å°±ä¼šæ ¹æ® gulpfile.js ä¸­çš„é…ç½®ï¼Œå¯¹ public ç›®å½•ä¸­çš„é™æ€èµ„æºæ–‡ä»¶è¿›è¡Œå‹ç¼©ã€‚ 19. DaoVoiceå®ç°åœ¨çº¿è”ç³»1.åœ¨http://www.daovoice.io/æ³¨å†Œç”¨æˆ·,éœ€è¦é‚€è¯·ç : a43e7bc3 å¤åˆ¶ç²˜è´´å°±å¯ä»¥äº†~! 2.åœ¨hexo\\themes\\next\\layout_partials\\head\\head.swigæ·»åŠ ä¸‹é¢çš„ä»£ç : {% if theme.daovoice %} &lt;script>(function(i,s,o,g,r,a,m){i[\"DaoVoiceObject\"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=\"utf-8\";m.parentNode.insertBefore(a,m)})(window,document,\"script\",('https:' == document.location.protocol ? 'https:' : 'http:') + \"//widget.daovoice.io/widget/a43e7bc3.js\",\"daovoice\") daovoice('init', { app_id: \"{{theme.daovoice_app_id}}\" }); daovoice('update'); &lt;/script> {% endif %} åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ·»åŠ : # daovoiceåœ¨çº¿è”ç³» daovoice: true daovoice_app_id: ä½ çš„daovoiceåº”ç”¨app_id å®‰è£…æˆåŠŸåå¯ä»¥åœ¨DaoVoiceæ§åˆ¶å°ä¸Šçš„èŠå¤©è®¾ç½®é‡Œè®¾ç½®èŠå¤©çª—å£æ ·å¼ï¼Œé™„ä¸Šæˆ‘çš„è®¾ç½®: è·ç¦»å³ä¾§åƒç´ å€¼ï¼š20.0 è·ç¦»ä¸‹ä¾§åƒç´ å€¼ï¼š80.0 20. æ·»åŠ åˆ†äº«åŠŸèƒ½ä¸»é¢˜é…ç½®æ–‡ä»¶æ·»åŠ : baidushare: type: button baidushare: true ä»£ç åœ¨: /hexo/themes/next/layout/_macro/post.swig 21. æ·»åŠ è¯„è®ºåŠŸèƒ½ æ‰“å¼€LeanCloudå®˜ç½‘ https://leancloud.cn æ³¨å†Œç”¨æˆ· ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶: valine: enable: true appid: ä½ çš„LeanCloudåº”ç”¨appid appkey: ä½ çš„LeanCloudåº”ç”¨appkey notify: false # mail notifier , https://github.com/xCss/Valine/wiki verify: false # Verification code placeholder: è€é“ï¼Œä½ ä¸æƒ³è¯´ä¸¤å¥å—? avatar: wavatar guest_info: nick,mail,link pageSize: 10 22. æ·»åŠ ä¾§è¾¹æ å‹æƒ…é“¾æ¥ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š # Blog rolls links_icon: link links_title: å‹æƒ…é“¾æ¥ # links_layout: block links_layout: inline links: Webå‰ç«¯å¯¼èˆª: http://www.alloyteam.com/nav/ åˆ›é€ ç‹®å¯¼èˆª: http://www.chuangzaoshi.com/code å‰ç«¯ä¹¦ç±èµ„æ–™: http://www.36zhen.com/t?id=3448 æ˜é‡‘é…±: http://e.xitu.io/ V2EX: https://www.v2ex.com/ å°è®°ä¸­æ–‡: https://www.v2ex.com/ 23. æ·»åŠ ä¾§è¾¹æ ç¤¾äº¤é“¾æ¥åœ¨å›¾æ ‡åº“ https://fontawesome.com/icons é€‰æ‹©å›¾æ ‡,ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼š social: GitHub: https://github.com/yuanzi222 || github E-Mail: mailto:yuanzi_222@126.com || envelope 24. è®¾ç½®é¦–é¡µä¸æ˜¾ç¤ºå…¨æ–‡(åªæ˜¾ç¤ºé¢„è§ˆ)ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶: auto_excerpt: enable: true length: 150 25. SEOä¼˜åŒ– é¦–å…ˆç»™ä½ çš„æ–‡ç« ç”Ÿæˆsitemapæ–‡ä»¶ npm install hexo-generator-sitemap --save #sitemap.xmlé€‚åˆæäº¤ç»™è°·æ­Œæœç´ å¼•æ“ npm install hexo-generator-baidu-sitemap --save #baidusitemap.xmlé€‚åˆæäº¤ç™¾åº¦æœç´¢å¼•æ“ ç„¶ååœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶_config.ymlä¸­æ·»åŠ ä»¥ä¸‹ä»£ç  # è‡ªåŠ¨ç”Ÿæˆsitemap sitemap: path: sitemap.xml baidusitemap: path: baidusitemap.xml ä¼˜åŒ–ç»“æ„ seoæœç´¢å¼•æ“ä¼˜åŒ–è®¤ä¸ºï¼Œç½‘ç«™çš„æœ€ä½³ç»“æ„æ˜¯ç”¨æˆ·ä»é¦–é¡µç‚¹å‡»ä¸‰æ¬¡å°±å¯ä»¥åˆ°è¾¾ä»»ä½•ä¸€ä¸ªé¡µé¢ï¼Œä½†æ˜¯æˆ‘ä»¬ä½¿ç”¨hexoç¼–è¯‘çš„ç«™ç‚¹æ‰“å¼€æ–‡ç« çš„urlæ˜¯ï¼šsitename/year/mounth/day/titleå››å±‚çš„ç»“æ„ï¼Œè¿™æ ·çš„urlç»“æ„å¾ˆä¸åˆ©äºseoï¼Œçˆ¬è™«å°±ä¼šç»å¸¸çˆ¬ä¸åˆ°æˆ‘ä»¬çš„æ–‡ç« ï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å°†urlç›´æ¥æ”¹æˆsitename/titleçš„å½¢å¼ï¼Œå¹¶ä¸”titleæœ€å¥½æ˜¯ç”¨è‹±æ–‡ï¼Œåœ¨æ ¹ç›®å½•çš„é…ç½®æ–‡ä»¶ä¸‹ä¿®æ”¹permalinkå¦‚ä¸‹ï¼š url: http://ä½ çš„ç½‘ç«™ root: / permalink: :title.html permalink_defaults: nofollowæ ‡ç­¾ ç»™éå‹æƒ…é“¾æ¥çš„å‡ºç«™é“¾æ¥æ·»åŠ  â€œnofollowâ€ æ ‡ç­¾ï¼Œnofollowæ ‡ç­¾æ˜¯ç”±è°·æ­Œé¢†å¤´åˆ›æ–°çš„ä¸€ä¸ªâ€œååƒåœ¾é“¾æ¥â€çš„æ ‡ç­¾ï¼Œå¹¶è¢«ç™¾åº¦ã€yahooç­‰å„å¤§æœç´¢å¼•æ“å¹¿æ³›æ”¯æŒï¼Œå¼•ç”¨nofollowæ ‡ç­¾çš„ç›®çš„æ˜¯ï¼šç”¨äºæŒ‡ç¤ºæœç´¢å¼•æ“ä¸è¦è¿½è¸ªï¼ˆå³æŠ“å–ï¼‰ç½‘é¡µä¸Šçš„å¸¦æœ‰nofollowå±æ€§çš„ä»»ä½•å‡ºç«™é“¾æ¥ï¼Œä»¥å‡å°‘åƒåœ¾é“¾æ¥çš„åˆ†æ•£ç½‘ç«™æƒé‡ã€‚ å®‰è£…nofollowæ’ä»¶: npm install hexo-autonofollow --save ç«™ç‚¹é…ç½®æ–‡ä»¶_config.ymlæ·»åŠ : nofollow: enable: true exclude: - yuanzi.com robots.txtæ–‡ä»¶ åœ¨sourceæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ–‡ä»¶robots.txt: # hexo robots.txt User-agent: * Allow: / Allow: /archives/ Disallow: /vendors/ Disallow: /js/ Disallow: /css/ Disallow: /fonts/ Disallow: /vendors/ Disallow: /fancybox/ Sitemap: https://www.yuanzi222.com/sitemap.xml Sitemap: https://www.yuanzi222.com/baidusitemap.xml éªŒè¯ç½‘è¯ æˆ‘ä»¬åˆ°ç™¾åº¦ç«™é•¿å¹³å° https://ziyuan.baidu.com/dashboard/index é‡Œé¢çš„ç«™é•¿å·¥å…·é‡Œé¢å»éªŒè¯ç½‘ç«™ï¼Œå¤§æ¦‚æ­¥éª¤å¦‚ä¸‹ï¼š ç¬¬ä¸€æ­¥ï¼šè¾“å…¥ç½‘ç«™ ç¬¬äºŒæ­¥ï¼šç«™ç‚¹å±æ€§ ç¬¬ä¸‰æ­¥ï¼šéªŒè¯ç½‘ç«™ å‰ä¸¤æ­¥éƒ½å¾ˆç®€å•ï¼Œç¬¬ä¸‰æ­¥ï¼šéªŒè¯ç½‘ç«™æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹æ³•ï¼š æ–‡ä»¶éªŒè¯ HTMLæ ‡ç­¾éªŒè¯ CNAMEéªŒè¯ è¿™é‡Œæˆ‘ä»¬é€‰æ‹©CNAMEéªŒè¯çš„æ–¹æ³•ï¼ŒåŠ ä¸€æ¡è§£æ é“¾æ¥æäº¤ é“¾æ¥æäº¤æœ‰æ‰‹åŠ¨å’Œè‡ªåŠ¨ä¸¤ç§æ–¹æ³•ï¼Œæ‰‹åŠ¨å°±æ˜¯æ¯æ¬¡ä½ æœ‰æ–°çš„é“¾æ¥ç”Ÿæˆï¼Œä½ å°±éœ€è¦æ‰‹åŠ¨æäº¤é“¾æ¥åˆ°ç™¾åº¦ï¼Œè¿™ç§æ–¹æ³•å¤ªéº»çƒ¦äº†ï¼Œä¸ä½¿ç”¨ã€‚ è‡ªåŠ¨æäº¤æœ‰ä¸‰ç§æ–¹å¼ï¼š ä¸»åŠ¨æ¨é€(å®æ—¶) è‡ªåŠ¨æ¨é€ sitemap è¿™é‡Œæˆ‘ä»¬é€‰æ‹©sitemapæ–¹å¼ã€‚ å®‰è£…hexoçš„sitemapç½‘ç«™åœ°å›¾ç”Ÿæˆæ’ä»¶: npm install hexo-generator-baidu-sitemap --save åœ¨ä½ çš„hexoç«™ç‚¹çš„_config.ymlæ·»åŠ ä¸‹é¢çš„ä»£ç  # hexo sitemapç½‘ç«™åœ°å›¾ baidusitemap: path: baidusitemap.xml é…ç½®æˆåŠŸåï¼Œhexoç¼–è¯‘æ—¶ä¼šåœ¨hexoç«™ç‚¹æ ¹ç›®å½•ç”Ÿæˆbaidusitemap.xmlï¼Œéƒ¨ç½²ç½‘ç«™åï¼Œæäº¤åˆ°ç™¾åº¦ï¼š 26. æ–‡ç« ç½®é¡¶+ç½®é¡¶æ ‡ç­¾ ç›®å‰å·²ç»æœ‰ä¿®æ”¹åæ”¯æŒç½®é¡¶çš„ä»“åº“ï¼Œå¯ä»¥ç›´æ¥ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£…ã€‚ npm uninstall hexo-generator-index --save npm install hexo-generator-index-pin-top --save ç„¶ååœ¨éœ€è¦ç½®é¡¶çš„æ–‡ç« çš„Front-matterä¸­åŠ ä¸Štop: trueå³å¯ã€‚æ¯”å¦‚ä¸‹é¢è¿™ç¯‡æ–‡ç« ï¼š --- title: ä½¿ç”¨Hexo+Githubä¸€æ­¥æ­¥æ­å»ºå±äºè‡ªå·±çš„åšå®¢ date: 2018-07-21 11:26:12 categories: hexo tags: [hexo] top: true --- è®¾ç½®ç½®é¡¶æ ‡å¿— æ‰“å¼€ï¼š/blog/themes/next/layout/_macro ç›®å½•ä¸‹çš„post.swigæ–‡ä»¶ï¼Œå®šä½åˆ°æ ‡ç­¾ä¸‹ï¼Œæ’å…¥å¦‚ä¸‹ä»£ç ï¼š {% if post.top %} &lt;i class=\"fa fa-thumb-tack\">&lt;/i> &lt;font color=\"7D26CD\">ç½®é¡¶&lt;/font> &lt;span class=\"post-meta-divider\">|&lt;/span> {% endif %} 27. è®¾ç½®skip_render,æŒ‡å®šä¸è¿›è¡Œæ¸²æŸ“çš„æ–‡ä»¶skip_render: - google74022f6cb5756d17.htm","categories":[{"name":"Hexo","slug":"Hexo","permalink":"https://yuanzi222.com/categories/Hexo/"}],"tags":[{"name":"Hexo","slug":"Hexo","permalink":"https://yuanzi222.com/tags/Hexo/"}],"keywords":[{"name":"Hexo","slug":"Hexo","permalink":"https://yuanzi222.com/categories/Hexo/"}]}]}